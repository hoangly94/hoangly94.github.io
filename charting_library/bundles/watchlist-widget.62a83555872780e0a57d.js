(window.webpackJsonp=window.webpackJsonp||[]).push([["watchlist-widget"],{"+GaQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("q1tI");function i(e){if(e.map){return s.Children.toArray(e.children).map(e.map)}return e.children}},"0W35":function(e,t,n){"use strict";var s=n("q1tI"),i=n("17x9");class o extends s.PureComponent{constructor(){super(...arguments),this._subscriptions=new Set,this._getName=()=>this.props.name,this._getValues=()=>this.props.values,this._getOnChange=()=>this.props.onChange,this._subscribe=e=>{this._subscriptions.add(e)},this._unsubscribe=e=>{this._subscriptions.delete(e)}}getChildContext(){return{switchGroupContext:{getName:this._getName,getValues:this._getValues,getOnChange:this._getOnChange,subscribe:this._subscribe,unsubscribe:this._unsubscribe}}}render(){return this.props.children}componentDidUpdate(e){this._notify(this._getUpdates(this.props.values,e.values))}_notify(e){this._subscriptions.forEach(t=>t(e))}_getUpdates(e,t){return[...t,...e].filter(n=>t.includes(n)?!e.includes(n):e.includes(n))}}function a(e){var t;return(t=class extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.context.switchGroupContext.getOnChange()(e)},this._onUpdate=e=>{e.includes(this.props.value)&&this.forceUpdate()}}componentDidMount(){this.context.switchGroupContext.subscribe(this._onUpdate)}render(){return s.createElement(e,Object.assign({},this.props,{name:this._getName(),onChange:this._onChange,checked:this._isChecked()}))}componentWillUnmount(){this.context.switchGroupContext.unsubscribe(this._onUpdate)}_getName(){return this.context.switchGroupContext.getName()}_isChecked(){return this.context.switchGroupContext.getValues().includes(this.props.value)}}).contextTypes={switchGroupContext:i.any.isRequired},t}o.childContextTypes={switchGroupContext:i.any.isRequired},n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}))},"0wn8":function(e,t,n){},"1KmC":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="none"><circle stroke="#F44336" cx="6" cy="6" r="5.5"/><path fill="#F44336" d="M4.267 8.636l.31-.73c.159.11.355.2.59.274.238.071.45.107.638.107.33 0 .597-.084.798-.253a.806.806 0 0 0 .302-.646.945.945 0 0 0-.17-.542c-.11-.17-.391-.353-.841-.551l-.501-.218c-.425-.185-.722-.404-.892-.657-.167-.254-.251-.559-.251-.915 0-.433.164-.792.493-1.077C5.07 3.143 5.493 3 6.008 3c.689 0 1.167.104 1.436.313l-.25.689a2.019 2.019 0 0 0-.519-.222 2.21 2.21 0 0 0-.645-.107c-.29 0-.517.077-.684.23a.77.77 0 0 0-.246.59c0 .148.03.283.089.404.06.121.141.223.246.305.108.082.326.197.654.345l.51.225c.425.188.722.412.892.674.173.258.259.588.259.99 0 .435-.188.805-.565 1.109C6.811 8.848 6.31 9 5.681 9c-.552 0-1.023-.121-1.414-.364z"/></svg>'},"2TBc":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("Eyy1");class i{constructor(e){this._activeBroker=null,this._trading=e,this._trading.onConnectionStatusChange.subscribe(this,this._onStatusChange),this._onStatusChange(this._trading.connectStatus())}activeBroker(){
return this._activeBroker}trading(){return this._trading}_stopService(){this.stopService(),Object(s.ensureNotNull)(this._activeBroker).currentAccountUpdate.unsubscribeAll(this)}_startService(){this.startService(),Object(s.ensureNotNull)(this._activeBroker).currentAccountUpdate.subscribe(this,this._onCurrentAccountUpdate)}_onStatusChange(e){const t=this._trading.activeBroker();this._activeBroker===t&&1===e||(null!==this._activeBroker&&(this._stopService(),this._activeBroker=null),null!==t&&1===e&&(this._activeBroker=t,this._startService(),this._lastAccountId=t.currentAccount()))}_onCurrentAccountUpdate(){const e=Object(s.ensureNotNull)(this._activeBroker);this._lastAccountId!==e.currentAccount()&&(this.stopService(),this.startService(),this._lastAccountId=e.currentAccount())}}},"39J6":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("q1tI"),i=n("6KyJ"),o=n("Oy6E");function a(e){return s.createElement("div",{className:o.spinnerWrap},s.createElement(i.a,null))}},"3EM8":function(e,t,n){"use strict";n.r(t);var s=n("ANjH"),i=n("/MKj"),o=n("q1tI"),a=n.n(o),r=n("TSYQ"),l=n.n(r),c=n("Eyy1"),u=n("YFKU"),d=(n("ehHn"),n("N5tr")),h=n("Iivm"),m=(n("bSeV"),n("fZEr"));function b(e,t,n){Object(o.useRef)(null);Object(o.useEffect)(()=>()=>{0},[e.current,t,n])}var p=n("JWMC"),f=n("ndO8"),g=n("nPPD"),v=n("1pWb"),_=n("To8B"),y=n("505C"),w=n("kHSl"),O=n("sW9H");const j=Object(g.a)(d.a,w),E=Object(g.a)(d.a,O);var x=n("1O7s"),S=n("9oVN"),I=n("NyG/");function k(e){return(t,n)=>{const s=n();{const n=Object(c.ensureNotNull)(Object(S.c)(s,e));t(Object(I.removeWatchlistThunk)(null,n))}}}const C=Object(i.connect)(null,(function(e){return Object(s.bindActionCreators)({removeWatchList:k,selectWatchList:x.selectSymbolListThunk},e)}))((function(e){const{watchList:t,selectWatchList:n,removeWatchList:s,hideRemoveButton:i,isActive:r,isSmallSize:g,onSelect:w}=e,{size:O}=Object(o.useContext)(f.a),{color:x=null}=t,S=t.symbols.filter(e=>!Object(v.b)(e)).length,I=Object(o.useRef)(null),k=!i&&!r&&null===x;b(I,x,y.flag);let C=t.name;return C||(C=Object(u.t)("Watchlist")),a.a.createElement(d.b,{key:t.id,theme:g?E:j,className:l()(y.item,r&&y.active,1===O&&y.small,!k&&y.countVisible),label:a.a.createElement("div",null,a.a.createElement("span",{className:y.title,ref:I},C),g&&a.a.createElement("span",{className:y.count},`${S} ${Object(u.t)("symbols")}`)),toolbox:a.a.createElement(a.a.Fragment,null,k&&a.a.createElement(h.a,{className:l()(y.removeButton,y.toolboxItem,Modernizr.touch&&y.touch,g&&y.small),icon:_,onClick:function(){const e=t.name||getColoredListTitle(Object(c.ensureDefined)(t.color)),n=Object(u.t)("Do you really want to delete Watchlist '{name}' ?").format({name:e});Object(m.showConfirm)({text:n,onConfirm:({dialogClose:e})=>{s(t.id),e()}}),Object(p.trackEvent)("Watchlist","Popup menu","Remove list")}}),a.a.createElement("span",{className:l()(y.toolboxCount,y.toolboxItem,(g||Modernizr.touch)&&y.touch)},S)),onClick:function(){var e;r||(n(null,null!==(e=t.color)&&void 0!==e?e:t.id),null==w||w(),
Object(p.trackEvent)("Watchlist","Popup menu","Change active list"))}})}));var M=n("KKsp"),N=n("PN6A"),T=n("39J6"),L=n("4q/x");function W(e){const{isLoading:t,list:n,current:s,isSmallSize:i,isReadonly:r,onSelect:l}=e,c=Object(o.useContext)(N.a);Object(o.useEffect)(()=>{c&&c.update()},[n]);const u=[];for(const o of n)u.push(o);return u.sort(L.c),a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(T.a,null),!t&&[[],u].map((e,t,n)=>e.length>0&&a.a.createElement(a.a.Fragment,{key:t},e.map(e=>a.a.createElement(C,{key:e.id,watchList:e,isActive:null!==s&&s.id===e.id,hideRemoveButton:1===u.length||r,isSmallSize:i,onSelect:l})),t!==n.length-1&&0!==e.length&&a.a.createElement(M.a,null))))}var P=n("mrSG"),R=n("82wv"),V=n("jXgp");const D=Object(g.a)(R.a,{button:V.button,hover:V.hover,isOpened:V.isOpened});function F(e){const{className:t,content:n}=e,s=Object(P.a)(e,["className","content"]);return a.a.createElement(R.b,Object.assign({},s,{theme:D,className:l()(t),content:a.a.createElement("span",{className:l()(V.inner)},n)}))}var B=n("X0gx"),A=n("M1X3"),z=n("qFKp"),H=n("OZBO"),q=n("2uTr"),U=n("p0W+"),J=n("WFbd");function K(e){const{targetSymbol:t,store:n,children:s,handleTargetSymbolRemoved:r}=e,[l,c]=Object(o.useState)(null),[u,d]=Object(o.useState)(t),[h,m]=Object(o.useState)(null),b=Object(o.useRef)(null),p=Object(o.useMemo)(()=>({selectedAction:l,setSelectedAction:e=>c(e),isSpreadOrMultipleMode:Q,addAfter:u,clearTargetSymbol:f,highlighted:h,highlight:g}),[l,c,u,h,m]);return Object(o.useEffect)(()=>()=>{null!==b.current&&clearTimeout(b.current)},[]),a.a.createElement(i.Provider,{store:n},a.a.createElement(J.a.Provider,{value:p},s));function f(){d(void 0),r()}function g(e){m(e),null!==b.current&&clearTimeout(b.current),b.current=setTimeout(()=>m(null),500)}}function Q(e,t){const n=!!t.current&&t.current.value.includes(",");return e||n}function G(e,t,n){return s=>a.a.createElement(K,Object.assign({},s,{store:e,targetSymbol:n,handleTargetSymbolRemoved:t}))}var $=n("J/x9"),Z=n("Z+Vr");function X(e,t){const n=Object(S.b)(e,Z.a),{fullSymbolName:s,isOffset:i,onExpandClick:o}=t,a=!1===i&&Boolean(o);return null===n||void 0===s||a?{}:{existInWatchlist:n.symbols.includes(s)}}function Y(e){return Object(s.bindActionCreators)({addToWatchlist:x.addSymbolsThunk,removeFromWatchlist:x.removeSymbolsThunk,findInWatchlist:x.findInWatchlistThunk},e)}function ee(e){return Object(s.bindActionCreators)({addToWatchlist:x.addSymbolsThunk,removeFromWatchlist:x.removeSymbolsThunk,findInWatchlist:x.findInWatchlistThunk},e)}var te=n("FA0h"),ne=n("VogD"),se=n("/3z9"),ie=n("tOje"),oe=n("F4Ha");function ae(e){const{icon:t,title:n,className:s,iconClassName:i}=e,o=Boolean(t);return a.a.createElement("span",{className:r(oe.button,o&&oe.withIcon,s)},n||a.a.createElement(h.a,{className:r(oe.buttonIcon,i),icon:t}))}var re=n("kHqV"),le=n("ZvhS");function ce(e){const{searchRef:t,searchSpreads:n}=Object(c.ensureNotNull)(Object(o.useContext)(ne.a)),{isSpreadOrMultipleMode:s}=Object(c.ensureNotNull)(Object(o.useContext)(J.a)),i=s(n,t)
;return a.a.createElement(ie.a,{className:le.footer},a.a.createElement("div",{className:le.shortcuts},i?a.a.createElement("div",{className:le.buttonGroup},a.a.createElement(ae,{title:"Enter",className:le.button})):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:le.buttonGroup},r(),"+",a.a.createElement(ae,{title:Object(u.t)("Click"),className:le.button})),Object(u.t)("or"),a.a.createElement("div",{className:le.buttonGroup},r(),"+",a.a.createElement(ae,{title:"Enter",className:le.button})))),a.a.createElement("div",{className:le.text},Object(u.t)("Add symbol and close dialog")));function r(){return se.isMacKeyboard?a.a.createElement(ae,{icon:re,className:l()(le.button,le.withIcon),iconClassName:le.icon}):a.a.createElement(ae,{title:"Shift",className:le.button})}}n("yihy");let ue=null;var de=n("JscH"),he=n("a9Kt"),me=n("+KIV"),be=n("GjMU"),pe=(n("npeR"),n("ErPA"),n("Tcl0")),fe=n("h6f+"),ge=n("VpFt"),ve=n("MBZW"),_e=n("tOD8");const ye=Object(g.a)(d.a,fe),we=Object(g.a)(d.a,ge);var Oe=n("aOxy");n.d(t,"Header",(function(){return je}));const je=Object(i.connect)((function(){const e=(e,t)=>{const n=Object(S.b)(e,t);return null===n?null:"custom"===n.type?{id:n.id,name:n.name,symbols:n.symbols,shared:n.shared}:null},t=e=>{const t=[];return t.push(...Object(S.d)(e)),t};return(n,s)=>{const{enableAddSymbolsByAnon:i,shouldDisplaySymbolSearch:o,isDeletable:a}=Object(S.q)(n,s.widgetId);return{isLoading:!Object(S.h)(n),enableAddSymbolsByAnon:i,shouldDisplaySymbolSearch:o,list:t(n),current:e(n,s.widgetId),columns:Object(S.a)(n,s.widgetId),isReadonly:!a}}}),(function(e){const t={createNewWatchList:x.userCreateWatchlistThunk,saveListAs:x.saveListAsThunk,renameWatchList:x.renameSymbolListThunk,clearWatchList:x.clearSymbolListThunk,getWatchLists:()=>Object(I.getCustomWatchlistsThunk)(null),addSymbols:x.addSymbolsThunk,updateWidget:Oe.updateWidget};return Object(s.bindActionCreators)(t,e)}))((function(e){var t;const{isLoading:n,list:s,current:l,getWatchLists:h,createNewWatchList:g,saveListAs:v,enableAddSymbolsByAnon:_,shouldDisplaySymbolSearch:y,renameWatchList:w,clearWatchList:O,addSymbols:j,widgetId:E,isReadonly:x,shareList:S}=e,{size:I}=Object(o.useContext)(f.a),k=Object(o.useContext)(B.a),{setHideClose:C}=Object(o.useContext)(H.a),N=Object(o.useRef)(null),[T,L]=(Object(o.useRef)(null),Object(o.useState)(!1)),P=Object(o.useRef)([]),R=Object(o.useRef)(void 0),V=Object(o.useRef)(null);V.current=function(){const e=P.current;P.current=[],R.current=void 0,!1;_?fe(e):Object(de.a)(()=>fe(e),{source:"add symbol to watchlist"})};const[D,J]=Object(o.useState)(!1);b(N,null!==(t=null==l?void 0:l.color)&&void 0!==t?t:null,_e.flag);const K=function(){const e=Object(u.t)("Watchlist");if(!l)return e;0;return l.name||e}(),Q=!(Object(z.onWidget)()||x&&1===s.length),Z=1===I,ne=Z?we:ye;return Object(o.useRef)(null),Object(o.useRef)(null),a.a.createElement("div",{className:r(_e.container,Z&&_e.mobile),onClick:function(){D||Z||k.fire()}},a.a.createElement(A.a,{name:K,isRenaming:T,onSubmit:function(e){ie(!1),null!==l&&w(l.id,e)},
onClose:function(){ie(!1)},maxLength:128},a.a.createElement(a.a.Fragment,null,Q?a.a.createElement(F,{className:r(Z&&_e.mobileMenu),onOpen:h,menuClassName:_e.watchlistMenu,content:a.a.createElement("span",{className:_e.titleRow},K,a.a.createElement("span",{ref:N})),isDrawer:Z,"data-name":"watchlists-button"},!x&&a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{key:"new",theme:ne,icon:he,label:Object(q.appendEllipsis)(Object(u.t)("Create new list")),onClick:function(){k.fire(),re(()=>g(null),"new"),ge("Create new list")}}),Oe(),a.a.createElement(M.a,null)),a.a.createElement(W,{isLoading:n,list:s,current:l,isSmallSize:Z,isReadonly:x,onSelect:Z?()=>k.fire():void 0})):a.a.createElement("div",{className:_e.title},Object(u.t)("Watchlist")),y&&!x&&a.a.createElement("div",{className:_e.buttonWrap},a.a.createElement(U.a,{title:Object(u.t)("Add symbol"),className:_e.headerButton,icon:ve,onClick:function(){(function(e){const{fullscreen:t,onSearchComplete:n,targetSymbol:s}=e;let o=!1;const r={dialogTitle:Object(u.t)("Add symbol"),fullscreen:t,onSearchComplete:e=>o?n(e):n(e,s)},l=()=>o=!0;Object($.initSymbolListService)().then(e=>{const t=ue=Object(te.a)().then(n=>{if(t!==ue)return;const{showSymbolSearchItemsDialog:o,SymbolSearchWatchlistDialog:c,SymbolSearchWatchlistDialogContentItem:d}=n;var h,m;o(Object.assign(Object.assign({},r),{wrapper:G(e.store,l,s),dialog:(m=c,Object(i.connect)(null,ee)(m)),contentItem:(h=d,Object(i.connect)(X,Y)(h)),placeholder:Object(u.t)("Search"),footer:Modernizr.mobiletouch?void 0:a.a.createElement(ce)}))})})})({fullscreen:Z,onSearchComplete:e=>{Object(de.a)(()=>{for(const t of e)le(t.symbol)},{source:"add symbol to watchlist"})}}),Object(p.trackEvent)("GUI","SS","watchlist")},"data-name":"add-symbol-button","data-role":"button"}),!1,Z&&a.a.createElement("div",{className:_e.buttonSeparator})))),!1);function se(){null!==l&&(Object(m.showConfirm)({text:Object(u.t)("Do you really want to clear all symbols?"),onConfirm:({dialogClose:e})=>{O(l.id),e()}}),ge("Clear list"))}function ie(e){L(e),C(e)}function oe(){(()=>{ie(!0)})(),ge("Rename")}function ae(){re(()=>v(e.widgetId,Object(c.ensureNotNull)(l).symbols),"saveAs"),ge("Make a copy")}function re(e,t){e()}function le(e){P.current.push(e),R.current||(R.current=setTimeout(()=>{null!==V.current&&V.current()},0))}function fe(e){j(E,Array.from(new Set(e)))}function ge(e){Object(p.trackEvent)("Watchlist","Popup menu",e)}function Oe(){return null===l?null:a.a.createElement(a.a.Fragment,null,!1,a.a.createElement(d.b,{key:"copy",theme:ne,icon:me,label:Object(q.appendEllipsis)(Object(u.t)("Make a copy")),onClick:ae}),a.a.createElement(d.b,{key:"rename",theme:ne,icon:be,label:Object(u.t)("Rename"),onClick:oe}),!1,a.a.createElement(d.b,{key:"clear",theme:ne,icon:pe,label:Object(u.t)("Clear list"),onClick:se}))}}))},"4q/x":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var s=n("Eyy1");const i="ROOT_ID";function o(e){const t=[{id:i,children:e,level:0}]
;for(const n of e)t.push({id:n,level:1,children:[],parentId:i});return t}function a(e,t){return Object(s.ensureNotNull)(e.name).localeCompare(Object(s.ensureNotNull)(t.name),void 0,{numeric:!0})}},"505C":function(e,t,n){e.exports={item:"item-1S06ghpW",active:"active-1S06ghpW",toolboxCount:"toolboxCount-1S06ghpW",count:"count-1S06ghpW",removeButton:"removeButton-1S06ghpW",countVisible:"countVisible-1S06ghpW",title:"title-1S06ghpW",flag:"flag-1S06ghpW",small:"small-1S06ghpW",touch:"touch-1S06ghpW",toolboxItem:"toolboxItem-1S06ghpW"}},"5oMM":function(e,t,n){"use strict";n.r(t);var s=n("/MKj"),i=n("ANjH"),o=n("q1tI"),a=n.n(o),r=(n("bSeV"),n("YFKU")),l=n("4q/x"),c=n("/3z9"),u=n("mrSG"),d=n("cvc5"),h=n.n(d),m=n("TSYQ"),b=n.n(m),p=n("Eyy1"),f=n("jPOK"),g=n("X0gx"),v=n("ehHn"),_=n("BQ6G");function y(e){const{id:t,className:n}=e;return o.createElement("div",{className:b()(_.node,n)},Object(v.l)(t))}var w=n("Q+za"),O=n("aOxy"),j=(n("Wr5T"),n("EsMY"),n("+wZE")),E=n("1O7s"),x=n("zxvP"),S=n("To8B");const I=Object(s.connect)(null,(function(e){return Object(i.bindActionCreators)({removeSymbol:E.removeSymbolsThunk},e)}))((function(e){return a.a.createElement(j.a,{onClick:function(t){const{widgetId:n,removeSymbol:s,symbolName:i}=e;t.preventDefault(),s(n,i)},className:b()(e.className,x.removeButton),icon:S})}));var k=n("ndO8"),C=n("kcTO"),M=n("hZEc"),N=n("j6Zk");class T extends a.a.PureComponent{constructor(){super(...arguments),this._ref=null,this._highlightTimeout=null,this._context=null,this._values=null,this._handleRef=e=>{this._ref=e}}componentWillUnmount(){this._highlightTimeout&&clearTimeout(this._highlightTimeout)}render(){const{isHidden:e,className:t}=this.props;return a.a.createElement("span",{className:m(t,N.cell,N.last,e&&N.hidden)},a.a.createElement("span",{className:N.inner,ref:this._handleRef}))}update(e){const{values:t}=e,n=this._values;if(void 0===t.last_price||null===this._ref)return;const s=null===n||n.pricescale!==t.pricescale||n.minmov!==t.minmov||n.fractional!==t.fractional||n.minmove2!==t.minmove2,i=null===n||n.last_price!==t.last_price;if(!s&&!i)return;this._values=Object.assign({},t);const o=new C.PriceFormatter(t.pricescale||100,t.minmov||1,t.fractional,t.minmove2),a=t.last_price,r=o.format(t.last_price),l=null!==this._context?this._context.currentText:null,c=null!==this._context?this._context.currentValue:null,u=this._context={formatter:o,currentValue:a,currentText:r,previousValue:c,previousText:l};this._ref.innerText=r,this._processHighlight(this._ref,u);o.hasForexAdditionalPrecision()&&Object(M.a)(this._ref)}_processNumericDiff(e){const{previousValue:t,previousText:n,currentValue:s,currentText:i,formatter:o}=e;if(null===t||null===n||null===this._ref)return;const a=m(s>t&&N.plus,s<t&&N.minus),r=Math.min(n.length,i.length);let l=0;for(;l<r&&n.charAt(l)===i.charAt(l);)l++;const c=i.slice(0,l),u=i.slice(l);u.length&&a?this._ref.innerHTML=c+`<span class="${a}">${u}</span>`:this._ref.innerText=i;o.hasForexAdditionalPrecision()&&Object(M.a)(this._ref)}_processHighlight(e,t){const{previousValue:n,currentValue:s}=t
;null!==n&&n!==s&&(null!==this._highlightTimeout&&(clearTimeout(this._highlightTimeout),this._highlightTimeout=null),e.classList.toggle(N.highlightUp,s>n),e.classList.toggle(N.highlightDown,s<n),this._highlightTimeout=setTimeout(()=>{e.classList.remove(N.highlightUp,N.highlightDown),this._processNumericDiff(t)},500))}}class L extends a.a.PureComponent{constructor(){super(...arguments),this._ref=null,this._handleRef=e=>{this._ref=e}}render(){const{isHidden:e,className:t}=this.props;return a.a.createElement("span",{className:m(t,N.cell,N.change,e&&N.hidden)},a.a.createElement("span",{className:N.inner,ref:this._handleRef}))}update(e){const{values:t}=e,n=t.change;if(void 0===n||null===this._ref)return;const s=new C.PriceFormatter(t.pricescale||100,t.minmov||1,t.fractional,t.minmove2);this._ref.innerText=s.format(n),0!==n&&(this._ref.classList.remove(N.plus,N.minus),this._ref.classList.add(n>0?N.plus:N.minus))}}const W=new(n("GH0z").PercentageFormatter);class P extends a.a.PureComponent{constructor(){super(...arguments),this._ref=null,this._handleRef=e=>{this._ref=e}}render(){const{isHidden:e,className:t}=this.props;return a.a.createElement("span",{className:m(t,N.cell,N.changeInPercents,e&&N.hidden)},a.a.createElement("span",{className:N.inner,ref:this._handleRef}))}update(e){const{values:t}=e,n=t.change_percent;void 0!==n&&null!==this._ref&&(this._ref.innerText=W.format(n),0!==n&&(this._ref.classList.remove(N.plus,N.minus),this._ref.classList.add(n>0?N.plus:N.minus)))}}const R=new(n("nEwK").VolumeFormatter);class V extends a.a.PureComponent{constructor(){super(...arguments),this._ref=null,this._handleRef=e=>{this._ref=e}}render(){const{isHidden:e,className:t}=this.props;return a.a.createElement("span",{className:m(t,N.cell,N.volume,e&&N.hidden)},a.a.createElement("span",{className:N.inner,ref:this._handleRef}))}update(e){const{values:t}=e,n=t.volume;void 0===n||null===this._ref||Math.abs(n)>=1e100||(this._ref.innerText=R.format(n),this._ref.setAttribute("data-value",""+n))}}var D=n("Wc1E"),F=(n("0wn8"),n("r8Gw"));const B={classMap:{invalid:"tv-market-status--invalid",market:"tv-market-status--market",out_of_session:"tv-market-status--out-of-session",post_market:"tv-market-status--post-market",pre_market:"tv-market-status--pre-market",loading:"tv-market-status--loading",holiday:"tv-market-status--holiday",replay:"tv-market-status--replay"},classSuffix:"",data:{},extraTitle:"",labelMap:{invalid:window.t("Invalid Symbol"),market:window.t("Market Open"),out_of_session:window.t("Market Closed"),post_market:window.t("Post Market"),pre_market:window.t("Pre Market"),loading:window.t("Loading"),holiday:window.t("Holiday"),replay:""},short:!1,showTooltip:!0,tooltipType:"custom"};class A extends F.a{constructor(e){super(e),this._quoteSessionPrefix="market-status-indicator",this._componentClass="tv-market-status",this._extraTitle="",this._init(e)}setStatus(e,t){const n={values:{current_session:e}};this.update(n,t)}getTooltipText(){let e=super.getTooltipText();return""===e||""!==this._extraTitle&&(e=`${e}, ${this._extraTitle}`),e}
setExtraTitle(e){this._extraTitle=e}reset(){this._clearClasses(),this._labelEl.textContent="",this._extraTitle="",this._el.setAttribute("title",""),this._value=""}enableShortMode(e=!0){void 0!==this._labelEl&&this._labelEl.classList.add("i-hidden"),super.enableShortMode()}disableShortMode(){void 0!==this._labelEl&&this._labelEl.classList.remove("i-hidden"),super.disableShortMode()}_renderLabel(){this._labelEl.textContent=this.getLabel()}_getValueFromData(e){return void 0!==e.values&&void 0!==e.values.current_session?e.values.current_session:this.getValue()}_render(){this._renderLabelElement(),this._renderDotElement(),super._render()}_init(e){const t=Object.assign({},B,e);super._init(t),this.setExtraTitle(t.extraTitle),this._render()}_renderLabelElement(){void 0===this._labelEl&&(this._labelEl=document.createElement("span"),this._labelEl.classList.add(this._componentClass+"__label"),this._labelEl.classList.add(`${this._componentClass}__label${this._classSuffix}`),this._el.appendChild(this._labelEl))}_renderDotElement(){void 0===this._dotEl&&(this._dotEl=document.createElement("span"),this._dotEl.classList.add(this._componentClass+"__dot"),this._dotEl.classList.add(`${this._componentClass}__dot${this._classSuffix}`),this._el.appendChild(this._dotEl))}}var z=n("Iivm"),H=n("TsgZ"),q=n("awQC"),U=n("1KmC"),J=n("rpw3");function K(e,t){const n=H.a.get(e).getLastSymbolData(t.symbol);if(!n)return"";const s=n.values,i=new C.PriceFormatter(s.pricescale||100,s.minmov||1,s.fractional,s.minmove2);return`${1===t.side?window.t("Long"):window.t("Short")} ${Math.abs(t.qty)} @ ${i.format(t.avgPrice)}`}var Q=n("9oVN");const G=Object(s.connect)((function(e,t){return{position:Object(Q.l)(e,t.symbolName)}}))((function(e){const{position:t,className:n,widgetId:s}=e;if(void 0===t)return null;const i=1===t.side;return o.createElement(z.a,{className:m("apply-common-tooltip",J.icon,i&&J.long,n),icon:i?q:U,title:K(s,t)})}));n("FEBP"),n("caV6");const $=(e,t)=>({classSuffix:"--for-symbol-list",el:e,short:!0,symbol:t,manualUpdate:!0,tooltipType:"custom"});class Z extends a.a.PureComponent{constructor(){super(...arguments),this._ref=null,this._marketStatusIndicator=null,this._dataModeIndicator=null,this._handleRef=e=>{this._ref=e},this._handleMarketStatusRef=e=>{const{symbolName:t}=this.props;null!==e&&(this._marketStatusIndicator=new A($(e,t)))},this._handleDataModeRef=e=>{const{symbolName:t}=this.props;null!==e&&(this._dataModeIndicator=new D.a($(e,t)))}}render(){const{isInvalid:e,symbolName:t,shouldDisplayPositions:n,widgetId:s,className:i,hasSFWarning:o}=this.props;return a.a.createElement("div",{className:b()(i,N.symbolName)},a.a.createElement("span",{className:b()(N.cell,N.flexCell)},a.a.createElement("span",{className:b()(N.inner,N.symbolNameText),ref:this._handleRef},Object(v.l)(t)),!e&&a.a.createElement(a.a.Fragment,null,!1,!o&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{ref:this._handleDataModeRef}),a.a.createElement("span",{ref:this._handleMarketStatusRef}),n&&a.a.createElement(G,{widgetId:s,className:N.positions,
symbolName:t})))))}update(e){if(null===this._ref)return;const{values:t}=e;this._marketStatusIndicator&&this._marketStatusIndicator.update({values:t}),this._dataModeIndicator&&this._dataModeIndicator.update({values:t})}}var X=n("PT1i"),Y=n("qFKp"),ee=n("+GaQ"),te=n("hOqT"),ne=n("1pWb");const se={delayed_streaming:Object(r.t)("Delayed"),pulsed:Object(r.t)("Delayed"),streaming:Object(r.t)("Real-time"),endofday:Object(r.t)("End of Day")},ie={market:Object(r.t)("Market Open"),pre_market:Object(r.t)("Pre-Market"),post_market:Object(r.t)("Post-Market"),out_of_session:Object(r.t)("Closed"),holiday:Object(r.t)("Holiday")};class oe extends a.a.PureComponent{constructor(e){super(e),this._observer=null,this._ref=null,this._injectListClasses=(e,t)=>{if(!a.a.isValidElement(e))return e;const n=["short_name","last_price","change","change_percent","volume","rchp"].map((e,t)=>[t,e]).filter(([e,t])=>this.props.columns.includes(t)),[s]=n[0],[i]=n[n.length-1];return t===s&&(e=a.a.cloneElement(e,{className:m(e.props.className,N.firstItem)})),t===i&&(e=a.a.cloneElement(e,{className:m(e.props.className,N.lastItem)})),e},this._onData=e=>{const{id:t}=this.props,{symbolname:n,status:s}=e;t===n&&(this._ref&&this._ref.setAttribute("data-status","resolved"),"error"===s?this.setState({isInvalid:!0}):"sf_data"===s?this.setState({hasSFWarning:!0}):(null!==this._symbolName.current&&this._symbolName.current.update(e),null!==this._lastPrice.current&&this._lastPrice.current.update(e),null!==this._change.current&&this._change.current.update(e),null!==this._changeInPercents.current&&this._changeInPercents.current.update(e),null!==this._volume.current&&this._volume.current.update(e)));const i=this._getSymbolTitle(e);null!==this._ref&&i&&this._ref.title!==i&&(this._ref.title=i)},this._handleRef=e=>{if(null!==e){const t=.25;this._observer=new IntersectionObserver(e=>{e[e.length-1].intersectionRatio<t?this._onInvisible():this._onVisible()},{threshold:[0,.25,.5,.75,1],root:null,rootMargin:"0px"}),this._observer.observe(e)}this._ref=e},this._handleContextMenu=e=>{e.preventDefault(),this._showContextMenu(e,0)},this._handleSmallContextMenu=e=>{this._showContextMenu(e,1)},this._showContextMenu=(e,t)=>{e.persist();const{showContextMenu:n,id:s,widgetId:i}=this.props;n(i,s,e,t)},this._onSymbolChanged=e=>{const t=this._computeActive(e);t!==this.state.isActive&&this.setState({isActive:t})},this._lastPrice=a.a.createRef(),this._change=a.a.createRef(),this._changeInPercents=a.a.createRef(),this._volume=a.a.createRef(),this._prePostMarket=a.a.createRef(),this._symbolName=a.a.createRef(),this.state={isInvalid:!1,hasSFWarning:!1,isActive:this._computeActive(X.linking.symbol.value())}}componentDidMount(){const{id:e,widgetId:t}=this.props;null!==this._ref&&(this._ref.title=e,this._ref.setAttribute("data-status","pending"));const n=H.a.get(t),s=n.getLastSymbolData(e);s&&this._onData(s),n.addSymbolDataHandler(e,this._onData),X.linking.symbol.subscribe(this._onSymbolChanged)}componentWillUnmount(){const{id:e,widgetId:t}=this.props;H.a.get(t).removeSymbolDataHandler(e),
this._observer&&this._observer.disconnect(),X.linking.symbol.unsubscribe(this._onSymbolChanged)}render(){const{id:e,columns:t,isSelected:n,isHighlighted:s,widgetId:i,isDeletable:o,enableContextMenu:r,shouldDisplayPositions:l,isContainedByMultiSelection:c,isFirstListItem:u}=this.props,{isInvalid:d,hasSFWarning:h,isActive:b}=this.state,{size:p}=this.context,f=b?c:n,g=Object(ne.b)(e)||d;return a.a.createElement("div",{onClick:1===p&&r?this._handleSmallContextMenu:void 0,onContextMenu:0===p&&r?this._handleContextMenu:void 0,className:m(N.symbol,1===p&&N.small,f&&N.selected,b&&N.active,Modernizr.mobiletouch&&N.touch,s&&N.highlighted,g&&N.invalid,u&&N.firstRow),ref:this._handleRef,"data-symbol-full":e,"data-symbol-short":Object(v.l)(e),"data-active":b,"data-selected":n},a.a.createElement("div",{className:m(N.indicators,b&&N.active)},!Object(Y.onWidget)()&&!1),a.a.createElement(ee.a,{map:this._injectListClasses},a.a.createElement(Z,{symbolName:e,shouldDisplayPositions:l,ref:this._symbolName,hasSFWarning:h,isInvalid:d,widgetId:i}),a.a.createElement(T,{ref:this._lastPrice,isHidden:!t.includes("last_price")}),a.a.createElement(L,{ref:this._change,isHidden:!t.includes("change")}),a.a.createElement(P,{ref:this._changeInPercents,isHidden:!t.includes("change_percent")}),a.a.createElement(V,{ref:this._volume,isHidden:!t.includes("volume")}),!1),o&&a.a.createElement("div",{className:N.overlayEnd},a.a.createElement(I,{className:N.removeButton,widgetId:i,symbolName:e})))}_onVisible(){const{id:e,widgetId:t}=this.props;H.a.get(t).addFastSymbol(e)}_onInvisible(){const{id:e,widgetId:t}=this.props;H.a.get(t).removeFastSymbol(e)}_getSymbolTitle(e){const{values:t}=e,n=[],s=Object(te.getTranslatedSymbolDescription)(t);return s&&n.push(s),t.exchange&&n.push(t.exchange),t.update_mode&&n.push(se[t.update_mode]),t.current_session&&n.push(ie[t.current_session]),n.filter(Boolean).join(", ")}_computeActive(e){return void 0!==e&&Object(v.c)(e,this.props.id)}}oe.contextType=k.a;const ae=Object(s.connect)((function(){const e=Object(Q.k)();return(t,n)=>{const{isDeletable:s,enableContextMenu:i}=Object(Q.q)(t,n.widgetId),o=Object(Q.i)(t,n.widgetId);return{isDeletable:s,enableContextMenu:i,isContainedByMultiSelection:e(t,{widgetId:n.widgetId,symbol:n.id}),shouldDisplayPositions:Object(Q.o)(t,n.widgetId),columns:Object(Q.a)(t,n.widgetId),isHighlighted:!!o&&o.includes(n.id)}}}),(function(e){return Object(i.bindActionCreators)({showContextMenu:O.showContextMenu},e)}))(oe);var re=n("M1X3"),le=n("7KDR"),ce=n("5VQP"),ue=n("GjMU"),de=n("aVjL"),he=n("PN+F");var me=n("NyG/");function be(e,t,n){return(s,i)=>{const o=i();if(t===n)return;const a=Object(Q.b)(o,e);if(null===a)return;if("hot"===a.type)return;const{symbols:r}=a,l=r.filter(ne.b),c=Object(v.a)(l,n,!1);if(!r.includes(c))if("custom"===a.type){const e=r.indexOf(t),n=[...r.slice(0,e),c,...r.slice(e+1)],i=Object.assign(Object.assign({},a),{symbols:n});s(Object(me.replaceWatchlistSymbolsThunk)(null,i,n))}else 0}}const pe=Object(s.connect)((function(){const e=Object(Q.k)();return(t,n)=>{
const{isDeletable:s,enableContextMenu:i}=Object(Q.q)(t,n.widgetId);return{isContainedByMultiSelection:e(t,{widgetId:n.widgetId,symbol:n.id}),isDeletable:s,enableContextMenu:i}}}),(function(e){return Object(i.bindActionCreators)({renameSymbol:be,removeSymbol:E.removeSymbolsThunk,addSymbols:E.addSymbolsThunk,showContextMenu:O.showContextMenu},e)}))((function(e){const{widgetId:t,id:n,isSelected:s,removeSymbol:i,renameSymbol:l,enableContextMenu:u,isDeletable:d,isContainedByMultiSelection:h,isFirstListItem:m,showContextMenu:p,addSymbols:f}=e,{size:g}=Object(o.useContext)(k.a),[_,y]=Object(o.useState)(!1),[w,O]=Object(o.useState)(!1),j=Object(v.m)(n);return a.a.createElement("div",{className:b()(he.separator,1===g&&he.small,m&&he.firstItem,s&&he.selected,Modernizr.mobiletouch&&he.touch),onClick:function(e){if(O(!1),w)return;if(1===g&&!_)return void function(e){e.persist(),x(e)}(e);s&&d&&y(!0)},onMouseDown:function(){_&&O(!0)},onKeyDown:function(e){if(!_)return;Object(c.hashFromEvent)(e)!==c.Modifiers.Mod+65&&46!==Object(c.hashFromEvent)(e)||e.stopPropagation()},onContextMenu:0===g&&u?function(e){if(e.preventDefault(),e.persist(),_)return;if(h)return void p(t,n,e,0);x(e)}:void 0},a.a.createElement("div",{className:b()(he.innerWrapper,_&&he.renaming)},a.a.createElement(re.a,{inputClassName:he.renamableInput,name:j,isRenaming:_,onSubmit:function(e){E();const s=e.trim().toUpperCase();if(0===s.length)return;const i=Object(v.d)(s);l(t,n,i)},onClose:E,size:"small"},a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:he.label},j),d&&a.a.createElement(I,{className:he.removeButton,widgetId:t,symbolName:n})))));function E(){y(!1)}function x(e){d&&ce.ContextMenuManager.createMenu(function(){0;return[new le.Action({label:Object(r.t)("Rename"),icon:ue,onExecute:()=>{y(!0)}}),new le.Action({label:Object(r.t)("Remove section"),icon:de,onExecute:()=>{i(t,n)}})]}(),{mode:1===g?"drawer":void 0,returnFocus:!0,takeFocus:!0}).then(t=>t.show(e))}}));var fe=n("82wv"),ge=n("JWMC"),ve=n("fV0y"),_e=n("ofjJ");const ye=[{column:"last_price",label:Object(r.t)("Last")},{column:"change",label:Object(r.t)("Change")},{column:"change_percent",label:Object(r.t)("Change %")},{column:"volume",label:Object(r.t)("Volume")}];function we(e){const{columns:t,updateWidget:n,widgetId:s}=e,{size:i}=Object(o.useContext)(k.a),r=1===i;return a.a.createElement(a.a.Fragment,null,ye.map(e=>{const{column:n,label:s}=e;return a.a.createElement(ve.a,{key:n,className:b()(_e.checkbox,r&&_e.mobile),name:n,label:s,checked:t.includes(n),onChange:l(n)})}));function l(e){return()=>{const i=[...t];i.includes(e)?i.splice(i.indexOf(e),1):i.push(e),n(s,{columns:i})}}}var Oe=n("ZryF");const je=Object(s.connect)((function(e,t){return{columns:Object(Q.a)(e,t.widgetId)}}),(function(e){return Object(i.bindActionCreators)({updateWidget:O.updateWidget},e)}))((function(e){const{columns:t,updateWidget:n,className:s,widgetId:i}=e,{size:r}=Object(o.useContext)(k.a),l=1===r;return a.a.createElement("div",{className:b()(_e.wrap,s)},a.a.createElement(fe.b,{
content:a.a.createElement(z.a,{className:_e.icon,icon:Oe}),arrow:!1,className:_e.columnsMenu,onClose:function(){Object(ge.trackEvent)("Watchlist","Change columns",t.join(", "))},isDrawer:l,drawerPosition:"Bottom"},a.a.createElement(we,{widgetId:i,columns:t,updateWidget:n})))}));var Ee=n("8d0Q"),xe=n("+6II"),Se=n("Wz43"),Ie=n("p5Nc"),ke=n("QFyz");const Ce=Object(s.connect)((function(e,t){const{isSortable:n}=Object(Q.q)(e,t.widgetId);return{isSortable:n,sorting:Object(Q.p)(e,t.widgetId)}}),(function(e){return Object(i.bindActionCreators)({sortSymbols:E.sortSymbolsThunk},e)}))((function(e){const{widgetId:t,isSortable:n,column:s,className:i,sortSymbols:l,label:c,sorting:u}=e,d=Object(o.useRef)(null),[h,b]=Object(Ee.b)(),[f,v]=Object(o.useState)(()=>O(u)),{size:_}=Object(o.useContext)(k.a),y=Object(o.useContext)(g.a),w=1===_;return Object(o.useEffect)(()=>(y.subscribe(null,xe.hide),()=>y.unsubscribe(null,xe.hide)),[]),Object(o.useEffect)(()=>{null===u&&v(O(u))},[u]),Object(o.useEffect)(()=>{n&&(h?Object(xe.showOnElement)(Object(p.ensureNotNull)(d.current),{content:{type:"html",data:f}}):Object(xe.hide)())},[h,f]),a.a.createElement("span",{key:s,className:m(ke.columnHeader,i,w&&ke.small)},a.a.createElement("span",Object.assign({},b,{ref:d,className:m(ke.label,n&&ke.sortable),onClick:n?function(){let e={column:s,direction:1};null!==u&&u.column===s&&(e=1===u.direction?Object.assign(Object.assign({},u),{direction:-1}):null);l(t,e),v(O(e));const n=e?1===e.direction?"ascending":"descending":"default";Object(ge.trackEvent)("Watchlist","Sort",`Sort by ${s} ${n}`)}:void 0,"data-column-type":s}),c));function O(e){if(!n)return"";const t=Object(r.t)("Click to sort by {columnLabel}").format({columnLabel:c});return null!==e&&e.column===s?1===e.direction?`${t} ${Ie}`:Object(r.t)("Click to return to customized order"):`${t} ${Se}`}}));var Me=n("ZP04");const Ne=[{column:"short_name",label:Object(r.t)("Symbol"),className:Me.symbolName},{column:"last_price",label:Object(r.t)("Last"),className:Me.last},{column:"change",label:Object(r.t)("Chg"),className:Me.change},{column:"change_percent",label:Object(r.t)("Chg%"),className:Me.changeInPercents},{column:"volume",label:Object(r.t)("Vol"),className:Me.volume}];const Te=Object(s.connect)((function(e,t){const{shouldDisplayColumnsMenu:n,isSortable:s}=Object(Q.q)(e,t.widgetId),i=Object(Q.b)(e,t.widgetId);return{shouldDisplayColumnsMenu:n,columns:Object(Q.a)(e,t.widgetId),hasFlagColumn:"custom"===(null==i?void 0:i.type)&&s}}))((function(e){const{columns:t,widgetId:n,shouldDisplayColumnsMenu:s,hasFlagColumn:i}=e;return a.a.createElement("div",{className:Me.wrap},s&&a.a.createElement(je,{widgetId:n,className:Me.menu}),a.a.createElement("div",{className:Me.tableHeader},Ne.filter(e=>t.includes(e.column)||i&&"flag"===e.column).map((e,t,s)=>a.a.createElement(Ce,{widgetId:n,key:e.column,label:e.label,column:e.column,className:b()(e.className,0===t&&Me.firstItem,t===s.length-1&&Me.lastItem)}))))}));var Le=n("XAms"),We=n("ThkV");const Pe={32:"next",[32+c.Modifiers.Shift]:"previous"
},Re=Modernizr.mobiletouch?"touch":"native";function Ve(e){const{dropType:t,boundBox:n}=e,{top:s,bottom:i,left:o}=Object(p.ensureDefined)(n);return[o,"before"===t||"inside"===t?s+.5:i-.5]}function De(e){return a.a.createElement("div",{className:We.empty},a.a.createElement("div",{className:We.centered},e.children))}function Fe(e,t){const{listId:n}=e.widgets[t];return null!==n?"custom":null}const Be=Object(s.connect)((function(e,t){const{isMovable:n}=Object(Q.q)(e,t.widgetId),s=Object(Q.b)(e,t.widgetId);return{isMovable:n,isLoading:Object(Q.j)(e,t.widgetId),selectedSymbols:Object(Q.n)(e,t.widgetId),scrollToId:Object(Q.m)(e,t.widgetId),listType:Fe(e,t.widgetId),isHotlist:Boolean("hot"===(null==s?void 0:s.type))}}),(function(e){return Object(i.bindActionCreators)({updateWidget:O.updateWidget,selectNextAvailableSymbol:O.selectNextAvailableSymbol},e)}))((function(e){const{symbols:t,icon:n,isLoading:s,noSymbolsPlaceholder:i,selectedSymbols:r,updateWidget:d,selectNextAvailableSymbol:b,onKeyDown:p,isMovable:_,widgetId:O,scrollToId:j,listType:E,isHotlist:x}=e,S=Object(u.a)(e,["symbols","icon","isLoading","noSymbolsPlaceholder","selectedSymbols","updateWidget","selectNextAvailableSymbol","onKeyDown","isMovable","widgetId","scrollToId","listType","isHotlist"]),I=Object(o.useMemo)(()=>Object(l.b)(t),[t]),C=Object(o.useContext)(g.a),{size:M}=Object(o.useContext)(k.a),N=1===M,T=Object(o.useRef)(performance.now()),L=Object(o.useCallback)(e=>Object(v.j)(e.id,E,!1)?a.a.createElement(pe,Object.assign({},e,{widgetId:O})):a.a.createElement(ae,Object.assign({},e,{widgetId:O})),[O,E,!1]),W=Object(o.useCallback)(e=>a.a.createElement(y,Object.assign({},e,{widgetId:O,id:Object(v.j)(e.id,E,!1)?Object(v.m)(e.id):e.id,className:m(Object(v.j)(e.id,E,!1)&&We.separatorDragPreview)})),[O,E,!1]),P=Object(o.useCallback)((e,t)=>{switch(t.type){case"node":return Object(v.j)(t.node.props.id,E,!1)?36:30;case"separator":return 13}},[E,!1]),R=Object(o.useCallback)((e,t)=>{var n;0!==e.button||0!==Object(c.modifiersFromEvent)(e)||Object(v.j)(t,E,!1)||(1===e.nativeEvent.detail&&X.linking.symbol.setValue(t),2===e.nativeEvent.detail&&(null===(n=X.linking.getChartWidget())||void 0===n||n.chartWidgetCollection().setSymbolAll(t)))},[E,!1]),V=Object(o.useCallback)(e=>{Object(v.j)(e,E,!1)||X.linking.symbol.setValue(e)},[E,!1]),D=Object(o.useCallback)((e,t)=>t&&1===e.length&&Object(v.j)(e[0],E,!1)?b(O,e[0],t):d(O,{selectedSymbols:e}),[O,b,d,E,!1]),[F,B]=Object(o.useState)(void 0);Object(o.useEffect)(()=>{const e=H.a.get(O);return e.addToSubscriptionSet(t),e.commitSubscriptionChanges(),X.linking.symbol.subscribe(K),()=>{e.addToCancelSubscriptionSet(t),X.linking.symbol.unsubscribe(K)}},[t]),Object(o.useEffect)(()=>()=>{const e=H.a.get(O);e.clearSubscriptionSet(),e.commitSubscriptionChanges()},[]);const[A,q]=Object(o.useState)(null),U=Object(o.useCallback)(e=>{e.width===(null==A?void 0:A.width)&&e.height===A.height||q(e)},[A]),J=Object(o.useRef)(null);return a.a.createElement("div",{className:We.wrap,onContextMenu:Le.b},a.a.createElement(Te,{widgetId:O
}),a.a.createElement(h.a,{onMeasure:U},a.a.createElement("div",{className:m(We.scrollable,0===t.length&&We.noData),onMouseDown:function(e){if(!(e.target instanceof Element)||null===J.current)return;const{activeElement:t}=document;e.target===J.current&&(J.current.contains(t)&&e.preventDefault(),Q())},onKeyDown:function(e){27===Object(c.hashFromEvent)(e)&&(e.preventDefault(),Q());p&&p(e)},onScroll:function(){if(T.current+500>performance.now())return;C.fire()}},!s&&t.length>0&&null!==A&&a.a.createElement(w.a,Object.assign({},S,{key:String(E)+String(!1),height:A.height,width:A.width,navigationKeys:Pe,nodeRenderer:L,drag:Re,dragPreviewRenderer:W,nodes:I,onClick:N?void 0:R,selectedIds:r,onSelect:D,readOnly:!_,rowHeight:P,scrollToId:j,onKeyboardSelect:V,dropLayerTransform:Ve,lastFocusedNodeObject:F,outerRef:function(e){J.current=e},lastSyncTimestampRef:T})),s&&a.a.createElement(f.a,null),!s&&i&&0===t.length&&a.a.createElement(De,null,a.a.createElement("div",null,n&&a.a.createElement(z.a,{icon:n}),a.a.createElement("div",null,i))))));function K(e){const n=Object(v.h)(e,t);n&&!Object(v.j)(n,E,!1)&&(D([n]),B({id:n}))}function Q(){K(X.linking.symbol.value())}}));var Ae=n("vqb8"),ze=n("oiZD"),He=n("zM7N"),qe=n("DAWg"),Ue=n("5qTg");n.d(t,"WatchList",(function(){return Je}));const Je=Object(s.connect)((function(){const e=[],t=(t,n)=>{const s=Object(Q.b)(t,n);return null===s||"hot"===s.type?e:s.symbols};return(e,n)=>({symbols:t(e,n.widgetId)})}),(function(e){return Object(i.bindActionCreators)({reorderSymbols:E.reorderSymbolsThunk,removeSelectedSymbols:E.removeSelectedSymbolsThunk,markSymbol:E.markSymbolsThunk,selectAllSymbols:O.selectAllSymbols},e)}))((function(e){const{symbols:t,reorderSymbols:n,widgetId:s,removeSelectedSymbols:i,markSymbol:o,selectAllSymbols:u}=e,d=Object(Ae.a)({watchedValue:ze.watchedTheme})===He.a.Dark?qe:Ue;return a.a.createElement(Be,{widgetId:s,onMove:function(e){n(s,e[l.a].children)},onDrop:function(e){const{detail:{nodes:t}}=e;t.length>1?Object(ge.trackEvent)("Watchlist","Multi select","Drag"):Object(ge.trackEvent)("Watchlist","Drag")},symbols:t,onKeyDown:function(e){46===Object(c.hashFromEvent)(e)&&(e.preventDefault(),i(s));Object(c.hashFromEvent)(e)===c.Modifiers.Alt+13&&(e.preventDefault(),window.runOrSignIn(()=>o(s,void 0,void 0,!0),{source:"Set symbol color"}),Object(ge.trackEvent)("Watchlist","Alt+Enter"));Object(c.hashFromEvent)(e)===c.Modifiers.Mod+65&&(e.preventDefault(),u(s),Object(ge.trackEvent)("Watchlist","Ctrl+A"));27===Object(c.hashFromEvent)(e)&&Object(ge.trackEvent)("Watchlist","Esc")},noSymbolsPlaceholder:Object(r.t)("Hmmm, seems that you didnâ€™t have any symbols in watchlist. You can add symbol above."),icon:d})}))},"5qTg":function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120" fill="none"><path fill="#fff" d="M0 0h120v120H0V0z"/><g clip-path="url(#aercrx3gr)"><path fill="#fff" d="M10 10h101.05v101.05H10z"/><path fill="#F0F3FA" fill-rule="evenodd" clip-rule="evenodd" d="M55.47 95.26a8.1 8.1 0 0 1 6.15.04 26.05 26.05 0 0 0 31.23-8.79A26 26 0 1 0 58.9 48.7a5.54 5.54 0 0 1-4.54.42c-2.9-1-5.91-1.43-8.9-1.32a.09.09 0 0 1-.07-.14A16.29 16.29 0 0 0 41.7 24.9a16.29 16.29 0 0 0-22.73 3.7 16.28 16.28 0 0 0 5.91 24.1c1.82.92 2.64 3.66 1.45 5.3a24.63 24.63 0 0 0 5.55 34.4 24.58 24.58 0 0 0 23.58 2.85z"/><rect width="38.5" height="12.5" fill="#fff" stroke="#1E222D" stroke-width="1.5" rx="2.25" x="21.75" y="53.75"/><circle stroke="#1E222D" stroke-linecap="round" stroke-width="1.5" cx="28.52" cy="60" r="3"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="1.5" d="M35.25 59.75h5.22M49.4 58.75h5.22M47.17 62.25h7.45"/><rect width="38.5" height="12.5" fill="#fff" stroke="#1E222D" stroke-width="1.5" rx="2.25" x="21.75" y="73.75"/><circle stroke="#1E222D" stroke-linecap="round" stroke-width="1.5" cx="28.52" cy="80" r="3"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="1.5" d="M35.25 79.75h5.22M49.4 78.75h5.22M47.17 82.25h7.45"/><path fill="#fff" stroke="#1E222D" stroke-width="1.5" d="M43.75 29c0-2.35 1.9-4.25 4.25-4.25h34c2.35 0 4.25 1.9 4.25 4.25v60c0 2.35-1.9 4.25-4.25 4.25H48A4.25 4.25 0 0 1 43.75 89V29z"/><rect width="38.5" height="12.5" fill="#fff" stroke="#1E222D" stroke-width="1.5" rx="2.25" x="32.75" y="33.75"/><circle stroke="#1E222D" stroke-linecap="round" stroke-width="1.5" cx="39.52" cy="40" r="3"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="1.5" d="M45.25 39.75h5.22M54.5 39.75h3.71M62.5 39.75h4.12M27.63 38.25h-7M27.63 41.25h-4"/><circle fill="#2196F3" cx="64.75" cy="61.75" r="10.75"/><path fill="#fff" d="M65.48 56.79a.75.75 0 0 0-1.5 0h1.5zm-1.5 10.1a.75.75 0 0 0 1.5 0h-1.5zm0-10.1v10.1h1.5V56.8h-1.5z"/><path fill="#fff" d="M59.68 61.09a.75.75 0 0 0 0 1.5v-1.5zm10.1 1.5a.75.75 0 0 0 0-1.5v1.5zm-10.1 0h10.1v-1.5h-10.1v1.5z"/></g><defs><clipPath id="aercrx3gr"><path fill="#fff" d="M10 10h101.05v101.05H10z"/></clipPath></defs></svg>'},"6KyJ":function(e,t,n){"use strict";var s,i=n("q1tI"),o=n("TSYQ"),a=n("K9GE"),r=n("YZ9j");n("O7m7");!function(e){e[e.Initial=0]="Initial",e[e.Appear=1]="Appear",e[e.Active=2]="Active"}(s||(s={}));class l extends i.PureComponent{constructor(e){super(e),this._stateChangeTimeout=null,this.state={state:s.Initial}}render(){const{className:e,color:t="black"}=this.props,n=o(r.item,{[r[t]]:Boolean(t)});return i.createElement("span",{className:o(r.loader,e,this._getStateClass())},i.createElement("span",{className:n}),i.createElement("span",{className:n}),i.createElement("span",{className:n}))}componentDidMount(){this.setState({state:s.Appear}),this._stateChangeTimeout=setTimeout(()=>{this.setState({state:s.Active})},2*a.c)}componentWillUnmount(){this._stateChangeTimeout&&(clearTimeout(this._stateChangeTimeout),this._stateChangeTimeout=null)}
_getStateClass(){switch(this.state.state){case s.Initial:return r["loader-initial"];case s.Appear:return r["loader-appear"];default:return""}}}n.d(t,"a",(function(){return l}))},"9b6a":function(e,t,n){"use strict";n.r(t),n.d(t,"WatchListApi",(function(){return h}));var s=n("Eyy1"),i=n("6uh4"),o=n("ehHn"),a=n("e3/o"),r=n("txPx"),l=n("9oVN"),c=n("NyG/");const u=Object(r.getLogger)("WatchList.Api");function d(e){return{id:e.id,symbols:e.symbols,title:e.name}}class h{constructor(e,t){this._store=t,this._chartApiInstance=e}defaultList(){return this._chartApiInstance.defaultWatchlistSymbols()}getList(e){const t=this._store.getState();if(!e){const e=this.getActiveListId();return e?Object(s.ensureNotNull)(Object(l.c)(t,e)).symbols:null}const n=Object(l.c)(t,e);return null===n?null:n.symbols}getActiveListId(){return Object(l.f)(this._store.getState())}setActiveList(e){this._store.dispatch(Object(c.setActiveWatchlistThunk)(null,e))}getAllLists(){const e=Object(l.d)(this._store.getState()),t={};return e.forEach(e=>{t[e.id]=d(e)}),0===Object.keys(t).length?null:t}setList(e){const t=this.getActiveListId();t&&(u.logWarn("`setList` is deprecated. Use `updateList` instead"),this.updateList(t,e))}updateList(e,t){const n=Object(l.c)(this._store.getState(),e);null!==n&&this._store.dispatch(Object(c.replaceWatchlistSymbolsThunk)(null,n,t))}renameList(e,t){const n=Object(l.c)(this._store.getState(),e);null!==n&&this._store.dispatch(Object(c.renameWatchlistThunk)(null,n,t))}createList(e,t=[]){if(void 0===e)return null;let n=Object(a.randomHash)();for(;null!==this.getList(n);)n=Object(a.randomHash)();const s=Object(o.f)(n,e,t);return this._store.dispatch(Object(c.createWatchlistThunk)(s)),d(s)}saveList(e){const{id:t,title:n,symbols:s}=e,i=Object(l.e)(this._store.getState()),a=Object(o.f)(t,n,s);return void 0!==i[t]?(this._store.dispatch(Object(c.putCustomWatchlistsThunk)(null,a)),!1):(this._store.dispatch(Object(c.createWatchlistThunk)(a)),!0)}deleteList(e){const t=Object(l.c)(this._store.getState(),e);null!==t&&this._store.dispatch(Object(c.removeWatchlistThunk)(null,t))}onListChanged(){return i.c}onActiveListChanged(){return i.a}onListAdded(){return i.b}onListRemoved(){return i.d}onListRenamed(){return i.e}}},BQ6G:function(e,t,n){e.exports={node:"node--5D5uEs8"}},DAWg:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120" fill="none"><path fill="none" d="M0 0h120v120H0V0z"/><g clip-path="url(#a3hxvgxzo)"><path fill="none" d="M10 10h101.05v101.05H10z"/><path fill="#2A2E39" fill-rule="evenodd" clip-rule="evenodd" d="M55.47 95.26a8.1 8.1 0 0 1 6.15.04 26.05 26.05 0 0 0 31.23-8.79A26 26 0 1 0 58.9 48.7a5.54 5.54 0 0 1-4.54.42c-2.9-1-5.91-1.43-8.9-1.32a.09.09 0 0 1-.07-.14A16.29 16.29 0 0 0 41.7 24.9a16.29 16.29 0 0 0-22.73 3.7 16.28 16.28 0 0 0 5.91 24.1c1.82.92 2.64 3.66 1.45 5.3a24.63 24.63 0 0 0 5.55 34.4 24.58 24.58 0 0 0 23.58 2.85z"/><rect width="38.5" height="12.5" fill="#1E222D" stroke="#B2B5BE" stroke-width="1.5" rx="2.25" x="21.75" y="53.75"/><circle stroke="#B2B5BE" stroke-linecap="round" stroke-width="1.5" cx="28.52" cy="60" r="3"/><path stroke="#B2B5BE" stroke-linecap="round" stroke-width="1.5" d="M35.25 59.75h5.22M49.4 58.75h5.22M47.17 62.25h7.45"/><rect width="38.5" height="12.5" fill="#1E222D" stroke="#B2B5BE" stroke-width="1.5" rx="2.25" x="21.75" y="73.75"/><circle stroke="#B2B5BE" stroke-linecap="round" stroke-width="1.5" cx="28.52" cy="80" r="3"/><path stroke="#B2B5BE" stroke-linecap="round" stroke-width="1.5" d="M35.25 79.75h5.22M49.4 78.75h5.22M47.17 82.25h7.45"/><path fill="#1E222D" stroke="#B2B5BE" stroke-width="1.5" d="M43.75 29c0-2.35 1.9-4.25 4.25-4.25h34c2.35 0 4.25 1.9 4.25 4.25v60c0 2.35-1.9 4.25-4.25 4.25H48A4.25 4.25 0 0 1 43.75 89V29z"/><rect width="38.5" height="12.5" fill="#1E222D" stroke="#B2B5BE" stroke-width="1.5" rx="2.25" x="32.75" y="33.75"/><circle stroke="#B2B5BE" stroke-linecap="round" stroke-width="1.5" cx="39.52" cy="40" r="3"/><path stroke="#B2B5BE" stroke-linecap="round" stroke-width="1.5" d="M45.25 39.75h5.22M54.5 39.75h3.71M62.5 39.75h4.12M27.63 38.25h-7M27.63 41.25h-4"/><circle fill="#1976D2" cx="64.75" cy="61.75" r="10.75"/><path fill="#D1D4DC" d="M65.48 56.79a.75.75 0 0 0-1.5 0h1.5zm-1.5 10.1a.75.75 0 0 0 1.5 0h-1.5zm0-10.1v10.1h1.5V56.8h-1.5z"/><path fill="#D1D4DC" d="M59.68 61.09a.75.75 0 0 0 0 1.5v-1.5zm10.1 1.5a.75.75 0 0 0 0-1.5v1.5zm-10.1 0h10.1v-1.5h-10.1v1.5z"/></g><defs><clipPath id="a3hxvgxzo"><path fill="#fff" d="M10 10h101.05v101.05H10z"/></clipPath></defs></svg>'},E9Pn:function(e,t,n){},ErPA:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M6.5 16v4.5a1 1 0 001 1h14a1 1 0 001-1V16M14.5 18V5.5m-4 4l4-4l4 4"/></svg>'},F0Qt:function(e){e.exports=JSON.parse('{"wrapper":"wrapper-21v50zE8","input":"input-24iGIobO","box":"box-3574HVnv","icon":"icon-2jsUbtec","noOutline":"noOutline-3VoWuntz","intent-danger":"intent-danger-1Sr9dowC","check":"check-382c8Fu1","dot":"dot-3gRd-7Qt"}')},F4Ha:function(e,t,n){e.exports={button:"button-3u1mPhQx",withIcon:"withIcon-3u1mPhQx",buttonIcon:"buttonIcon-3u1mPhQx"}},FEBP:function(e,t,n){},JscH:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));function s(e,t){window.runOrSignIn(e,t)}},KKsp:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}))
;var s=n("q1tI"),i=n("TSYQ"),o=n.n(i),a=n("NOPy");function r(e){const{size:t="normal",className:n}=e;return s.createElement("div",{className:o()(a.separator,"small"===t&&a.small,"normal"===t&&a.normal,"large"===t&&a.large,n)})}},M1X3:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var s=n("q1tI"),i=n.n(s),o=n("TSYQ"),a=n("wHCJ"),r=n("XAms"),l=n("/3z9"),c=n("QmmP");function u(e){const{name:t,maxLength:n,onSubmit:u,onClose:d,isRenaming:h,children:m,inputClassName:b,size:p}=e,[f,g]=Object(s.useState)(t),v=Object(s.useRef)(null);return Object(s.useEffect)(()=>{g(t)},[t]),Object(s.useEffect)(()=>{h&&null!==v.current&&(v.current.focus(),v.current.setSelectionRange(0,f.length))},[h]),h?i.a.createElement(a.a,{value:f,onChange:function(e){g(e.currentTarget.value)},onClick:r.a,className:o(c.renameInput),inputClassName:b,onKeyDown:function(e){27===Object(l.hashFromEvent)(e)?_():13===Object(l.hashFromEvent)(e)&&y()},reference:function(e){v.current=e},onBlur:y,onDragStart:function(e){e.preventDefault(),e.stopPropagation()},size:p,maxLength:n,draggable:!0,stretch:!0}):m;function _(){g(t),d()}function y(){""!==f?u(f):_()}}},MBZW:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" d="M7 13h7V6h1v7h7v1h-7v7h-1v-7H7v-1z"/></svg>'},NOPy:function(e,t,n){e.exports={separator:"separator-eqcGT_ow",small:"small-eqcGT_ow",normal:"normal-eqcGT_ow",large:"large-eqcGT_ow"}},O7m7:function(e,t,n){},OZBO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("q1tI");const i=n.n(s).a.createContext({setHideClose:()=>{}})},Oy6E:function(e,t,n){e.exports={spinnerWrap:"spinnerWrap-1dkAsm33"}},"P4l+":function(e,t,n){},"PN+F":function(e,t,n){e.exports={separator:"separator-3W5vLB8V",innerWrapper:"innerWrapper-3W5vLB8V",removeButton:"removeButton-3W5vLB8V",selected:"selected-3W5vLB8V",touch:"touch-3W5vLB8V",small:"small-3W5vLB8V",firstItem:"firstItem-3W5vLB8V",label:"label-3W5vLB8V",renaming:"renaming-3W5vLB8V",renamableInput:"renamableInput-3W5vLB8V"}},QFyz:function(e,t,n){e.exports={columnHeader:"columnHeader-aXihB3Rm",small:"small-aXihB3Rm",label:"label-aXihB3Rm",sortable:"sortable-aXihB3Rm",flagSortable:"flagSortable-aXihB3Rm",flagWrap:"flagWrap-aXihB3Rm"}},QmmP:function(e,t,n){e.exports={renameInput:"renameInput-1oDVVSDN"}},Tcl0:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 16.5c1 3 7 7 11 7 2-4 2-8.5 2-8.5s-1-3.5-2-4-4.5.5-4.5.5-3 3.5-6.5 5z"/><path stroke="currentColor" d="M15.5 11l3-6s.5-1 1.5-.5.5 1.5.5 1.5l-3 6M12 11.5l6.5 3.5M7.5 19c2-.5 4-2.5 4-2.5m0 5.5c2-1 3-3.5 3-3.5"/></svg>'},ThkV:function(e,t,n){e.exports={wrap:"wrap-2mu5oKC8",scrollable:"scrollable-2mu5oKC8",empty:"empty-2mu5oKC8",centered:"centered-2mu5oKC8",separatorDragPreview:"separatorDragPreview-2mu5oKC8"}},VogD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("q1tI");const i=n.n(s).a.createContext(null)},VpFt:function(e,t,n){e.exports={
item:"item-HusiPnIX"}},WFbd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("q1tI");const i=n.n(s).a.createContext(null)},Wc1E:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("YFKU"),n("HbRj"),n("quTg");var s=n("r8Gw");const i={connecting:window.t("Connecting"),delayed:window.t("Delayed"),delayed_streaming:window.t("Delayed"),endofday:window.t("End of Day"),forbidden:window.t("Instrument is not allowed"),realtime:window.t("Real-time"),snapshot:window.t("Snapshot"),loading:"",replay:window.t("Replay Mode")},o={connecting:window.t("C",{context:"data_mode_connecting_letter"}),delayed:window.t("D",{context:"data_mode_delayed_letter"}),delayed_streaming:window.t("D",{context:"data_mode_delayed_streaming_letter"}),endofday:window.t("E",{context:"data_mode_end_of_day_letter"}),forbidden:window.t("F",{context:"data_mode_forbidden_letter"}),realtime:window.t("R",{context:"data_mode_realtime_letter"}),snapshot:window.t("S",{context:"data_mode_snapshot_letter"}),loading:"",replay:window.t("R",{context:"data_mode_replay_letter"})},a={streaming:"realtime"},r={classMap:{connecting:"tv-data-mode--connecting",delayed:"tv-data-mode--delayed",delayed_streaming:"tv-data-mode--delayed",endofday:"tv-data-mode--endofday",forbidden:"tv-data-mode--forbidden",realtime:"tv-data-mode--realtime",snapshot:"tv-data-mode--snapshot",loading:"tv-data-mode--loading",replay:"tv-data-mode--replay"},classSuffix:"",data:{values:{update_mode:"connecting"}},labelMap:i,modeInterval:600,short:!1,shortLabelMap:o,showTooltip:!0,tooltipType:"custom"};class l extends s.a{constructor(e){super(e),this._quoteSessionPrefix="data-mode-indicator",this._componentClass="tv-data-mode",this._init(e)}getLabel(){return!0===this._shortMode?this._shortLabelMap[this._value]||"":super.getLabel()}setMode(e,t){this.update({values:{update_mode:e,update_mode_seconds:t}})}hide(){this._el.classList.add("i-hidden")}show(){this._el.classList.remove("i-hidden")}getTooltipText(){let e="";const t=this.getValue();if(""===t)return e;switch(t){case"delayed":e=window.t("Quotes are delayed by {0} min and updated every 30 seconds");break;case"delayed_streaming":e=window.t("Quotes are delayed by {0} min");break;default:e=this._labelMap[t]||e}return["delayed","delayed_streaming"].includes(t)&&(e=e.format(Math.round(this._modeInterval/60))),e}_init(e={}){const t=Object.assign({},r,e);this._modeInterval=t.modeInterval||600,this._shortLabelMap=t.shortLabelMap||o,super._init(t),this._render()}_getValueFromData(e){let t;return t=void 0!==e.values&&void 0!==e.values.update_mode?e.values.update_mode:this.getValue(),a[t]||t}_updateValue(e,t){void 0!==e.values&&void 0!==e.values.update_mode_seconds&&(this._modeInterval=e.values.update_mode_seconds),super._updateValue(e,t)}}},Wr5T:function(e,t){!function(){"use strict"
;if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[];s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},s.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},s.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},s.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},s.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},s.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(window,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},s.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(s){var i=s.element,o=a(i),r=this._rootContainsTarget(i),l=s.entry,c=e&&r&&this._computeTargetAndRootIntersection(i,t),u=s.entry=new n({time:window.performance&&performance.now&&performance.now(),
target:i,boundingClientRect:o,rootBounds:t,intersectionRect:c});l?e&&r?this._hasCrossedThreshold(l,u)&&this._queuedEntries.push(u):l&&l.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},s.prototype._computeTargetAndRootIntersection=function(t,n){if("none"!=window.getComputedStyle(t).display){for(var s,i,o,r,c,u,d,h,m=a(t),b=l(t),p=!1;!p;){var f=null,g=1==b.nodeType?window.getComputedStyle(b):{};if("none"==g.display)return;if(b==this.root||b==e?(p=!0,f=n):b!=e.body&&b!=e.documentElement&&"visible"!=g.overflow&&(f=a(b)),f&&(s=f,i=m,o=void 0,r=void 0,c=void 0,u=void 0,d=void 0,h=void 0,o=Math.max(s.top,i.top),r=Math.min(s.bottom,i.bottom),c=Math.max(s.left,i.left),u=Math.min(s.right,i.right),h=r-o,!(m=(d=u-c)>=0&&h>=0&&{top:o,bottom:r,left:c,right:u,width:d,height:h})))break;b=l(b)}return m}},s.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var n=e.documentElement,s=e.body;t={top:0,left:0,right:n.clientWidth||s.clientWidth,width:n.clientWidth||s.clientWidth,bottom:n.clientHeight||s.clientHeight,height:n.clientHeight||s.clientHeight}}return this._expandRectByRootMargin(t)},s.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},s.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,s=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==s)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==s||o<n!=o<s)return!0}},s.prototype._rootIsInDom=function(){return!this.root||r(e,this.root)},s.prototype._rootContainsTarget=function(t){return r(this.root||e,t)},s.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},s.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=n}function n(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,s=this.intersectionRect,i=s.width*s.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function s(e,t){var n,s,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),s=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),s))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),
this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function i(e,t,n,s){"function"==typeof e.addEventListener?e.addEventListener(t,n,s||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function o(e,t,n,s){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,s||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function a(e){var t;try{t=e.getBoundingClientRect()}catch(n){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function r(e,t){for(var n=t;n;){if(n==e)return!0;n=l(n)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}()},Wz43:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 9" width="7" height="9" fill="none"><path stroke="currentColor" d="M6 4L3.5 1.5L1 4M3.5 9V2"/></svg>'},YZ9j:function(e){e.exports=JSON.parse('{"loader":"loader-8x1ZxRwP","item":"item-2-89r_cd","tv-button-loader":"tv-button-loader-23vqS1uY","black":"black-20Ytsf0V","white":"white-1ucCcc2I","gray":"gray-XDhHSS-T","loader-initial":"loader-initial-1deQDeio","loader-appear":"loader-appear-2krFtMrd"}')},ZP04:function(e,t,n){e.exports={wrap:"wrap-2R4VIpf-",menu:"menu-2R4VIpf-",tableHeader:"tableHeader-2R4VIpf-",columnHeader:"columnHeader-2R4VIpf-",readonly:"readonly-2R4VIpf-",symbolName:"symbolName-2R4VIpf-",last:"last-2R4VIpf-",change:"change-2R4VIpf-",changeInPercents:"changeInPercents-2R4VIpf-",volume:"volume-2R4VIpf-",prePostMarket:"prePostMarket-2R4VIpf-",label:"label-2R4VIpf-",firstItem:"firstItem-2R4VIpf-",lastItem:"lastItem-2R4VIpf-"}},ZryF:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="11" height="20" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M5.5 14a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm0-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM7 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"/></svg>'},ZvhS:function(e,t,n){e.exports={footer:"footer-11dh3Kux",shortcuts:"shortcuts-11dh3Kux",buttonGroup:"buttonGroup-11dh3Kux",button:"button-11dh3Kux",withIcon:"withIcon-11dh3Kux",icon:"icon-11dh3Kux"}},aJjg:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11" height="9" fill="none"><path stroke-width="2" d="M0.999878 4L3.99988 7L9.99988 1"/></svg>'},awQC:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="none"><circle stroke="currentColor" cx="6" cy="6" r="5.5"/><path fill="currentColor" d="M4.5 8.523V2.8h.928v4.826H8.5v.897h-4z"/></svg>'},caV6:function(e,t,n){},fV0y:function(e,t,n){"use strict";var s=n("mrSG"),i=n("q1tI"),o=n("TSYQ"),a=n("0W35"),r=n("vCF3"),l=n("qibD");n("E9Pn");class c extends i.PureComponent{render(){const e=this.props,{inputClassName:t,labelClassName:n}=e,a=Object(s.a)(e,["inputClassName","labelClassName"]),c=o(this.props.className,l.checkbox,{
[l.reverse]:Boolean(this.props.labelPositionReverse),[l.baseline]:Boolean(this.props.labelAlignBaseline)}),u=o(l.label,n,{[l.disabled]:this.props.disabled});let d=null;return this.props.label&&(d=i.createElement("span",{className:u,title:this.props.title},this.props.label)),i.createElement("label",{className:c},i.createElement(r.a,Object.assign({},a,{className:t})),d)}}c.defaultProps={value:"on"};Object(a.b)(c);n.d(t,"a",(function(){return c}))},"h6f+":function(e,t,n){e.exports={item:"item-3UsVN-Ev",withIcon:"withIcon-3UsVN-Ev"}},hZEc:function(e,t,n){"use strict";function s(e,t){const n=t.parentNode;if(!n)return;const s=t.nextSibling;s?n.insertBefore(e,s):n.appendChild(e)}function i(e){const t=function e(t){if(3===t.nodeType&&t.data.trim())return t;if(t.childNodes)for(let n=t.childNodes.length;n--;){const s=e(t.childNodes[n]);if(s)return s}return null}(e);if(t){const e=t.data;if(t.parentNode&&t.parentNode.tagName&&"sup"===t.parentNode.tagName.toLowerCase())return;const n=/^([^]*)(\S)(\s*)$/.exec(e);if(n){t.data=n[1];const e=document.createElement("sup");e.textContent=n[2],s(e,t),n[3]&&s(document.createTextNode(n[3]),e)}}}n.d(t,"a",(function(){return i}))},j6Zk:function(e,t,n){e.exports={symbol:"symbol-EJ_LFrif",small:"small-EJ_LFrif",firstRow:"firstRow-EJ_LFrif",selected:"selected-EJ_LFrif",touch:"touch-EJ_LFrif",removeButton:"removeButton-EJ_LFrif",active:"active-EJ_LFrif",flag:"flag-EJ_LFrif",indicators:"indicators-EJ_LFrif",highlighted:"highlighted-EJ_LFrif",invalid:"invalid-EJ_LFrif",cell:"cell-EJ_LFrif",inner:"inner-EJ_LFrif",symbolName:"symbolName-EJ_LFrif",sfWarningIcon:"sfWarningIcon-EJ_LFrif",positions:"positions-EJ_LFrif",symbolNameText:"symbolNameText-EJ_LFrif",last:"last-EJ_LFrif",change:"change-EJ_LFrif",changeInPercents:"changeInPercents-EJ_LFrif",volume:"volume-EJ_LFrif",prePostMarket:"prePostMarket-EJ_LFrif",hidden:"hidden-EJ_LFrif",plus:"plus-EJ_LFrif",minus:"minus-EJ_LFrif",firstItem:"firstItem-EJ_LFrif",lastItem:"lastItem-EJ_LFrif",flexCell:"flexCell-EJ_LFrif",highlightUp:"highlightUp-EJ_LFrif",highlightDown:"highlightDown-EJ_LFrif",overlayEnd:"overlayEnd-EJ_LFrif"}},jPOK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("q1tI"),i=n("TSYQ"),o=n("Owlf");n("SzKR");function a(e){const t=i("tv-spinner","tv-spinner--shown","tv-spinner--size_"+(e.size||o.a));return s.createElement("div",{className:t,style:e.style,role:"progressbar"},s.createElement("div",{className:"tv-spinner__spinner-layer"},s.createElement("div",{className:"tv-spinner__background tv-spinner__width_element"}),s.createElement("div",{className:"tv-spinner__circle-clipper tv-spinner__width_element tv-spinner__circle-clipper--left"}),s.createElement("div",{className:"tv-spinner__circle-clipper tv-spinner__width_element tv-spinner__circle-clipper--right"})))}},jXgp:function(e,t,n){e.exports={button:"button-pg6Iiu-y",hover:"hover-pg6Iiu-y",isOpened:"isOpened-pg6Iiu-y",inner:"inner-pg6Iiu-y"}},kHSl:function(e,t,n){e.exports={toolbox:"toolbox-3g92Y6wD"}},kHqV:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M9 4.5l4.39 3.61a.5.5 0 0 1-.32.89h-1.18v4.5H6.11V9H4.93a.5.5 0 0 1-.32-.89L9 4.5z"/></svg>'},nPPD:function(e,t,n){"use strict";function s(e,t,n={}){const s=Object.assign({},t);for(const i of Object.keys(t)){const o=n[i]||i;o in e&&(s[i]=[e[o],t[i]].join(" "))}return s}function i(e,t,n={}){return Object.assign({},e,s(e,t,n))}n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}))},npeR:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M6.5 16v4.5a1 1 0 001 1h14a1 1 0 001-1V16M14.5 5V17m-4-3.5l4 4l4-4"/></svg>'},ofjJ:function(e,t,n){e.exports={wrap:"wrap-11E1QoiU",columnsMenu:"columnsMenu-11E1QoiU",checkbox:"checkbox-11E1QoiU",hovered:"hovered-11E1QoiU",mobile:"mobile-11E1QoiU"}},os48:function(e,t,n){e.exports={footer:"footer-3r-9t_XG"}},p5Nc:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 9" width="7" height="9" fill="none"><path stroke="currentColor" d="M6 5L3.5 7.5L1 5M3.5 7.5V0"/></svg>'},qibD:function(e){e.exports=JSON.parse('{"checkbox":"checkbox-3xZUD-2M","reverse":"reverse-3xeTx96y","label":"label-cyItEVpF","baseline":"baseline-6TXKro4X"}')},quTg:function(e,t,n){},r8Gw:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("txPx"),i=n("e3/o"),o=n("IWXC");n("+6II");const a=Object(s.getLogger)("GUI.Blocks.AbstractIndicator");class r{constructor(e){this._classSuffix="",this._quoteSessionPrefix="abstract-indicator",this._shortMode=!1,this._showTooltip=!0,this._subscribed=!1,this._tooltipType="custom",this._lastTooltipText="",this._quoteSession=e.quoteSession}getValue(){return this._value}getTooltipText(){return this._labelMap[this._value]||""}getLabel(){return this._labelMap[this._value]||""}getElement(){return this._el}update(e,t){this._updateValue(e,t),this._render()}setTooltipEnabled(e=!1){this._showTooltip!==e&&(this._showTooltip=e,this._renderTooltip())}enableShortMode(){!0!==this._shortMode&&(this._shortMode=!0,this._render())}disableShortMode(){!1!==this._shortMode&&(this._shortMode=!1,this._render())}isShortModeEnabled(){return this._shortMode}start(){!this._subscribed&&this._symbolName&&(this._quoteSession||(this._quoteSession=Object(o.getQuoteSessionInstance)("simple")),this._quoteSession.subscribe(this._getQuoteSessionId(),this._symbolName,this.update.bind(this)),this._subscribed=!0)}stop(){this._subscribed&&this._quoteSession&&this._symbolName&&(this._quoteSession.unsubscribe(this._getQuoteSessionId(),this._symbolName),this._subscribed=!1)}_init(e){this._el=e.el?e.el:document.createElement("span"),this._el.innerHTML="",this._classMap=e.classMap,this._labelMap=e.labelMap,this._showTooltip=e.showTooltip,this._classSuffix=e.classSuffix,this._symbolName=e.symbol,e.tooltipType&&(this._tooltipType=e.tooltipType),this._quoteSessionGUID=Object(i.guid)(),!0===e.short&&this.enableShortMode(),e.data&&this._updateValue(e.data)}
_clearClasses(){Object.values(this._classMap).map(e=>{this._el.classList.remove(""+e),this._el.classList.remove(`${e}${this._classSuffix}`)})}_render(){this._renderClasses(),this._renderTooltip(),this._renderLabel()}_renderLabel(){this._el.textContent=this.getLabel()}_updateValue(e,t){const n=this._getValueFromData(e);(t||n!==this._value)&&(this._value=n)}_renderClasses(){const e=this._el.classList;e.add(this._componentClass,this._componentClass+this._classSuffix);const t=this._classMap[this._value];for(const n in this._classMap){const s=this._classMap[n];s&&(s===t?e.add(s,s+this._classSuffix):e.remove(s,s+this._classSuffix))}!t&&this._value&&a.logWarn("no className for status "+this._value)}_renderTooltip(){const e=this._showTooltip?this.getTooltipText():"";e!==this._lastTooltipText&&(this._lastTooltipText=e,this._el.setAttribute("title",e),"custom"===this._tooltipType&&this._el.classList.toggle("apply-common-tooltip",this._showTooltip))}_getQuoteSessionId(){return`${this._quoteSessionPrefix}.${this._quoteSessionGUID}`}}window.AbstractIndicator=r},rpw3:function(e,t,n){e.exports={icon:"icon-2Wojewx7",long:"long-2Wojewx7"}},sW9H:function(e,t,n){e.exports={toolbox:"toolbox-1lxiOJl3"}},tOD8:function(e,t,n){e.exports={container:"container-uV8zMgPt",mobile:"mobile-uV8zMgPt",hidden:"hidden-uV8zMgPt",watchlistMenu:"watchlistMenu-uV8zMgPt",title:"title-uV8zMgPt",titleRow:"titleRow-uV8zMgPt",flag:"flag-uV8zMgPt",headerButton:"headerButton-uV8zMgPt",disabled:"disabled-uV8zMgPt",mobileMenu:"mobileMenu-uV8zMgPt",buttonWrap:"buttonWrap-uV8zMgPt",menuWrap:"menuWrap-uV8zMgPt",buttonSeparator:"buttonSeparator-uV8zMgPt",columnsTitle:"columnsTitle-uV8zMgPt",small:"small-uV8zMgPt",newLabel:"newLabel-uV8zMgPt",copyLink:"copyLink-uV8zMgPt",loaderWrapper:"loaderWrapper-uV8zMgPt",loader:"loader-uV8zMgPt",switcherMobileLabel:"switcherMobileLabel-uV8zMgPt"}},tOje:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n("q1tI"),i=n.n(s),o=n("TSYQ"),a=n.n(o),r=n("os48");function l(e){const{className:t,children:n}=e;return i.a.createElement("div",{className:a()(r.footer,t)},n)}},vCF3:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n("q1tI"),i=n("TSYQ"),o=n("Iivm"),a=n("aJjg"),r=n("F0Qt");n("P4l+");function l(e){const t=i(r.box,r["intent-"+e.intent],{[r.check]:!Boolean(e.indeterminate),[r.dot]:Boolean(e.indeterminate),[r.noOutline]:-1===e.tabIndex}),n=i(r.wrapper,e.className);return s.createElement("span",{className:n,title:e.title},s.createElement("input",{id:e.id,tabIndex:e.tabIndex,className:r.input,type:"checkbox",name:e.name,checked:e.checked,disabled:e.disabled,value:e.value,autoFocus:e.autoFocus,role:e.role,onChange:function(){e.onChange&&e.onChange(e.value)},ref:e.reference}),s.createElement("span",{className:t},s.createElement(o.a,{icon:a,className:r.icon})))}},vqb8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("q1tI");const i=e=>{const t="watchedValue"in e?e.watchedValue:void 0,n="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[i,o]=Object(s.useState)(t?t.value():n)
;return Object(s.useEffect)(()=>{if(t){o(t.value());const e=e=>o(e);return t.subscribe(e),()=>t.unsubscribe(e)}return()=>{}},[t]),i}},y5tV:function(e,t,n){"use strict";n.r(t);var s=n("5rFJ"),i=n("rRWa"),o=n("N22A"),a=n("Eyy1"),r=n("2TBc"),l=n("aIyQ"),c=n.n(l);class u extends r.a{constructor(e){super(e),this.positionsUpdate=new c.a,this._symbols=[],this._symbolPositions={}}positions(e){return-1!==this._symbols.indexOf(e)?this._symbolPositions[e]:[]}setSymbols(e){const t=Object.keys(this._symbolPositions);this._symbols.forEach(n=>{-1===e.indexOf(n)&&-1!==t.indexOf(n)&&delete this._symbolPositions[n]});const n=[];e.forEach(e=>{-1===this._symbols.indexOf(e)&&(n.push(e),this._symbolPositions[e]=[])}),this._symbols=e,n.length&&this._requestPositions(n)}stopService(){this._clearPositions();Object(a.ensure)(this.activeBroker()).positionUpdate.unsubscribe(this,this._positionUpdate)}startService(){this._symbols&&this._requestPositions(this._symbols);Object(a.ensure)(this.activeBroker()).positionUpdate.subscribe(this,this._positionUpdate)}_clearPositions(){Object.keys(this._symbolPositions).forEach(e=>{this._symbolPositions[e].length&&(this._symbolPositions[e]=[],this.positionsUpdate.fire(e,[]))})}_positionUpdate(e){const t=e.symbol;if(-1===this._symbols.indexOf(t))return;const n=this._symbolPositions[t],s=n.reduce((t,n,s)=>n.id===e.id?s:t,-1),i=0===e.qty;-1!==s&&i?n.splice(s,1):-1!==s||i?n[s]=e:n.push(e),this.positionsUpdate.fire(t,n)}_requestPositions(e){const t=this.activeBroker();t&&e.length&&t.positions().then(t=>{t.forEach(t=>{-1!==e.indexOf(t.symbol)&&this._positionUpdate(t)})})}}var d=n("aOxy"),h=n("9oVN"),m=n("ehHn");function*b(e){const t=(n=e,Object(i.c)(e=>{const t={};return n.positionsUpdate.subscribe(t,(t,n)=>{const[s]=n;e(Object(d.updatePosition)(t,s?Object(m.o)(s):void 0))}),()=>n.positionsUpdate.unsubscribeAll(t)}));var n;try{for(;;){const e=yield Object(s.g)(t),n=Object(h.l)(yield Object(s.f)(),e.symbol);(!n||!e.position||e.position&&n.side!==e.position.side)&&(yield Object(s.e)(e))}}finally{t.close()}}function*p(e){const t=yield Object(s.b)(o.waitTradingService),n=new u(t);yield Object(s.d)(b,n);let i=null;function*a(){const t=Object(h.b)(yield Object(s.f)(),e);if(i!==t){const e=null===t?[]:t.symbols;m.k.logNormal("Setting watched positions: "+e),n.setSymbols(e);const o={};for(const t of e){const[e]=n.positions(t);o[t]=e?Object(m.o)(e):void 0}yield Object(s.e)(Object(d.updateBulkPositions)(o)),i=t}}yield Object(s.b)(a),yield Object(s.h)("*",a)}var f=n("VK5V"),g=n("Z+Vr"),v=n("m2+w"),_=n("PT1i"),y=n("NyG/"),w=n("Qz5Q");function*O(){yield Object(s.i)(f.b,(function*(e){yield Object(s.b)(E)}))}function*j(){0}function*E(){const e=Object(h.f)(yield Object(s.f)());null===e&&(yield Object(s.e)(Object(w.a)(Object(y.getActiveWatchlistThunk)(null)))),yield Object(s.e)(Object(d.updateWidget)(g.a,{listId:e}));const t=_.linking.symbol.value();t&&(yield Object(s.e)(Object(d.updateWidget)(g.a,{scrollToId:{id:t}})))}function*x(){const e=new v.a;yield Object(s.h)(f.l,t=>{void 0!==t.widget.columns&&e.set(t.widget.columns)})}
function*S(){let e=Object(h.f)(yield Object(s.f)());for(;;){yield Object(s.g)("*");const t=Object(h.f)(yield Object(s.f)());e!==t&&(e=t,yield Object(s.e)(Object(d.updateWidget)(g.a,{listId:t,selectedSymbols:[]})))}}n("1O7s");function*I(e){const t=Object(i.c)(t=>{const n=()=>{t(Object(d.updateWidget)(e,{scrollToId:{id:_.linking.symbol.value()}}))};return _.linking.symbol.subscribe(n),()=>_.linking.symbol.unsubscribe(n)});try{for(;;)yield Object(s.e)(yield Object(s.g)(t))}finally{t.close()}}function*k(){yield Object(s.i)(f.f,(function*(e){const{widgetId:t,currentSymbol:n,keyboardAction:i}=e,o=Object(h.b)(yield Object(s.f)(),t);if(null===o)return;const{symbols:a}=o,r=Object(m.g)(a.indexOf(n),a,i);r&&(yield Object(s.e)(Object(d.updateWidget)(t,{selectedSymbols:[r]})),_.linking.symbol.setValue(r))}))}function*C(){0}function*M(e){yield Object(s.i)(f.d,(function*(t){const{widgetId:n}=t;if(e!==n)return;const i=Object(h.b)(yield Object(s.f)(),n);null!==i&&(yield Object(s.e)(Object(d.updateWidget)(n,{selectedSymbols:i.symbols})))}))}var N=n("qFKp");function*T(){yield Object(s.d)(O),yield Object(s.d)(S),yield Object(s.d)(M,g.a),yield Object(s.d)(C),yield Object(s.d)(I,g.a),yield Object(s.d)(k),Object(N.onWidget)()||(yield Object(s.d)(p,g.a),yield Object(s.d)(j)),yield Object(s.d)(x)}n.d(t,"watchListSaga",(function(){return T}))},yihy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("mNbo");n("Kxc7"),n("qFKp");function i(){return!Object(s.a)("any")&&(window.matchMedia("(min-width: 602px) and (min-height: 445px)").matches,!1)}},zxvP:function(e,t,n){e.exports={removeButton:"removeButton-zf82IvOK"}}}]);