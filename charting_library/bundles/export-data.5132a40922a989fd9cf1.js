(window.webpackJsonp=window.webpackJsonp||[]).push([["export-data"],{SIoL:function(e,t,s){"use strict";s.r(t),s.d(t,"exportData",(function(){return a})),s("YFKU");var n=s("Eyy1"),o=s("ZJKN"),i=s("k9/m"),l=s("23IT");const c={includeTime:!0,includeUserTime:!1,includeSeries:!0,includedStudies:"all"};function a(e,t={}){const s=Object.assign({},c,t),l={schema:[],data:[]},a=e.timeScale().points(),d=e.mainSeries(),f=function(e,t){const s=e.allStudies().filter((e=>e.showInObjectTree()));return"all"===t?s:s.filter((e=>t.includes(e.id())))}(e,s.includedStudies),p=function(e,t,s,l){const c=Object(n.ensureNotNull)(void 0!==s?e.indexOf(s,!0):e.firstIndex()),a=Object(n.ensureNotNull)(void 0!==l?e.indexOf(l,!0):e.lastIndex());let r=a,d=c;for(const e of t){const t=e.search(c,i.PlotRowSearchMode.NearestRight);null!==t&&t.index<r&&(r=t.index);const s=e.search(a,i.PlotRowSearchMode.NearestLeft);null!==s&&s.index>d&&(d=s.index)}return Object(n.assert)(r<=d,"Range must contain at least 1 time point"),new o.BarsRange(r,d)}(a,[d.bars()],s.from,s.to),m=p.firstBar(),w=p.lastBar();s.includeTime&&l.schema.push({type:"time"});const b=l.schema.length;s.includeUserTime&&l.schema.push({type:"userTime"});const O=l.schema.length;s.includeSeries&&(l.schema.push(u("open")),l.schema.push(u("high")),l.schema.push(u("low")),l.schema.push(u("close")));let T=l.schema.length;const g=[];for(const e of f){const t=r(e);g.push(t),l.schema.push(...t.fields)}const N=l.schema.length;if(0===N)return l;for(let e=m;e<=w;++e){const e=new Float64Array(N);e.fill(NaN),l.data.push(e)}if(s.includeTime)for(let e=m;e<=w;++e)l.data[e-m][0]=Object(n.ensureNotNull)(a.valueAt(e));if(s.includeUserTime){const t=e.timeScale();for(let e=m;e<=w;++e)l.data[e-m][b]=Object(n.ensureNotNull)(t.indexToUserTime(e)).getTime()/1e3}s.includeSeries&&d.bars().range(m,w).each(((e,t)=>{const s=l.data[e-m];return s[O]=h(t[1]),s[O+1]=h(t[2]),s[O+2]=h(t[3]),s[O+3]=h(t[4]),!1}));for(let e=0;e<f.length;++e){const t=f[e],s=g[e];for(let e=0;e<s.fields.length;++e){const n=s.fieldPlotOffsets[e],o=s.fieldToPlotIndex[e],i=m-n,c=w-n,a=T+e;t.data().range(i,c).each(((e,t)=>(l.data[e-i][a]=h(t[o]),!1)))}T+=s.fields.length}return l}function r(e){const t=e.metaInfo(),s={fieldToPlotIndex:[],fieldPlotOffsets:[],fields:[]},o=e.id(),i=e.title(!1,void 0,!1);for(let c=0;c<t.plots.length;++c){const a=t.plots[c];let r,u="";if(Object(l.isLinePlot)(a)||Object(l.isShapesPlot)(a)||Object(l.isCharsPlot)(a)||Object(l.isArrowsPlot)(a))r=Object(n.ensureDefined)(t.styles)[a.id];else if(Object(l.isOhlcPlot)(a))switch(r=t.ohlcPlots&&t.ohlcPlots[a.target],a.type){case"ohlc_open":u=` (${window.t("Open")})`;break;case"ohlc_high":u=" ("+window.t("High");break;case"ohlc_low":u=` (${window.t("Low")})`;break;case"ohlc_close":u=` (${window.t("Close")})`}if(void 0===r||r.isHidden||void 0===r.title)continue;const h=`${r.title}${u}`;s.fields.push(d(o,i,h)),s.fieldToPlotIndex.push(c+1),s.fieldPlotOffsets.push(e.offset(a.id))}return s}function d(e,t,s){return{type:"value",sourceType:"study",sourceId:e,sourceTitle:t,plotTitle:s}}function u(e){return{type:"value",sourceType:"series",plotTitle:e}}function h(e){return null!=e?e:NaN}}}]);