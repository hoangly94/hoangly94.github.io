(window.webpackJsonp=window.webpackJsonp||[]).push([["dome-panel","moment"],{"/MDk":function(t,e,i){},"0tRk":function(t,e,i){!function(t){"use strict";t.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"})}(i("wd/R"))},"4eeX":function(t,e,i){},"77R2":function(t,e,i){},"8mBD":function(t,e,i){!function(t){"use strict";t.defineLocale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(i("wd/R"))},B55N:function(t,e,i){!function(t){"use strict";t.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"Ah時m分s秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah時m分",LLLL:"YYYY年M月D日Ah時m分 dddd"},meridiemParse:/午前|午後/i,isPM:function(t){return"午後"===t},meridiem:function(t,e,i){return t<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",
m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(i("wd/R"))},BB8A:function(t,e,i){},D9Yq:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" width="16" height="17" fill="none"><rect width="15" height="9" stroke="currentcolor" rx="2.5" x=".5" y="7.5"/><circle stroke="currentcolor" cx="8" cy="12" r=".5"/><path stroke="currentcolor" d="M3.5 7c0 .28.22.5.5.5h8a.5.5 0 0 0 .5-.5V5a4.5 4.5 0 1 0-9 0v2z"/></svg>'},DoHr:function(t,e,i){!function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};t.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(t){if(0===t)return t+"'ıncı";var i=t%10;return t+(e[i]||e[t%100-i]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(i("wd/R"))},ET7x:function(t,e,i){t.exports={container:"container-2gpvcRL6",disabledDuration:"disabledDuration-2gpvcRL6"}},Ft8G:function(t,e,i){},HSHW:function(t,e,i){},"Ivi+":function(t,e,i){!function(t){"use strict";t.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 m분",LTS:"A h시 m분 s초",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h시 m분",LLLL:"YYYY년 MMMM D일 dddd A h시 m분"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(t){return"오후"===t},meridiem:function(t,e,i){return t<12?"오전":"오후"}})}(i("wd/R"))},KFNk:function(t,e,i){},MiOS:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"d",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a})),i.d(e,"e",(function(){return l}));var s=i("ldgD");function n(t,e){
return t.find(t=>t.value===e)||t[0]}function r(t){return new Date(t.format("YYYY-MM-DD[T]HH:mm[:00Z]")).valueOf()}function o(t,e){return(e.hasDatePicker?t.format("DD MMM YYYY"):"")+(e.hasTimePicker?", "+t.format("hh:mm A"):"")}function a(t,e){return e.filter(e=>null===t||void 0===e.supportedOrderTypes||e.supportedOrderTypes.includes(t))}function l(t){const e={type:t.value};var i;return i=t,Boolean(i.hasTimePicker||i.hasDatePicker)&&(e.datetime=r(s().utc().add(1,"days"))),e}},NbG7:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return o}));var s=i("q1tI");const n={showRelativePriceControl:!0,showCurrencyRiskInQty:!0,showPercentRiskInQty:!0,showBracketsInCurrency:!0,showBracketsInPercent:!0,showOrderPreview:!0,showCryptoBracketsInCurrency:!1,showCryptoBracketsInPercent:!1},r={showCryptoBracketsInCurrency:!1,showCryptoBracketsInPercent:!1},o=s.createContext({value:n,setValue:t=>{console.warn("unable to modify order ticket settings because context.setValue is not defined")}})},ODMg:function(t,e,i){t.exports={wrapper:"wrapper-1HqQ-Fxl"}},Oaa7:function(t,e,i){!function(t){"use strict";t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(i("wd/R"))},PVgW:function(t,e,i){"use strict";i.r(e);i("P5fv"),i("si6p");var s=i("ogJP"),n=i("R4+T");function r(t){return t=Math.abs(t),!Object(s.isInteger)(t)&&t>1&&(t=parseFloat(t.toString().replace(/^.+\./,"0."))),0<t&&t<1?Math.pow(10,function(t){const e=String(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(null===e)return 0;const i=e[1]?e[1].length:0,s=e[2]?parseInt(e[2],0):0;return Math.max(0,i-s)}(t)):1}function o(t,e){t.trigger("tvticker-beforechange");const i=t.data("TVTicker"),n=i&&i.step;let o=0;o=i.parser?i.parser(t.val()):Object(s.isInteger)(n)?parseInt(t.val(),10):parseFloat(t.val()),isNaN(o)&&(o=0);const a=r(n);let l=e(o,Math.max(a,r(o)));i.formatter&&(l=i.formatter(l)),t.val(l),t.change()}function a(t){const e=t.data("TVTicker"),i=e&&e.step,s=e&&e.max;o(t,(t,e)=>{let n=(Math.round(t*e)+Math.round(i*e))/e;return null!=s&&s<n&&(n=t),n})}function l(t){
const e=t.data("TVTicker"),i=e&&e.step,s=e&&e.min;o(t,(t,e)=>{let n=(Math.round(t*e)-Math.round(i*e))/e;return null!=s&&n<s&&(n=t),n})}$.fn.TVTicker=function(t={}){return this.each((function(){let e=!1;const i=$(this);let s=i.data("TVTicker");if(s?e=!0:s={step:Number(i.data("step"))||1},"step"in t&&(s.step=Number(t.step)||s.step),"min"in t&&(s.min=t.min),"max"in t&&(s.max=t.max),"formatter"in t&&(s.formatter=t.formatter),"parser"in t&&(s.parser=t.parser),i.data("TVTicker",s),e)return;const r=$('<div class="tv-ticker">').appendTo(i.parent()),o=$('<div class="tv-ticker__btn tv-ticker__btn--up">').html(n).appendTo(r),d=$('<div class="tv-ticker__btn tv-ticker__btn--down">').html(n).appendTo(r);r.on("mousedown",t=>{t.preventDefault(),i.focus()}),o.click(()=>{i.is(":disabled")||a(i)}),d.click(()=>{i.is(":disabled")||l(i)}),i.keydown(t=>{i.is(":disabled")||(38===t.keyCode?o.addClass("i-active"):40===t.keyCode&&d.addClass("i-active"))}),i.keyup(t=>{i.is(":disabled")||(38===t.keyCode?(a(i),o.removeClass("i-active")):40===t.keyCode&&(l(i),d.removeClass("i-active")))}),i.mousewheel(t=>{t.deltaY*(t.deltaFactor/100)>0?o.click():d.click()})}))}},Tyfs:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentcolor" stroke-linecap="round" d="M4 11l5-4 5 4"/></svg>'},bpih:function(t,e,i){!function(t){"use strict";t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(i("wd/R"))},bvyO:function(t,e,i){t.exports={headerWrapper:"headerWrapper-1NF_-3lE",header:"header-1NF_-3lE",item:"item-1NF_-3lE",arrow:"arrow-1NF_-3lE",upperCase:"upperCase-1NF_-3lE",textBlock:"textBlock-1NF_-3lE",summaryLine:"summaryLine-1NF_-3lE"}},cfPT:function(t,e,i){t.exports={container:"container-vN7pJrip",row:"row-vN7pJrip",button:"button-vN7pJrip",buttonOrdinary:"buttonOrdinary-vN7pJrip button-vN7pJrip",buttonBuy:"buttonBuy-vN7pJrip button-vN7pJrip",buttonSell:"buttonSell-vN7pJrip button-vN7pJrip"}},en3B:function(t,e,i){"use strict";i.d(e,"h",(function(){return s})),
i.d(e,"i",(function(){return n})),i.d(e,"g",(function(){return r})),i.d(e,"a",(function(){return o})),i.d(e,"k",(function(){return a})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return d})),i.d(e,"l",(function(){return u})),i.d(e,"j",(function(){return c})),i.d(e,"d",(function(){return h})),i.d(e,"e",(function(){return _})),i.d(e,"f",(function(){return p})),i.d(e,"m",(function(){return f}));var s,n,r,o,a,l,d,u,c,h,_,m=i("q1tI");!function(t){t[t.Wait=0]="Wait",t[t.Active=1]="Active",t[t.Editing=2]="Editing",t[t.Preview=3]="Preview"}(s||(s={})),function(t){t[t.Creating=0]="Creating",t[t.Placed=1]="Placed"}(n||(n={})),function(t){t.Popup="popup",t.Panel="panel"}(r||(r={})),function(t){t[t.StopLoss=0]="StopLoss",t[t.TakeProfit=1]="TakeProfit",t[t.TrailingStop=2]="TrailingStop"}(o||(o={})),function(t){t[t.Stop=0]="Stop",t[t.Limit=1]="Limit"}(a||(a={})),function(t){t[t.TakeProfit=75]="TakeProfit",t[t.StopLoss=25]="StopLoss"}(l||(l={})),function(t){t.Price="Price",t.Pips="Pips",t.Money="Money",t.Percent="Percent"}(d||(d={})),function(t){t.Units="Units",t.RiskInCurrency="RiskInCurrency",t.RiskInPercent="RiskInPercent",t.BaseCurrency="BaseCurrency",t.QuoteCurrency="QuoteCurrency"}(u||(u={})),function(t){t.Absolute="Absolute",t.Relative="Relative"}(c||(c={})),function(t){t[t.Minus=189]="Minus",t[t.NumMinus=109]="NumMinus",t[t.FirefoxMinus=173]="FirefoxMinus"}(h||(h={})),function(t){t[t.Plus=187]="Plus",t[t.NumPlus=107]="NumPlus",t[t.FirefoxPlus=61]="FirefoxPlus"}(_||(_={}));const p=m.createContext({resizerWidth:null,mode:r.Panel,supportTrailingStop:!1}),f={1:window.t("Limit"),2:window.t("Market"),3:window.t("Stop"),4:window.t("Stop Limit")}},iYuL:function(t,e,i){!function(t){"use strict";var e="Ene._Feb._Mar._Abr._May._Jun._Jul._Ago._Sep._Oct._Nov._Dic.".split("_"),i="Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_");t.defineLocale("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:function(t,s){return/-MMM-/.test(s)?i[t.month()]:e[t.month()]},weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mié._Jue._Vie._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(i("wd/R"))},
jVdC:function(t,e,i){!function(t){"use strict";var e="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");function s(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function n(t,e,i){var n=t+" ";switch(i){case"m":return e?"minuta":"minutę";case"mm":return n+(s(t)?"minuty":"minut");case"h":return e?"godzina":"godzinę";case"hh":return n+(s(t)?"godziny":"godzin");case"MM":return n+(s(t)?"miesiące":"miesięcy");case"yy":return n+(s(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,s){return""===s?"("+i[t.month()]+"|"+e[t.month()]+")":/D MMMM/.test(s)?i[t.month()]:e[t.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:n,y:"rok",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i("wd/R"))},lXzo:function(t,e,i){!function(t){"use strict";function e(t,e,i){var s,n;return"m"===i?e?"минута":"минуту":t+" "+(s=+t,n={mm:e?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[i].split("_"),s%10==1&&s%100!=11?n[0]:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?n[1]:n[2])}t.defineLocale("ru",{months:function(t,e){return{nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative"][t.month()]},monthsShort:function(t,e){return{nominative:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative"][t.month()]},weekdays:function(t,e){return{nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")}[/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/.test(e)?"accusative":"nominative"][t.day()]},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),
monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:e,mm:e,h:"час",hh:e,d:"день",dd:e,M:"месяц",MM:e,y:"год",yy:e},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(t){return/^(дня|вечера)$/.test(t)},meridiem:function(t,e,i){return t<4?"ночи":t<12?"утра":t<17?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-й";case"D":return t+"-го";case"w":case"W":return t+"-я";default:return t}},week:{dow:1,doy:7}})}(i("wd/R"))},ldgD:function(t,e,i){"use strict";i("YFKU"),i("HbRj");var s=i("wd/R");window.language&&(s.locale(window.language,{months:[window.t("January"),window.t("February"),window.t("March"),window.t("April"),window.t("May"),window.t("June"),window.t("July"),window.t("August"),window.t("September"),window.t("October"),window.t("November"),window.t("December")],monthsShort:[window.t("Jan"),window.t("Feb"),window.t("Mar"),window.t("Apr"),window.t("May"),window.t("Jun"),window.t("Jul"),window.t("Aug"),window.t("Sep"),window.t("Oct"),window.t("Nov"),window.t("Dec")],weekdays:[window.t("Sunday"),window.t("Monday"),window.t("Tuesday"),window.t("Wednesday"),window.t("Thursday"),window.t("Friday"),window.t("Saturday")],weekdaysShort:[window.t("Sun"),window.t("Mon"),window.t("Tue"),window.t("Wed"),window.t("Thu"),window.t("Fri"),window.t("Sat")],weekdaysMin:[window.t("Su",{context:"day_of_week"}),window.t("Mo",{context:"day_of_week"}),window.t("Tu",{context:"day_of_week"}),window.t("We",{context:"day_of_week"}),window.t("Th",{context:"day_of_week"}),window.t("Fr",{context:"day_of_week"}),window.t("Sa",{context:"day_of_week"})],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MMM D",l:"M/D/YYYY",LL:"MMM D, YYYY",ll:"MMM D LT",LLL:"LT - LL",lll:"MMM D, YYYY LT",LLLL:"ddd D MMMM YYYY LT",llll:"ddd D MMM YYYY LT"},calendar:{sameDay:window.t("{specialSymbolOpen}Today at{specialSymbolClose} {dayTime}").format({specialSymbolOpen:"[",specialSymbolClose:"]",dayTime:"LT"}),nextDay:window.t("{specialSymbolOpen}Tomorrow at{specialSymbolClose} {dayTime}").format({specialSymbolOpen:"[",specialSymbolClose:"]",dayTime:"LT"}),nextWeek:window.t("{dayName} {specialSymbolOpen}at{specialSymbolClose} {dayTime}").format({specialSymbolOpen:"[",specialSymbolClose:"]",dayTime:"LT",dayName:"dddd"}),
lastDay:window.t("{specialSymbolOpen}Yesterday at{specialSymbolClose} {dayTime}").format({specialSymbolOpen:"[",specialSymbolClose:"]",dayTime:"LT"}),lastWeek:window.t("{specialSymbolOpen}Last{specialSymbolClose} {dayName} {specialSymbolOpen}at{specialSymbolClose} {dayTime}").format({specialSymbolOpen:"[",specialSymbolClose:"]",dayTime:"LT",dayName:"dddd"}),sameElse:"L"},relativeTime:{future:function(t){return t===window.t("just now")?t:window.t("in %s",{context:"time_range"}).replace("%s",t)},past:function(t){return t===window.t("just now")?t:window.t("%s ago",{context:"time_range"}).replace("%s",t)},s:window.t("just now"),m:function(t){return window.t("%d minute",{plural:"%d minutes",count:t}).replace("%d",t)},mm:function(t){return window.t("%d minute",{plural:"%d minutes",count:t}).replace("%d",t)},h:window.t("an hour"),hh:function(t){return window.t("%d hour",{plural:"%d hours",count:t}).replace("%d",t)},d:window.t("a day"),dd:function(t){return window.t("%d day",{plural:"%d days",count:t}).replace("%d",t)},M:window.t("a month"),MM:function(t){return window.t("%d month",{plural:"%d months",count:t}).replace("%d",t)},y:window.t("a year"),yy:function(t){return window.t("%d year",{plural:"%d years",count:t}).replace("%d",t)}},week:{dow:1,doy:4}}),s.locale(window.language)),t.exports=s},"m6W+":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("EBrf"),n=i("Ialn");class r{constructor(t=" "){this._divider=t}format(t){const e=Object(s.splitThousands)(t,this._divider);return Object(n.isRtl)()?Object(n.startWithLTR)(e):e}parse(t){const e=Object(n.stripLTRMarks)(t).split(this._divider).join(""),i=Number(e);return isNaN(i)||/e/i.test(e)?{res:!1}:{res:!0,value:i,suggest:this.format(i)}}}},nr7h:function(t,e,i){"use strict";i.r(e);i("Ft8G");var s=i("hY0g"),n=i.n(s),r=i("Eyy1"),o=i("YFKU"),a=i("N22A"),l=i("PT1i"),d=i("Vdly"),u=i("8wgr"),c=i("nc0P"),h=i("/3z9");i("/MDk");const _={limitOrder:window.t("Limit"),stopOrder:window.t("Stop")};function m(t){return t.nodeType===Node.DOCUMENT_NODE}class p{constructor(t,e){this._pool=[];const i=t.get(0);m(i)?this._document=i:this._document=i.ownerDocument,this._handlers=e||{},this._ordersPool=new y(t,this._handlers),this._useCssTransform="transform"in this._document.createElement("span").style}allocate(){return this._pool.pop()||new f(this._document,this._ordersPool,this._handlers,this._useCssTransform)}free(t){t.destroy(),this._pool.push(t)}}class f{constructor(t,e,i,s){this._price=0,this._useCssTransform=s,this._ordersPool=e,this._handlers=i,this._allocatedOrderViews=[];const n=t.createElement("div");n.setAttribute("class","tv-dome-widget-main__row");const r=t.createElement("span");r.setAttribute("class","tv-dome-widget-main__value tv-dome-widget-main__value--price");const o=t.createElement("span");o.setAttribute("class","tv-dome-widget-main__value tv-dome-widget-main__value--sell");const a=t.createElement("span");a.setAttribute("class","tv-dome-widget-main__value tv-dome-widget-main__value--buy");const l=t.createElement("span")
;l.setAttribute("class","tv-dome-widget-main__meter tv-dome-widget-main__meter--sell");const d=t.createElement("span");d.setAttribute("class","tv-dome-widget-main__meter tv-dome-widget-main__meter--buy");const u=t.createElement("span");u.setAttribute("class","tv-dome-widget-main__value-readout");const c=t.createElement("span");c.setAttribute("class","tv-dome-widget-main__value-readout");const m=t.createTextNode(""),p=t.createTextNode(""),f=t.createTextNode("");this._useCssTransform&&(l.style.width=d.style.width="100%",l.style.transform=d.style.transform="scale(0, 1)");const y=t.createElement("span");y.setAttribute("class","tv-dome-widget-main__value tv-dome-widget-main__value--orders-buy");const v=t.createElement("span");v.textContent=_.limitOrder,v.setAttribute("class","tv-dome-widget-main__label"),y.appendChild(v);const b=t.createElement("span");b.setAttribute("class","tv-dome-widget-main__value tv-dome-widget-main__value--orders-sell");const g=t.createElement("span");g.textContent=_.limitOrder,g.setAttribute("class","tv-dome-widget-main__label"),b.appendChild(g),n.appendChild(o),n.appendChild(a),n.appendChild(r),n.appendChild(y),n.appendChild(b),r.appendChild(f),o.appendChild(l),a.appendChild(d),o.appendChild(u),a.appendChild(c),u.appendChild(m),c.appendChild(p),this._priceCell=r,this._priceText=f,this._askText=m,this._bidText=p,this._askMeter=l,this._bidMeter=d,this._ordersBuy=y,this._ordersSell=b,this._orderBuyLabel=v,this._orderSellLabel=g,this._isHigherThanBestBid=!1,this._isLowerThanBestAsk=!1,this._orderType=1,i&&i.bidAskClick&&(o.addEventListener("click",t=>this._handlerCellClick(-1,t),!1),a.addEventListener("click",t=>this._handlerCellClick(1,t),!1)),i&&i.bidAskContextMenu&&(o.addEventListener("contextmenu",t=>{i.bidAskContextMenu.call(null,t,{price:this._price,side:-1})},!1),a.addEventListener("contextmenu",t=>{i.bidAskContextMenu.call(null,t,{price:this._price,side:1})},!1)),o.addEventListener("mouseover",t=>{g.textContent=Object(h.modifiersFromEvent)(t)===h.Modifiers.Mod?_.stopOrder:_.limitOrder,g.style.visibility="visible"},!1),o.addEventListener("mouseout",()=>{g.style.visibility="hidden"},!1),a.addEventListener("mouseover",t=>{v.textContent=Object(h.modifiersFromEvent)(t)===h.Modifiers.Mod?_.stopOrder:_.limitOrder,v.style.visibility="visible"},!1),a.addEventListener("mouseout",()=>{v.style.visibility="hidden"},!1),this.$element=$(n)}updatePriceText(t){this._priceText.nodeValue=t}updateBidVolume(t){this._bidText.nodeValue!==t&&(this._bidText.nodeValue=t)}updateAskVolume(t){this._askText.nodeValue!==t&&(this._askText.nodeValue=t)}updateBidMeter(t){const e=Math.min(Math.max(t,0),1)||0;this._useCssTransform?this._bidMeter.style.transform=`scale(${e}, 1)`:this._bidMeter.style.width=100*e+"%"}updateAskMeter(t){const e=Math.min(Math.max(t,0),1)||0;this._useCssTransform?this._askMeter.style.transform=`scale(${e}, 1)`:this._askMeter.style.width=100*e+"%"}updatePriceHighlight(t,e){const i=this._priceCell.classList;if(i)i.toggle("tv-dome-widget-main__value--highlighted",t),
i.toggle("tv-dome-widget-main__value--long-position",e>0),i.toggle("tv-dome-widget-main__value--short-position",e<0);else{let i="tv-dome-widget-main__value tv-dome-widget-main__value--price";t&&(i+=" tv-dome-widget-main__value--highlighted"),e>0?i+=" tv-dome-widget-main__value--long-position":e<0&&(i+=" tv-dome-widget-main__value--short-position"),this._priceCell.setAttribute("class",i)}}setHigherThanBid(t){this._isHigherThanBestBid=t,this._updateLabelColor(this._orderBuyLabel,this._isActive(t))}updateAskLabels(t){this._isLowerThanBestAsk=t,this._updateLabelColor(this._orderSellLabel,this._isActive(t))}handlerKey(t){const e=Object(h.modifiersFromEvent)(t)===h.Modifiers.Mod;this._orderType=e?3:1,this._orderSellLabel.textContent=e?_.stopOrder:_.limitOrder,this._orderBuyLabel.textContent=e?_.stopOrder:_.limitOrder,this._updateLabelColor(this._orderBuyLabel,this._isActive(this._isHigherThanBestBid)),this._updateLabelColor(this._orderSellLabel,this._isActive(this._isLowerThanBestAsk))}updatePrice(t){this._price=t}updateOrders(t){for(;this._allocatedOrderViews.length>t.length;){const t=this._allocatedOrderViews.pop();t&&this._ordersPool.free(t)}for(;this._allocatedOrderViews.length<t.length;)this._allocatedOrderViews.push(this._ordersPool.allocate());let e=!1,i=!1;for(let s=t.length;s-- >0;){const n=t[s],r=this._allocatedOrderViews[s],o=!n.noCollapse&&(n.buy?e:i);r.updateOrderData(n.order,n.pricePropertyName),r.updateQty(n.qty),r.updateTypeText(n.typeText),r.updateClassName({isBuy:n.buy,collapsed:o,type:n.type,inactive:n.inactive,ghost:n.ghost,highlighted:n.highlighted}),n.buy?(this._ordersBuy.appendChild(r.element),e=!0):(this._ordersSell.insertBefore(r.element,this._ordersSell.firstChild),i=!0)}}destroy(){const t=this._allocatedOrderViews.length;if(t>0){for(let e=0;e<t;e++)this._ordersPool.free(this._allocatedOrderViews[e]);this._allocatedOrderViews.length=0}}paintPrice(t){const e=this.$element.context.classList;e.toggle("tv-dome-widget-main__value--color-ask","ask"===t),e.toggle("tv-dome-widget-main__value--color-bid","bid"===t)}_handlerCellClick(t,e){const i=Object(h.modifiersFromEvent)(e);if(![h.Modifiers.None,h.Modifiers.Mod].includes(i))return;const s=1===t?this._bidMeter:this._askMeter,n=1===t?"buy":"sell";clearTimeout(this._activeStateTimerId),s.classList.add(`tv-dome-widget-main__meter--${n}-active`),this._activeStateTimerId=setTimeout(()=>{s.classList.remove(`tv-dome-widget-main__meter--${n}-active`)},500),this._handlers.bidAskClick.call(null,e,{price:this._price,side:t,type:i===h.Modifiers.Mod?3:1})}_updateLabelColor(t,e){const i=t.classList;if(i)i.toggle("tv-dome-widget-main__label--active",e);else{let i="tv-dome-widget-main__label";e&&(i+=" tv-dome-widget-main__label--active"),t.setAttribute("class",i)}}_isActive(t){const e=3===this._orderType;return e&&!t||!e&&t}}class y{constructor(t,e){this._pool=[],this._handlers=e;const i=t.get(0);m(i)?this._document=i:this._document=i.ownerDocument}allocate(){return this._pool.pop()||new v(this._document,this._handlers)}free(t){t.destroy(),this._pool.push(t)}}class v{
constructor(t,e){this._order=null,this._pricePropertyName=null;const s=t.createElement("div");s.setAttribute("class","tv-dome-widget-main__order tv-dome-widget-order");const n=t.createElement("div");n.innerHTML=i("BhuR"),n.setAttribute("class","tv-dome-widget-order__close");const r=t.createElement("span");r.setAttribute("class","tv-dome-widget-order__qty");const o=t.createTextNode(""),a=t.createElement("span");a.setAttribute("class","tv-dome-widget-order__type");const l=t.createTextNode("");s.appendChild(n),s.appendChild(r),r.appendChild(o),s.appendChild(a),a.appendChild(l),e&&e.closeButtonClick&&n.addEventListener("click",t=>{e.closeButtonClick.call(null,t,this._order)},!1),e&&e.qtyClick&&r.addEventListener("click",t=>{e.qtyClick.call(null,t,this._order)},!1),e&&e.orderMousedown&&r.addEventListener("mousedown",t=>{null!==this._order&&null!==this._pricePropertyName&&e.orderMousedown.call(null,t,{order:this._order,pricePropertyName:this._pricePropertyName})},!1),this.element=s,this._qtyText=o,this._typeText=l}updateQty(t){this._qtyText.nodeValue=t||""}updateTypeText(t){this._typeText.nodeValue=t||""}updateClassName(t){const{isBuy:e,collapsed:i,type:s,inactive:n,ghost:r,highlighted:o}=t;let a="tv-dome-widget-main__order tv-dome-widget-order";i&&(a+=" tv-dome-widget-main__order--collapsed"),e&&(a+=" tv-dome-widget-order--buy"),s&&(a+=" tv-dome-widget-order--type-"+s),n&&(a+=" tv-dome-widget-order--inactive"),r&&(a+=" tv-dome-widget-order--ghost"),o&&(a+=" tv-dome-widget-order--highlighted"),this.element.setAttribute("class",a)}updateOrderData(t,e){this._order=t,this._pricePropertyName=e}destroy(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this._order=null}}var b=i("zXvd");class g{constructor(t,e){this._$container=null,this._$listContainer=null,this._$offscreenArrowHigher=null,this._$offscreenArrowLower=null,this._$dragShield=null,this._offscreenPriceHigher=!1,this._offscreenPriceLower=!1,this._viewsList=[],this._bids={},this._asks={},this._bestAskIndex=1/0,this._bestBidIndex=-1/0,this._repaintScheduled=!1,this._worstBidIndex=1/0,this._worstAskIndex=-1/0,this._currentVolumeMax=0,this._orders={},this._positionIndex=NaN,this._positionQty=0,this._orderGhost=null,this._totalVolumeBid=0,this._totalVolumeAsk=0,this._buyOrdersValue=0,this._sellOrdersValue=0,this._buyOrdersValueInactive=0,this._sellOrdersValueInactive=0,this._buyOrdersQuantity=0,this._sellOrdersQuantity=0,this._handlers=t||{},this._showPricesWith=e,this.autoCenterRequired=new n.a(!1),this.height=0,this.topIndex=NaN,this._symbolData=null,this._lastPriceIndex=NaN,this._viewAllocated={},this._viewPool=null,this._invalidatedAsk={},this._invalidatedBid={},this._invalidatedPriceHighlight={},this._invalidatedOrders={},this._dynamicModeState=!1,this._numericFormatter=new b.NumericFormatter,this._showPricesWith.zeroVolume.subscribe(this.scheduleRepaint.bind(this)),this._showPricesWith.spread.subscribe(this.scheduleRepaint.bind(this)),this.reset()}reset(){this.topIndex=NaN,this._symbolData=null,this._lastPriceIndex=NaN,this.resetData(),
this.resetView(),this.resetOrders(),this.resetOrderGhost(),this.resetPosition(),this.autoCenterRequired.setValue(!1)}resetData(){if(this._bids={},this._asks={},this._totalVolumeBid=0,this._totalVolumeAsk=0,this._recalcMaxVolume(),this._recalcBestWorstBid(),this._recalcBestWorstAsk(),this._viewAllocated)for(const t in this._viewAllocated)this._viewAllocated.hasOwnProperty(t)&&(this._invalidatedAsk[t]=!0,this._invalidatedBid[t]=!0);this._$offscreenArrowHigher&&this._$offscreenArrowLower&&($(this._$offscreenArrowHigher).addClass("js-hidden"),$(this._$offscreenArrowLower).addClass("js-hidden")),this._offscreenPriceHigher=!1,this._offscreenPriceLower=!1,this.scheduleRepaint()}resetOrders(){if(this._orders)for(const t in this._orders)this._orders.hasOwnProperty(t)&&(this._invalidatedOrders[t]=!0);this._orders={},this._buyOrdersValue=0,this._sellOrdersValue=0,this._buyOrdersValueInactive=0,this._sellOrdersValueInactive=0,this._buyOrdersQuantity=0,this._sellOrdersQuantity=0,this.scheduleRepaint()}resetPosition(){this._invalidatedPriceHighlight[this._positionIndex]=!0,this._positionIndex=NaN,this._positionQty=0,this.scheduleRepaint()}resetView(){if(this._viewAllocated&&this._viewPool)for(const t in this._viewAllocated)this._viewAllocated.hasOwnProperty(t)&&(this._viewAllocated[t].$element.detach(),this._viewPool.free(this._viewAllocated[t]),delete this._viewAllocated[t]);this._$listContainer&&(this._viewsList.length=0,this._$listContainer.empty()),this.setDragShield(!1,!1),this.scheduleRepaint()}setSymbolInfo(t){this._symbolData=Object.assign({},t)}setContainer(t){if(this._$container===t)return;this._$container&&(this.resetView(),this._$container.empty()),this._$container=t;const e=t.prop("ownerDocument");this._containerWnd=e&&e.defaultView,this._viewPool=new p(t,this._handlers),this._viewAllocated={},this._$listContainer=$("<div>",t).addClass("tv-dome-widget-main__anchor").appendTo(t),this._$offscreenArrowHigher=$("<span>",t).addClass("tv-dome-widget-main__offscreen-arrow tv-dome-widget-main__offscreen-arrow--higher js-hidden").html(i("pG/X")).appendTo(t),this._$offscreenArrowLower=$("<span>",t).addClass("tv-dome-widget-main__offscreen-arrow tv-dome-widget-main__offscreen-arrow--lower js-hidden").html(i("zIOD")).appendTo(t),this._$dragShield=$("<div>",t).addClass("tv-dome-widget-main__drag-shield js-hidden").appendTo(t),this._repaintScheduled=!1,this.scheduleRepaint()}setHeight(t){t!==this.height&&(this.height=t,this.checkAutoCenter(),this.scheduleRepaint())}shiftTopIndexRelativeToIndex(t,e){const i=this.correctIndex(t,e);this._setTopIndex(i)}handlerKey(t){let e=this.topIndex;this._canIndexBeDisplayed(e)||(e=this.correctIndex(e,-1));const i=this.correctIndex(e,1-this.height);if(!isFinite(i))return;const s=this._viewAllocated;for(let n=i;n<=e;n++){if(!this._canIndexBeDisplayed(n))continue;const e=s&&s[n];e&&e.handlerKey(t)}}correctIndex(t,e){if(!isFinite(t))return t;if(this._showPricesWith.zeroVolume.value()&&this._showPricesWith.spread.value())return t+e;const i=e>0?1:-1;let s=0,n=1
;for(e=Math.abs(e);s<e;++n)this._canIndexBeDisplayed(t+i*n)&&(s+=1);return t+i*(n-1)}centerOnLast(){this.autoCenterRequired.setValue(!1);const t=this._autoCenterTargetTopIndex();isFinite(t)&&this._setTopIndex(t)}guessOrderType(t,e){const i=this.priceToIndex(t);if(!isFinite(t))return null;if(1!==e&&-1!==e)return null;let s=this._bestAskIndex,n=this._bestBidIndex;return isFinite(s)||(s=n+1),isFinite(n)||(n=s-1),isFinite(s)||isFinite(n)||(s=n=this._lastPriceIndex),1===e?i&&i<s?1:3:i&&i>n?1:3}indexToPrice(t){return null===this._symbolData?NaN:Number(Object(c.Big)(t).mul(this._symbolData.minTick))}priceToIndex(t){return this._symbolData?Math.round(t/this._symbolData.minTick):NaN}updateData(t){let e=!1;if(t.snapshot){const t=0===Object.keys(this._asks).length&&0===Object.keys(this._bids).length;e=!this._showPricesWith.zeroVolume.value()&&!this._showPricesWith.spread.value()&&t,this.resetData()}if(t.bids){for(let e=0;e<t.bids.length;e++){const i=this.priceToIndex(t.bids[e].price),s=t.bids[e].volume,n=this._bids[i]||0;n!==s&&(s>0?(this._totalVolumeBid+=s-n,this._bids[i]=s):(this._totalVolumeBid-=n,delete this._bids[i]),this._invalidatedBid[i]=!0)}this._recalcBestWorstBid()}if(t.asks){for(let e=0;e<t.asks.length;e++){const i=this.priceToIndex(t.asks[e].price),s=t.asks[e].volume,n=this._asks[i]||0;n!==s&&(s>0?(this._totalVolumeAsk+=s-n,this._asks[i]=s):(this._totalVolumeAsk-=n,delete this._asks[i]),this._invalidatedAsk[i]=!0)}this._recalcBestWorstAsk()}this._recalcMaxVolume(),e?this.centerOnLast():this.checkAutoCenter(),this._dynamicModeState&&this.centerOnLast(),this.scheduleRepaint()}totalVolumeBid(){return this._totalVolumeBid}totalVolumeAsk(){return this._totalVolumeAsk}buyOrdersValue(){return this._buyOrdersValue}sellOrdersValue(){return this._sellOrdersValue}buyInactiveOrdersValue(){return this._buyOrdersValueInactive}sellInactiveOrdersValue(){return this._sellOrdersValueInactive}buyOrdersQuantity(){return this._numericFormatter.format(this._buyOrdersQuantity)}sellOrdersQuantity(){return this._numericFormatter.format(this._sellOrdersQuantity)}updateOrders(t){this.resetOrders();for(let e=0;e<t.length;e++){const i=t[e],s=6===i.status;if(1===i.side?(this._buyOrdersValue+=Number(s),this._buyOrdersValueInactive+=Number(!s),this._buyOrdersQuantity+=s?i.qty:0):(this._sellOrdersValue+=Number(s),this._sellOrdersValueInactive+=Number(!s),this._sellOrdersQuantity+=s?i.qty:0),i.stopPrice){const t=this.priceToIndex(i.stopPrice);this._orders[t]||(this._orders[t]=[]),this._orders[t].push({order:i,pricePropertyName:"stopPrice"}),this._invalidatedOrders[t]=!0}if(void 0!==i.limitPrice){const t=this.priceToIndex(i.limitPrice);this._orders[t]||(this._orders[t]=[]),this._orders[t].push({order:i,pricePropertyName:"limitPrice"}),this._invalidatedOrders[t]=!0}}this.scheduleRepaint()}updateLast(t){const e=this.priceToIndex(t);e!==this._lastPriceIndex&&(this._invalidatedPriceHighlight[this._lastPriceIndex]=!0,this._invalidatedPriceHighlight[e]=!0,this._lastPriceIndex=e,this.checkAutoCenter(),this.scheduleRepaint())}updatePosition(t){
if(!t||!t.qty)return void this.resetPosition();const e=this.priceToIndex(t.avgPrice),i=Math.abs(t.qty)*(1===t.side?1:-1);this._positionIndex===e&&this._positionQty===i||(this._invalidatedPriceHighlight[this._positionIndex]=!0,this._invalidatedPriceHighlight[e]=!0,this._positionIndex=e,this._positionQty=i,this.scheduleRepaint())}resetOrderGhost(){this._orderGhost&&(this._invalidatedOrders[this._orderGhost.index]=!0,this._invalidatedOrders[this._orderGhost.originIndex]=!0,this._orderGhost=null,this.scheduleRepaint())}setOrderGhost(t){const{order:e,pricePropertyName:i,price:s}=t;this.resetOrderGhost();const n=this.priceToIndex(s);isFinite(n)&&(this._orderGhost={ghost:!0,order:e,pricePropertyName:i,price:s,index:n,originIndex:this.priceToIndex(e[i])},this._invalidatedOrders[n]=!0,this.scheduleRepaint())}setDragShield(t,e){this._$dragShield&&(this._$dragShield.toggleClass("js-hidden",!t),this._$dragShield.toggleClass("tv-dome-widget-main__drag-shield--order",e))}scheduleRepaint(){this._repaintScheduled||this._symbolData&&(this._containerWnd&&this._containerWnd.requestAnimationFrame?this._containerWnd.requestAnimationFrame(()=>this.repaint()):window.setTimeout(()=>this.repaint(),0),this._repaintScheduled=!0)}formatVolume(t){return null===this._symbolData?String(t):this._symbolData.volumeFormatter.format(t)}repaint(){if(this._repaintScheduled=!1,!this._$listContainer)return;if(!this._symbolData)return;if(null===this._viewPool)return;let t=this.topIndex;this._canIndexBeDisplayed(t)||(t=this.correctIndex(t,-1));const e=this.correctIndex(t,1-this.height);if(!isFinite(e))return;for(;this._viewsList.length<this.height;){const t=this._viewPool.allocate();t.$element.appendTo(this._$listContainer),this._viewsList.push(t)}for(;this._viewsList.length>this.height;){const t=Object(r.ensureDefined)(this._viewsList.pop());t.$element.detach(),this._viewPool.free(t)}const i=this._viewAllocated;this._viewAllocated={};for(let n=0;n<this._viewsList.length;n++){const e=this.correctIndex(t,-n),i=this._viewsList[n];this._viewAllocated[e]=i}const s=this._viewAllocated;for(let n=e;n<=t;n++){if(!this._canIndexBeDisplayed(n))continue;let t=s[n];this._viewPool&&!t&&(t=this._viewPool.allocate(),s[n]=t);const e=this._orderGhost;if(i[n]!==s[n]){const e=this.indexToPrice(n);t.updatePrice(e),t.updatePriceText(this._symbolData.priceFormatter.format(e))}t.paintPrice(this.typePrice(n)),this._asks[n]&&this._asks[n]!==1/0?t.updateAskVolume(this.formatVolume(this._asks[n])):t.updateAskVolume(""),t.updateAskLabels(n<this._bestAskIndex),this._bids[n]&&this._bids[n]!==1/0?t.updateBidVolume(this.formatVolume(this._bids[n])):t.updateBidVolume(""),t.setHigherThanBid(n>this._bestBidIndex),t.updateAskMeter(this._asks[n]===1/0?100:this._asks[n]/this._currentVolumeMax||0),t.updateBidMeter(this._bids[n]===1/0?100:this._bids[n]/this._currentVolumeMax||0);const r=n===this._lastPriceIndex,o=n===this._positionIndex?this._positionQty:0;t.updatePriceHighlight(r,o);let a,l,d=this._orders[n]||[];null!==e&&(e.index===n&&(e.originIndex!==n?d=d.concat(e):l=e.order.id),
e.index!==n&&e.originIndex!==n||(a=e.order.side));for(let i=0;i<d.length;i++){const t=d[i],s=t.order,n=s.filledQty||0;switch(t.inactive=6!==s.status||4===s.type&&"limitPrice"===t.pricePropertyName,s.type){case 2:t.typeText=$.t("Market"),t.type="market";break;case 1:t.typeText=s.parentId?$.t("TakeProfit"):$.t("Limit"),t.type="limit";break;case 3:t.typeText=s.parentId?$.t("StopLoss"):$.t("Stop",{context:"order"}),t.type="stop";break;case 4:t.typeText=$.t("StopLimit"),t.type="stoplimit";break;default:t.typeText=""}t.qty=this._symbolData.quantityFormatter.format(s.qty-n),t.buy=1===s.side,t.noCollapse=s.side===a,t.highlighted=null!==e&&void 0!==l&&s.id===l&&e.pricePropertyName===t.pricePropertyName}t.updateOrders(d)}if(isFinite(this._lastPriceIndex)){const i=this._lastPriceIndex>t,s=this._lastPriceIndex<e;i!==this._offscreenPriceHigher&&this._$offscreenArrowHigher&&(this._offscreenPriceHigher=i,this._$offscreenArrowHigher.toggleClass("js-hidden",!i)),s!==this._offscreenPriceLower&&this._$offscreenArrowLower&&(this._offscreenPriceLower=s,this._$offscreenArrowLower.toggleClass("js-hidden",!s))}for(const n in this._invalidatedBid)this._invalidatedBid.hasOwnProperty(n)&&delete this._invalidatedBid[n];for(const n in this._invalidatedAsk)this._invalidatedAsk.hasOwnProperty(n)&&delete this._invalidatedAsk[n];for(const n in this._invalidatedPriceHighlight)this._invalidatedPriceHighlight.hasOwnProperty(n)&&delete this._invalidatedPriceHighlight[n];for(const n in this._invalidatedOrders)this._invalidatedOrders.hasOwnProperty(n)&&delete this._invalidatedOrders[n]}typePrice(t){return t>=this._bestAskIndex?"ask":t<=this._bestBidIndex?"bid":void 0}toggleDynamicModeState(){return this._dynamicModeState=!this._dynamicModeState,this._dynamicModeState}getDynamicModeState(){return this._dynamicModeState}checkAutoCenter(){isFinite(this.topIndex)||this.centerOnLast();const t=this.topIndex,e=this.correctIndex(this.topIndex,1-this.height);let i;i=isFinite(this._bestBidIndex)?this._bestBidIndex:isFinite(this._bestAskIndex)?this._bestAskIndex:isFinite(this._lastPriceIndex)?this._lastPriceIndex:NaN;let s=NaN;isFinite(this._bestAskIndex)?s=this._bestAskIndex:isFinite(this._bestBidIndex)?s=this._bestBidIndex:isFinite(this._lastPriceIndex)&&(i=this._lastPriceIndex);let n=!1;(s+3>t||i-3<e)&&this.topIndex!==this._autoCenterTargetTopIndex()&&(n=!0),this.autoCenterRequired.setValue(n)}isSpread(t){return this._bestAskIndex>t&&t>this._bestBidIndex}_setTopIndex(t){t!==this.topIndex&&(this.topIndex=t,this.checkAutoCenter(),this.scheduleRepaint())}_canIndexBeDisplayed(t){const e=this._showPricesWith.zeroVolume.value(),i=this._showPricesWith.spread.value();if(e&&!this.isSpread(t))return!0;if(i&&this.isSpread(t))return!0;const s=t===this._lastPriceIndex,n=t===this._positionIndex,r=this._bids.hasOwnProperty(t)||this._asks.hasOwnProperty(t),o=t<=this._worstBidIndex||this._worstAskIndex<=t,a=this._orders[t]||[],l=this._orderGhost&&this._orderGhost.index===t;return n||s||l||o||r||0!==a.length}_getGapMiddleIndex(){let t=this._bestAskIndex,e=this._bestBidIndex
;return isFinite(t)||(t=e),isFinite(e)||(e=t),(e+t)/2}_autoCenterTargetTopIndex(){return this.correctIndex(Math.floor(this._getCenterIndex()),Math.floor(this.height/2))}_getCenterIndex(){const t=this._getGapMiddleIndex();return isFinite(t)?t:isFinite(this._bestBidIndex)?this._bestBidIndex:isFinite(this._bestAskIndex)?this._bestAskIndex:isFinite(this._lastPriceIndex)?this._lastPriceIndex:NaN}_recalcMaxVolume(){let t=0;for(const e in this._asks)this._asks.hasOwnProperty(e)&&(t=Math.max(this._asks[e],t));for(const e in this._bids)this._bids.hasOwnProperty(e)&&(t=Math.max(this._bids[e],t));t!==this._currentVolumeMax&&(this._currentVolumeMax=t)}_recalcBestWorstBid(){let t=-1/0,e=1/0;for(const i in this._bids)this._bids.hasOwnProperty(i)&&(+i>t&&(t=+i),+i<e&&(e=+i));this._bestBidIndex=t,this._worstBidIndex=e}_recalcBestWorstAsk(){let t=1/0,e=-1/0;for(const i in this._asks)this._asks.hasOwnProperty(i)&&(+i<t&&(t=+i),+i>e&&(e=+i));this._bestAskIndex=t,this._worstAskIndex=e}}i("PVgW"),i("4eeX"),i("KFNk");class w{constructor(t){this._nodes=null,this._symbolData=null,this._positionInvalidated=!0,this._plInvalidated=!0,this._repaintScheduled=!1,this._calculatePLUsingLast=!1,this._plDirectionCache=0,this._plTextCache="",this._hasLotSize=new n.a(!1),this._handlers=t||{},this._numericFormatter=new b.NumericFormatter,this._uiState={plViewType:d.getJSON(u.a.PROFIT_VIEW_TYPE,0)},this.reset(),this._integerFormatter=new b.NumericFormatter(0),this._oneDecimalFormatter=new b.NumericFormatter(1),this.qty=new n.a(1),this.qty.subscribe(t=>this._handlers.qtyChange.call(null,t)),this._qtyProperties={min:1,step:1,max:1,format:null}}reset(){this._position=void 0,this._pl=void 0,this._lastPrice=void 0,this._bid=void 0,this._ask=void 0,this._symbolData=null,this._positionInvalidated=!0,this._plInvalidated=!0,this.scheduleRepaint()}setBrokerConfigFlags(t){this._calculatePLUsingLast=t.calculatePLUsingLast}setSymbolInfo(t){const{qtyProperties:e}=t;this._symbolData=t,this._qtyProperties={min:e.min,step:e.step,max:e.max,format:this._numericFormatter}}getQtyProperties(){return this._qtyProperties}updatePosition(t){this._position=t,this._position||(this._pl=void 0),this._positionInvalidated=!0,this._plInvalidated=!0,this.scheduleRepaint()}updatePL(t){this._pl=t,this._position&&(this._plInvalidated=!0,this.scheduleRepaint())}updateLast(t,e,i){this._lastPrice=t,this._bid=e,this._ask=i,this._position&&0!==this._uiState.plViewType&&(this._plInvalidated=!0,this.scheduleRepaint())}bid(){return this._bid}ask(){return this._ask}removeNodesIfExist(){if(null!==this._nodes){const t=this._nodes.container;for(;null!==t.firstChild;)t.removeChild(t.firstChild);let e;for(e in this._nodes)e in this._nodes&&delete this._nodes[e]}this._plDirectionCache=0,this._plTextCache=""}onPlClick(t){t.preventDefault(),this._uiState.plViewType=-~this._uiState.plViewType%3,this._plInvalidated=!0,d.setValue(u.a.PROFIT_VIEW_TYPE,this._uiState.plViewType),this.scheduleRepaint()}onPositionClick(t){var e;t.preventDefault()
;const i=Math.abs(Number(null===(e=this._position)||void 0===e?void 0:e.qty));i>0&&isFinite(i)&&this.qty.setValue(i)}setNodes(t){this._nodes=t}scheduleRepaint(){this._repaintScheduled||(window.requestAnimationFrame?window.requestAnimationFrame(()=>this.repaint()):window.setTimeout(()=>this.repaint(),0),this._repaintScheduled=!0)}repaint(){var t,e,i,s;this._repaintScheduled=!1;const n=this._nodes;if(null==n?void 0:n.container){if(this._positionInvalidated){this._positionInvalidated=!1;const s=(null===(t=this._position)||void 0===t?void 0:t.qty)||0;if(n.pl.classList.toggle("tv-dome-calc-block__pl--disabled",0===s),0!==s&&this._symbolData){const t=Math.abs(s),i=null===(e=this._position)||void 0===e?void 0:e.avgPrice,r=this._symbolData.priceFormatter.format(i);let o;o=this._symbolData.volumeFormatter?this._symbolData.volumeFormatter.format(t):t+"",n.positionText.nodeValue=`${o} @ ${r}`}else n.positionText.nodeValue="—";const r=null===(i=this._position)||void 0===i?void 0:i.side;n.position.classList.toggle("tv-dome-calc-block__position--buy",0!==s&&1===r),n.position.classList.toggle("tv-dome-calc-block__position--sell",0!==s&&-1===r),n.position.classList.toggle("tv-dome-calc-block__position--disabled",0===s)}if(this._plInvalidated){this._plInvalidated=!1;let t=0,e="—",i=NaN;if(this._position){let e=Number(this._lastPrice);const s=-1===this._position.side;this._calculatePLUsingLast||(e=Number(s?this._ask:this._bid)),i=(e-this._position.avgPrice)*(s?-1:1),t=i<0?-1:1}if(2===this._uiState.plViewType){let t=NaN;this._position&&(t=i/this._position.avgPrice),e=isFinite(t)?(100*t).toFixed(2)+"%":"—"}else if(1===this._uiState.plViewType){let t=NaN;if(this._position&&this._symbolData){const{pipSize:e,minTick:s}=this._symbolData,n=isFinite(e)&&e!==s?this._oneDecimalFormatter:this._integerFormatter;t=parseFloat(n.format(i/(e||s)))}e=isFinite(t)?$.t("{pips} pips").format({pips:String(t)}):"—"}else void 0!==this._pl?(e=this._pl.toFixed(2),void 0!==(null===(s=this._symbolData)||void 0===s?void 0:s.positionCurrency)&&(e=`${e} ${this._symbolData.positionCurrency}`)):e="—";this._plTextCache!==e&&(n.plText.nodeValue=e,this._plTextCache=e),this._plDirectionCache!==t&&(n.pl.classList.toggle("tv-dome-calc-block__pl--loss",t<0),n.pl.classList.toggle("tv-dome-calc-block__pl--profit",t>0),this._plDirectionCache=t)}}}setHasLotSize(t){this._hasLotSize.setValue(t)}hasLotSize(){return this._hasLotSize.readonly()}}var M=i("kcTO"),k=i("nEwK");class D{constructor(t,e,i){this._expiresAt=0,this._delay=t,this._doneCb=e,this._progressCb=i}run(){if(this._timeoutId)return;const t=Date.now?Date.now():+new Date;this._expiresAt=t+this._delay,this._timeoutId=window.setTimeout(()=>{this.abort(),this._doneCb()},this._delay),this._trackProgressScheduled||this._trackProgress()}revert(){this._timeoutId&&(window.clearTimeout(this._timeoutId),this._timeoutId=void 0,this.run())}abort(){this._timeoutId&&(window.clearTimeout(this._timeoutId),this._timeoutId=void 0,this._expiresAt=0,this._progressCb&&this._progressCb(0))}setWindow(t){this._wnd=t}_trackProgress(){
if(this._trackProgressScheduled=!1,!this._progressCb||!this._timeoutId)return;const t=Date.now?Date.now():+new Date;let e=1-(this._expiresAt-t)/this._delay;e=Math.max(Math.min(e,1),0),this._progressCb(e),this._wnd&&this._wnd.requestAnimationFrame?this._wnd.requestAnimationFrame(()=>{this._trackProgress()}):window.setTimeout(()=>{this._trackProgress()},40),this._trackProgressScheduled=!0}}var S=i("9pog"),T=i("/DW5"),L=i("7KDR"),O=i("5VQP"),x=i("gWrr"),P=i("aIyQ"),Y=i.n(P);class C{constructor(){this._customFieldsCount=new n.a(0),this._currentValuesSummaryLine=new n.a(""),this._onCustomFieldsUpdate=new Y.a,this._selectedComboBoxValues=new Map,this._comboBoxItems=new n.a([]),this._rewriteDisplayedSelectedItems=()=>{const t=this._comboBoxItems.value().map(t=>this._getSelectedComboBoxItemName(t)),e=this._getCurrentDurationName();void 0!==e&&t.push(e);const i=t.join(", ");this._currentValuesSummaryLine.setValue(i)},this._recountCustomFields=()=>{const t=void 0!==this._currentDuration?1:0;this._customFieldsCount.setValue(this._comboBoxItems.value().length+t)},this._recountCustomFields()}setCustomFields(t){const e=[];this._selectedComboBoxValues.forEach(t=>t.unsubscribe(this._rewriteDisplayedSelectedItems)),this._selectedComboBoxValues.clear(),t.forEach(t=>{if("ComboBox"===t.inputType){const i=new n.a(t.items[0].value);i.subscribe(this._rewriteDisplayedSelectedItems),this._selectedComboBoxValues.set(t.id,i),e.push(t)}}),this._comboBoxItems.setValue(e),this._rewriteDisplayedSelectedItems(),this._recountCustomFields(),this._onCustomFieldsUpdate.fire()}comboBoxItems(){return this._comboBoxItems.readonly()}getSelectedComboBoxValues(){return this._selectedComboBoxValues}getCustomFieldsCount(){return this._customFieldsCount.value()}currentValuesSummaryLine(){return this._currentValuesSummaryLine.readonly()}onCustomFieldsUpdate(){return this._onCustomFieldsUpdate}subscribeRecountCustomFields(t){this._customFieldsCount.subscribe(t)}unsubscribeRecountCustomFields(t){this._customFieldsCount.unsubscribe(t)}setDuratonsInfo(t,e){void 0!==e&&(this._durationsMetaInfo=e),this._currentDuration=t,this._rewriteDisplayedSelectedItems()}_getSelectedComboBoxItemName(t){const e=Object(r.ensureDefined)(this._selectedComboBoxValues.get(t.id)).value(),i=t.items.find(t=>t.value===e);return Object(r.ensureDefined)(i).text}_getCurrentDurationName(){var t,e;const i=null===(t=this._currentDuration)||void 0===t?void 0:t.type,s=null===(e=this._durationsMetaInfo)||void 0===e?void 0:e.find(t=>t.value===i);return null==s?void 0:s.name}}var N=i("i8i4"),I=i.n(N),A=i("q1tI"),B=i.n(A),F=i("vqb8"),V=i("QAe6"),j=i("xx2B");function H(t){const e=t.calcData,[i,s]=Object(V.a)(e.qty),[n,r]=B.a.useState(!1),{step:a,min:l}=e.getQtyProperties(),d=Object(F.a)({watchedValue:e.hasLotSize()})?Object(o.t)("Lots"):Object(o.t)("Units");return B.a.createElement(j.a,{mode:"float",value:i,onValueChange:t=>s(t),errorHandler:t=>r(t),error:n,min:l,step:a,title:d})}var E=i("MiOS"),W=i("Iivm"),U=i("TSYQ"),q=i("P1zo"),z=i("a2Ze"),R=i("ET7x");function G(t){
return void 0!==t.currentDuration&&void 0!==t.durationsMetaInfo?B.a.createElement(z.a,{currentDuration:t.currentDuration,durationsMetaInfo:t.durationsMetaInfo,onDurationChanged:t.onDurationChanged}):B.a.createElement("span",{className:R.disabledDuration},"Time in Force")}var Q=i("bvyO"),J=i("Tyfs"),Z=i("q3Vr");function K(t){const e=t.domDetails,[i,s]=Object(V.a)(t.openState),n=Object(F.a)({watchedValue:t.currentDuration}),a=Object(F.a)({watchedValue:t.durationsMetaInfo}),l=Object(F.a)({watchedValue:e.currentValuesSummaryLine()}),d=Object(F.a)({watchedValue:e.comboBoxItems()}),u=t.onDurationChanged,c=e.getSelectedComboBoxValues();return B.a.createElement("div",null,B.a.createElement("div",{className:Q.headerWrapper},B.a.createElement("div",{className:Q.header,onClick:()=>s(!i)},B.a.createElement("div",{className:U(Q.textBlock,Q.summaryLine)},B.a.createElement("span",{className:Q.upperCase},Object(o.t)("Details")+": "),l),B.a.createElement("div",{className:Q.arrow},B.a.createElement(W.a,{icon:i?J:Z})))),i&&B.a.createElement("div",null,d.length>0&&c.size>0&&B.a.createElement(B.a.Fragment,null,d.map(t=>{const e=Object(r.ensureDefined)(c.get(t.id));return B.a.createElement("div",{className:Q.item,key:t.id},B.a.createElement(q.a,{title:t.title,items:t.items,selectedItem:e}))})),B.a.createElement("div",{className:Q.item},B.a.createElement(G,{currentDuration:n,durationsMetaInfo:a,onDurationChanged:u}))))}i("HSHW"),i("BB8A"),i("77R2");var X=i("cfPT"),tt=i("ODMg"),et=i("vlpI"),it=i("D9Yq"),st=i("wVH9");function nt(t,e){return`${u.a.DOM_DURATION}${t}.${e}`}class rt{constructor(t,e,i){this._$container=null,this._$warning=null,this._$mainBlock=null,this._svgTimerPath=null,this._navBlock=null,this._totalVolumeBidTextNode=null,this._totalVolumeAskTextNode=null,this._countVolumeBuyTextNode=null,this._countVolumeSellTextNode=null,this._countVolumeBid=null,this._countVolumeAsk=null,this._detailsBlock=null,this._positionActionsBlock=null,this._marketActionBlock=null,this._calculatorBlock=null,this._qtyInput=null,this._subscription=null,this._noDataTimeout=null,this._actionMarketButtons=null,this._actionPositionButtons=null,this._navButtons=null,this._currentDuration=new n.a,this._durationsMetainfo=new n.a,this._viewTotalVolumeScheduled=!1,this._detailsOpenState=new n.a(!1),this._csxAllTitle=Object(o.t)("Cancel all orders for the current symbol"),this._flattenTitle=Object(o.t)("Close the position"),this._reverseTile=Object(o.t)("Reverse the position"),this._calculateLayout=()=>{let t=this._height.value(),e=!1;for(const{element:s,height:n}of[{element:Object(r.ensureNotNull)(this._navBlock),height:52},{element:Object(r.ensureNotNull)(this._calculatorBlock),height:34},{element:Object(r.ensureNotNull)(this._positionActionsBlock),height:34},{element:Object(r.ensureNotNull)(this._qtyInput),height:42},{element:Object(r.ensureNotNull)(this._marketActionBlock),height:50},{element:Object(r.ensureNotNull)(this._detailsBlock),height:this._calculateDetailsBlockHeight()}])e?s.classList.add("js-hidden"):(t-n<100?e=!0:t-=n,
s.classList.toggle("tv-dome-widget-main__hidden",0===n),s.style.height=n+"px",s.classList.remove("js-hidden"));Object(r.ensureNotNull)(this._$mainBlock).css("height",t);const i=Math.ceil(t/20);this._data.setHeight(i)},this._onDurationChanged=t=>{const e=l.linking.proSymbol.value(),i=this._realtimeProvider.activeBroker();if(this._currentDuration.setValue(t),this._domDetails.setDuratonsInfo(t),null!==i){const s=nt(i.metainfo().id,e);d.setValue(s,t.type)}},this.delayedData=new n.a(!1),this._height=e,this._visible=i,this._symbolData=null,this._supportedOrderTypes=[2],this._domDetails=new C,this._trading=Object(a.tradingService)(),this._realtimeProvider=this._trading.realtimeProvider();const s=this._handlers(),u={zeroVolume:this._trading.showPricesWith().zeroVolume.readonly(),spread:this._trading.showPricesWith().spread.readonly()};this._data=new g(s,u),this._calcData=new w(s),this._uiState={},this._timerLockState={},this._timer=new D(2e3,()=>{this._data.centerOnLast()},t=>{this._updateTimerUi(t)}),this._data.autoCenterRequired.subscribe(t=>{this._mergeTimerLockState({autoCenterRequired:t})}),t.subscribe(t=>this._recreateLayout(t),{callWithLast:!0}),this._height.subscribe(()=>this._calculateLayout()),l.linking.proSymbol.subscribe(()=>this._onStateChange()),this._realtimeProvider.onStatusChanged.subscribe(null,()=>{this._onStateChange()}),i.subscribe(()=>this._onStateChange()),this._onStateChange()}uiScroll(t){this._data.getDynamicModeState()||(this._data.shiftTopIndexRelativeToIndex(this._data.topIndex,0|t),this._timer.revert())}uiCenter(){this._data.centerOnLast(),this._trackEvent("Center")}uiCancelOrder(t){this._uiState.isTradable&&null!==t&&(Object(r.ensureNotNull)(this._trading.brokerCommandsUI()||null).cancelOrder(t),this._trackEvent("Cancel Order"))}uiModifyOrder(t,e=null){const i=this._realtimeProvider.activeBroker();if(!1===(null==i?void 0:i.metainfo().configFlags.supportModifyOrder)||!t||!this._uiState.isTradable)return Promise.resolve();let s=!0;null===e&&(e={},s=!1);const n=Object(r.ensureNotNull)(this._trading.brokerCommandsUI()||null).modifyOrder(Object.assign(Object.assign({},t),e),s,void 0,!0);return this._lockTimerUntilSettled(n),this._trackEvent("Modify Order"),Promise.resolve()}uiPlaceOrder({side:t,price:e=NaN,altPrice:i=NaN,type:s}){var n;if(!this._realtimeProvider.activeBroker())return void this._trading.toggleTradingWidget().then(()=>{this._trading.onNeedSelectBroker.fire()});if(!(null===(n=this._subscription)||void 0===n?void 0:n.broker))return void this._trading.toggleTradingWidget();if(2!==s&&!isFinite(e))return;null===s&&(s=this._data.guessOrderType(e,t));let o=!0;if(null===s&&(o=!1,s=1),!this._isOrderTypeSupported(s))return;const a={1:"LIMIT",2:"MARKET",3:"STOP",4:"STOPLIMIT"},d=1===t?this._calcData.ask():this._calcData.bid(),u={};this._domDetails.getSelectedComboBoxValues().forEach((t,e)=>u[e]=t.value());const c={symbol:l.linking.proSymbol.value(),qty:this._calcData.qty.value(),side:t,type:s,seenPrice:void 0!==d?d:null,duration:this._currentDuration.value(),customFields:u}
;3===c.type?c.stopPrice=e:1===c.type?c.limitPrice=e:4===c.type&&(c.stopPrice=e,isFinite(i)?c.limitPrice=i:o=!1);const h=Object(r.ensureNotNull)(this._trading.brokerCommandsUI()||null).placeOrder(c,o,!0);this._lockTimerUntilSettled(h),this._trackEvent("Place Order",a[s])}uiCancelAllOrders(t){const e=this._uiState;if(!e.isTradable||!e.hasBuyOrders&&!e.hasSellOrders||1===t&&!e.hasBuyOrders||-1===t&&!e.hasSellOrders)return Promise.resolve();const i=Object(r.ensureNotNull)(this._trading.brokerCommandsUI()||null).cancelOrders(l.linking.proSymbol.value(),t);return this._lockTimerUntilSettled(i),t?this._trackEvent("Cancel All "+(1===t?"Buy":"Sell")+" Orders"):this._trackEvent("Cancel All Orders"),Promise.resolve()}uiClosePosition(){if(!this._uiState.isTradable||!this._uiState.hasPosition||!this._hasFlatten)return Promise.resolve();const t=this._realtimeProvider.activeBroker().positions(l.linking.proSymbol.value()).then(t=>{for(let e=0;e<t.length;e++){const i=t[e];if(0!==i.qty)return Object(r.ensureNotNull)(this._trading.brokerCommandsUI()||null).closePosition(i.id)}return Promise.resolve(!1)});return this._lockTimerUntilSettled(t),this._trackEvent("Close Position"),Promise.resolve()}uiReversePosition(){if(!this._uiState.isTradable||!this._uiState.hasPosition||!this._hasReverse)return Promise.resolve();const t=this._realtimeProvider.activeBroker();if(!t)return Promise.resolve();const e=t.positions(l.linking.proSymbol.value()).then(t=>{for(let e=0;e<t.length;e++){const i=t[e];if(0!==i.qty)return Object(r.ensureNotNull)(this._trading.brokerCommandsUI()||null).reversePosition(i.id)}return Promise.resolve(!1)});return this._lockTimerUntilSettled(e),this._trackEvent("Reverse"),Promise.resolve()}uiOrderMousedown(t,e,i){if(1!==t.buttons)return;if(null===e||null===this._$mainBlock)return;const s=e[i],n=this._data.priceToIndex(e[i]);if(!isFinite(n))return;this.uiStopOrderDrag();const r=t=>t.touches&&t.touches[0]&&t.touches[0].pageY||t.pageY||0,o=r(t);let a=NaN,l=!1;if(null===this._subscription)return;const d=this._subscription;d.$orderMouseRoot=this._$mainBlock.parents("html").eq(0),d.orderMousemoveHandler=t=>{if(t.preventDefault(),1!==(t.buttons||t.which))return void this.uiStopOrderDrag();let d=0;this._$mainBlock&&$(t.target).closest(this._$mainBlock).size()&&(d=o-r(t));const u=Math.round(d/20);if(0===u)a=s;else{const t=this._data.correctIndex(n,u);a=this._data.indexToPrice(t),l=!0,this._data.setDragShield(!0,!0),this._mergeTimerLockState({drag:!0})}l&&this._data.setOrderGhost({order:e,pricePropertyName:i,price:a})},d.orderMouseupHandler=t=>{this.uiStopOrderDrag();this._realtimeProvider.activeBroker()&&isFinite(a)&&a!==s&&(this._data.setOrderGhost({order:e,pricePropertyName:i,price:a}),this._data.setDragShield(!0,!0),this._trackEvent("Move Order"),this.uiModifyOrder(e,{[i]:a}).then(()=>this.uiStopOrderDrag()).catch(()=>this.uiStopOrderDrag()))},d.orderMousedownHandler=t=>{this.uiStopOrderDrag()},d.$orderMouseRoot.on("mousemove",d.orderMousemoveHandler),d.$orderMouseRoot.on("mouseup",d.orderMouseupHandler),setTimeout(()=>{
const{$orderMouseRoot:t,orderMousedownHandler:e}=d;t&&e&&t.on("mousedown",e)},0)}uiStopOrderDrag(){if(this._data.setDragShield(!1,!1),this._data.resetOrderGhost(),this._mergeTimerLockState({drag:!1}),!this._subscription)return;const{orderMousemoveHandler:t,orderMouseupHandler:e,orderMousedownHandler:i,$orderMouseRoot:s}=this._subscription;delete this._subscription.orderMousemoveHandler,delete this._subscription.orderMouseupHandler,delete this._subscription.orderMousedownHandler,delete this._subscription.$orderMouseRoot,s&&t&&s.off("mousemove",t),s&&e&&s.off("mouseup",e),s&&i&&s.off("mousedown",i)}uiContextMenu(t,e,i){if(!this._uiState.isTradable)return;if(1!==e&&-1!==e)return;const s=this._uiState.qty||NaN,n=l.linking.seriesShortSymbol.value()||l.linking.proSymbol.value(),r=Object(S.a)(s),a=[],d=this._symbolData&&this._symbolData.priceFormatter||new M.PriceFormatter;if(this._trackEvent("Context Menu"),isFinite(i)){const t=d.format(i);if(this._isOrderTypeSupported(3)){const s={stopPrice:t,qty:r,symbol:n};let l="";l=1===e?Object(o.t)("Buy __qty__ __symbol__ @ __stopPrice__ Stop",s):Object(o.t)("Sell __qty__ __symbol__ @ __stopPrice__ Stop",s);const d=new L.Action({label:l,onExecute:()=>{this.uiPlaceOrder({side:e,price:i,type:3})}});a.push(d)}if(this._isOrderTypeSupported(1)){const s={limitPrice:t,qty:r,symbol:n};let l="";l=1===e?Object(o.t)("Buy __qty__ __symbol__ @ __limitPrice__ Limit",s):Object(o.t)("Sell __qty__ __symbol__ @ __limitPrice__ Limit",s);const d=new L.Action({label:l,onExecute:()=>{this.uiPlaceOrder({side:e,price:i,type:1})}});a.push(d)}if(this._symbolData&&this._hasStopLimit){const s=i+this._symbolData.minTick*(1===e?1:-1),l={stopPrice:t,limitPrice:d.format(s),qty:r,symbol:n};let u="";u=1===e?Object(o.t)("Buy __qty__ __symbol__ @ __stopPrice__ Stop __limitPrice__ Limit",l):Object(o.t)("Sell __qty__ __symbol__ @ __stopPrice__ Stop __limitPrice__ Limit",l);const c=new L.Action({label:u,onExecute:()=>{this.uiPlaceOrder({side:e,price:i,altPrice:s,type:4})}});a.push(c)}}if(this._isOrderTypeSupported(2)){const t={qty:r,symbol:n};let i="";i=1===e?Object(o.t)("Buy __qty__ __symbol__ @ Market",t):Object(o.t)("Sell __qty__ __symbol__ @ Market",t);const s=new L.Action({label:i,onExecute:()=>{this.uiPlaceOrder({side:e,type:2})}});a.push(s)}a.length&&O.ContextMenuManager.createMenu(a).then(e=>{e.show(t)})}_recreateLayout(t){var e;null!==this._$container&&(null!==(e=this._detailsBlock)&&I.a.unmountComponentAtNode(e),this._$container.off().empty()),this._calcData.removeNodesIfExist(),this._$container=t,this._createMainBlock(),this._createNavBlock(),this._createCalculatorBlock(this._$container),this._createPositionActionsBlock(),this._createQtyInput(),this._createMarketActionBlock(),this._syncActionButtons(),this._updateValueBuySellOrders(),this._createDetailsBlock(this._$container),this._calculateLayout(),this._calcData.reset()}_createMainBlock(){const t=Object(r.ensureNotNull)(this._$container),e=$("<div>",t).addClass("tv-dome-widget-main");e.appendTo(t),
this._$warning=$("<div>",t).addClass("tv-dome-panel__warning i-hidden").text(Object(o.t)("No data")).appendTo(e),this._data.setContainer(e);let i=0;e.on("mousewheel",t=>{if(t.preventDefault(),!this._data.getDynamicModeState()&&(i+=t.deltaY*t.deltaFactor/100,Math.abs(i)>=1)){const t=i%1;this.uiScroll(i-t),i=t}});let s=!1;e.on("touchstart mousedown",t=>{if(s)return;const i="mousedown"!==t.type;if(!i&&1!==(t.buttons||t.which))return;const n=this._data.topIndex;if(!isFinite(n))return;if(t.touches&&1!==t.touches.length)return;if(!$(t.target).closest(".tv-dome-widget-main__value--price").eq(0).size())return;s=!0;const r=t=>t.originalEvent.touches&&t.originalEvent.touches[0]&&t.originalEvent.touches[0].pageY||t.originalEvent.pageY||0,o=r(t),a=e.parents("html").eq(0),l=()=>{a.off("mouseup mousedown touchend touchstart touchcancel",l),a.off("mousemove touchmove",d),s=!1,this._data.setDragShield(!1,!1),this._mergeTimerLockState({scroll:!1})},d=t=>{if(t.preventDefault(),!this._data.getDynamicModeState()){if(!i&&1!==(t.buttons||t.which))return void l();const e=r(t)-o,s=Math.round(e/20);s&&(this._data.setDragShield(!0,!1),this._mergeTimerLockState({scroll:!0})),this._data.shiftTopIndexRelativeToIndex(n,s)}};a.on(i?"touchmove":"mousemove",d),a.on(i?"touchend":"mouseup",l),i&&a.on("touchcancel",l),setTimeout(()=>{s&&a.on(i?"touchstart":"mousedown",l)},0)}),e.on("dblclick",t=>{$(t.target).closest(".tv-dome-widget-main__value--price").eq(0).size()&&this.uiCenter()}),this._$mainBlock=e;const n=t.get(0);let a;a=n.nodeType===Node.DOCUMENT_NODE?n:n.ownerDocument,a.addEventListener("keydown",t=>this._data.handlerKey(t),!1),a.addEventListener("keyup",t=>this._data.handlerKey(t),!1)}_createDetailsBlock(t){this._detailsBlock=document.createElement("div"),t.append(this._detailsBlock);const e={domDetails:this._domDetails,currentDuration:this._currentDuration,durationsMetaInfo:this._durationsMetainfo,onDurationChanged:this._onDurationChanged,openState:this._detailsOpenState};!function(t,e){I.a.render(B.a.createElement(K,Object.assign({},e)),t)}(this._detailsBlock,e)}_createMarketActionBlock(){const t=Object(r.ensureNotNull)(this._$container),e=Object(T.b)({keys:["Shift","B"],text:"{0} + {1}"}),i=Object(T.b)({keys:["Shift","S"],text:"{0} + {1}"}),s=this._marketActionBlock=Object(r.ensureNotNull)(Object(x.b)(`\n\t\t\t<div class="${X.row} ${tt.wrapper}">\n\t\t\t\t<button class="${X.buttonBuy} js-buy-mkt apply-common-tooltip" data-tooltip-hotkey="${e}">${window.t("Buy Mkt")}</button>\n\t\t\t\t<button class="${X.buttonSell} js-sell-mkt apply-common-tooltip" data-tooltip-hotkey="${i}">${window.t("Sell Mkt")}</button>\n\t\t\t</div>\n\t\t`)),n={buyMarket:Object(r.ensureNotNull)(s.querySelector(".js-buy-mkt")),sellMarket:Object(r.ensureNotNull)(s.querySelector(".js-sell-mkt"))};n.buyMarket.addEventListener("click",t=>{t.preventDefault(),this.uiPlaceOrder({side:1,type:2})}),n.sellMarket.addEventListener("click",t=>{t.preventDefault(),this.uiPlaceOrder({side:-1,type:2})}),this._actionPositionButtons=n,t.append(s)}_createPositionActionsBlock(){
const t=Object(r.ensureNotNull)(this._$container),e=window.t("CXL All"),i=window.t("Flatten"),s=window.t("Reverse"),n=this._positionActionsBlock=Object(r.ensureNotNull)(Object(x.b)(`\n\t\t<div class="${X.row} ${tt.wrapper}">\n\t\t\t<button class="${X.buttonOrdinary} js-flatten apply-common-tooltip" title="${this._flattenTitle}">${i}</button>\n\t\t\t<button class="${X.buttonOrdinary} js-clear apply-common-tooltip" title="${this._csxAllTitle}">${e}</button>\n\t\t\t<button class="${X.buttonOrdinary} js-reverse apply-common-tooltip" title="${this._reverseTile}">${s}</button>\n\t\t</div>\n\t\t`)),o={flatten:Object(r.ensureNotNull)(n.querySelector(".js-flatten")),clear:Object(r.ensureNotNull)(n.querySelector(".js-clear")),reverse:Object(r.ensureNotNull)(n.querySelector(".js-reverse"))};o.flatten.addEventListener("click",t=>{t.preventDefault(),this.uiClosePosition()}),o.clear.addEventListener("click",t=>{t.preventDefault(),this.uiCancelAllOrders()}),o.reverse.addEventListener("click",t=>{t.preventDefault(),this.uiReversePosition()}),this._actionMarketButtons=o,t.append(n)}_createCalculatorBlock(t){const e=this._calculatorBlock=document.createElement("div");e.classList.add("tv-dome-widget-actions"),t.append(e),e.appendChild(Object(r.ensureNotNull)(Object(x.b)(`\n\t\t\t\t<div class="tv-dome-widget-calculator tv-dome-calc-block ${tt.wrapper}">\n\t\t\t\t\t<div class="tv-dome-calc-block__wrap">\n\t\t\t\t\t\t<span class="tv-dome-calc-block__position tv-dome-calc-block__position--disabled js-position"></span>\n\t\t\t\t\t\t<span class="tv-dome-calc-block__pl tv-dome-calc-block__pl--disabled js-pl"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`))),e.classList.add("tv-dome-calc-block");const i=e.ownerDocument,s=i.createTextNode(""),n=i.createTextNode(""),o=Object(r.ensureNotNull)(e.querySelector(".js-position"));o.classList.add("apply-common-tooltip"),o.setAttribute("title",window.t("Position")),o.appendChild(n);const a=Object(r.ensureNotNull)(e.querySelector(".js-pl"));a.classList.add("apply-common-tooltip"),a.setAttribute("title",window.t("Profit/Loss")),a.appendChild(s),this._calcData.setNodes({container:e,position:o,pl:a,plText:s,positionText:n}),o.addEventListener("click",t=>{this._calcData.onPositionClick(t)}),a.addEventListener("click",t=>{this._calcData.onPlClick(t)}),this._calcData.scheduleRepaint()}_createQtyInput(){const t=this._qtyInput=document.createElement("div"),e=Object(r.ensureNotNull)(this._$container);t.classList.add("tv-dome-widget-actions",tt.wrapper),e.append(t),function(t,e){I.a.render(B.a.createElement(H,{calcData:e}),t)}(t,this._calcData)}_createNavBlock(){const t=Object(r.ensureNotNull)(this._$container),e={on:it,off:st
},i=Object(r.ensureNotNull)(Object(x.b)(`\n\t\t\t<div class="tv-dome-widget-nav-wrapper">\n\t\t\t\t<div class="tv-dome-widget-nav">\n\t\t\t\t\t<div class="tv-dome-widget-nav__button-block tv-dome-widget-nav__button-block--orders">\n\t\t\t\t\t\t<span class="apply-common-tooltip tv-dome-widget-nav__button tv-dome-widget-nav__button--clear-ask js-clear-ask">\n\t\t\t\t\t\t\t${et}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="tv-dome-widget-nav_count-volume js-count-volume-buy"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tv-dome-widget-nav__button-block tv-dome-widget-nav__button-block--price">\n\t\t\t\t\t\t<div class="tv-dome-widget-nav_overall-volume tv-dome-widget-nav_overall-volume--bid">\n\t\t\t\t\t\t\t<span class="apply-common-tooltip js-total-volume-bid"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-dome-widget-nav_center apply-common-tooltip js-center">\n\t\t\t\t\t\t\t<svg class="tv-dome-widget-nav__timer" viewBox="-1 -1 2 2" width="2" height="2">\n\t\t\t\t\t\t\t\t<path d="M 0,0" class="js-timer-path"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<span class="tv-dome-widget-nav__button tv-dome-widget-nav__button--center js-center-target">\n\t\t\t\t\t\t\t\t${e.off}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-dome-widget-nav_overall-volume tv-dome-widget-nav_overall-volume--ask">\n\t\t\t\t\t\t\t<span class="apply-common-tooltip js-total-volume-ask"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tv-dome-widget-nav__button-block tv-dome-widget-nav__button-block--orders">\n\t\t\t\t\t\t<span class="tv-dome-widget-nav_count-volume js-count-volume-sell"></span>\n\t\t\t\t\t\t<span class="apply-common-tooltip tv-dome-widget-nav__button tv-dome-widget-nav__button--clear-bid js-clear-bid">\n\t\t\t\t\t\t\t${et}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`)),s=Object(r.ensureNotNull)(i.querySelector(".js-clear-ask")),n=Object(r.ensureNotNull)(i.querySelector(".js-clear-bid")),a=Object(r.ensureNotNull)(i.querySelector(".js-center")),l=Object(r.ensureNotNull)(i.querySelector(".js-center-target"));this._totalVolumeBidTextNode=document.createTextNode("-"),this._totalVolumeAskTextNode=document.createTextNode("-"),this._countVolumeBuyTextNode=document.createTextNode(""),this._countVolumeSellTextNode=document.createTextNode("");const d=Object(r.ensureNotNull)(i.querySelector(".js-total-volume-bid")),u=Object(r.ensureNotNull)(i.querySelector(".js-total-volume-ask")),c=Object(r.ensureNotNull)(this._countVolumeBid=i.querySelector(".js-count-volume-buy")),h=Object(r.ensureNotNull)(this._countVolumeAsk=i.querySelector(".js-count-volume-sell"));d.appendChild(this._totalVolumeBidTextNode),d.setAttribute("title",Object(o.t)("Total buy quantity")),u.appendChild(this._totalVolumeAskTextNode),u.setAttribute("title",Object(o.t)("Total sell quantity")),c.appendChild(this._countVolumeBuyTextNode),h.appendChild(this._countVolumeSellTextNode),s.setAttribute("title",Object(o.t)("Cancel all buy orders")),
n.setAttribute("title",Object(o.t)("Cancel all sell orders")),a.setAttribute("title",Object(o.t)("Disable dynamic mode")),s.addEventListener("click",t=>{t.preventDefault(),this.uiCancelAllOrders(1)}),n.addEventListener("click",t=>{t.preventDefault(),this.uiCancelAllOrders(-1)}),a.addEventListener("click",t=>{t.preventDefault(),this.uiCenter();const i=this._data.toggleDynamicModeState(),s=i?e.on:e.off,n=i?Object(o.t)("Enable dynamic mode"):Object(o.t)("Disable dynamic mode");a.setAttribute("title",n),l.removeChild(l.children[0]),l.appendChild(Object(r.ensureNotNull)(Object(x.b)(s)))}),this._navBlock=i,this._svgTimerPath=i.querySelector(".js-timer-path"),this._navButtons={clearBuy:s,clearSell:n},t.append(i)}_calculateDetailsBlockHeight(){if(!this._uiState.isTradable)return 0;const t=this._domDetails.getCustomFieldsCount(),e=0===t?0:52,i=43*t;return this._detailsOpenState.value()?i+e:e}_syncActionButtons(){const{isTradable:t,hasPosition:e,hasBuyOrders:i,hasSellOrders:s}=this._uiState;if(this._actionPositionButtons&&this._actionMarketButtons){const n=Object.assign(Object.assign({},this._actionPositionButtons),this._actionMarketButtons),r="i-disabled";n.flatten.disabled=!t||!e||!this._hasFlatten,n.reverse.disabled=!t||!e||!this._hasReverse,n.clear.disabled=!t||!(i||s),n.flatten.title=this._flattenTitle,n.reverse.title=this._reverseTile,n.clear.title=this._csxAllTitle;const o=this._isOrderTypeSupported(2);n.buyMarket.classList.toggle(r,!o),n.sellMarket.classList.toggle(r,!o)}if(this._navButtons){const e=this._navButtons,n="tv-dome-widget-nav__button--disabled";e.clearBuy.classList.toggle(n,!t||!i),e.clearSell.classList.toggle(n,!t||!s)}}_mergeUiState(t){const e=this._uiState;let i,s=!1;for(i in t)e!==t[i]&&(e[i]=t[i],s=!0);s&&this._syncActionButtons()}_handlers(){return{closeButtonClick:(t,e)=>{t.preventDefault(),this.uiCancelOrder(e&&e.id)},qtyClick:(t,e)=>{t.preventDefault(),this.uiModifyOrder(e)},bidAskClick:(t,{side:e,price:i,type:s})=>{t.preventDefault(),this.uiPlaceOrder({side:e,price:i,type:s||null})},bidAskContextMenu:(t,{side:e,price:i})=>{t.preventDefault(),this.uiContextMenu(t,e,i)},qtyChange:t=>{!isFinite(t)||t<0||(this._trading.suggestedQty().setValue(l.linking.proSymbol.value(),t),this._mergeUiState({qty:t}))},qtyInput:t=>{!isFinite(t)||t<0||this._mergeUiState({qty:t})},orderMousedown:(t,{order:e,pricePropertyName:i})=>{this.uiOrderMousedown(t,e,i)}}}_mergeTimerLockState(t){const e=this._timerLockState;let i,s=!1;for(i in t)e[i]!==t[i]&&(e[i]=t[i],s=!0);s&&(!e.autoCenterRequired||e.scroll||e.drag||e.dialog?this._timer.abort():this._timer.run())}_lockTimerUntilSettled(t){if(!t)return;this._mergeTimerLockState({dialog:t});const e=()=>{this._timerLockState.dialog===t&&this._mergeTimerLockState({dialog:null})};t.then(e,e)}_updateTimerUi(t){t=t||0,Object(r.ensureNotNull)(this._svgTimerPath).setAttribute("d",(t=>{let e="M 0 0";return t>0&&(t>=1?e="M 0 -1":e+="L 0 -1",t>.5&&(e+="A 1 1 0 0 1 0 1"),e+="A 1 1 0 0 1 "+Math.sin(2*t*Math.PI)+" "+-Math.cos(2*t*Math.PI)+"Z"),e})(t))}async _getSymbolData(t){var e
;const[i,s,n,r]=await Promise.all([this._realtimeProvider.symbolInfo(t),this._realtimeProvider.formatter(t),this._realtimeProvider.quantityFormatter(t),null===(e=this._realtimeProvider.activeBroker())||void 0===e?void 0:e.getPositionCurrency(t)]),o=Math.ceil(-Math.log10(i.qty.step)),a=new k.VolumeFormatter(o);return{minTick:i.minTick,pipSize:i.pipSize,priceFormatter:s,volumeFormatter:a,quantityFormatter:n,qtyProperties:i.qty,lotSize:i.lotSize,positionCurrency:r}}_unsubscribeData(){if(!this._subscription)return;const{broker:t,symbol:e,domeHandler:i,realtimeHandler:s,orderHandler:n,positionHandler:r,plHandler:o,plPositionId:a,suggestedQtyHandler:l,fullUpdateOrders:d,fullUpdatePosition:u}=this._subscription;this._subscription=null,this._domDetails.unsubscribeRecountCustomFields(this._calculateLayout),this._detailsOpenState.unsubscribe(this._calculateLayout),e&&s&&this._realtimeProvider.unsubscribeRealtime(e,s),e&&i&&this._realtimeProvider.unsubscribeDOME(e,i),t&&n&&t.orderUpdate.unsubscribe(null,n),t&&r&&t.positionUpdate.unsubscribe(null,r),t&&o&&a&&t.unsubscribePL(a,o),l&&this._trading.suggestedQty().changed.unsubscribe(null,l),t&&d&&t.currentAccountUpdate.unsubscribe(null,d),t&&u&&t.currentAccountUpdate.unsubscribe(null,u)}_trackEvent(t,e){this._trading.trackEvent("DOM",t,e)}_processOrders(t){const e=[];let i=!1,s=!1;for(let n=0;n<t.length;n++){const r=t[n];if(4===r.status||3===r.status||6===r.status)switch(e.push(r),r.side){case 1:i=!0;break;case-1:s=!0}}this._data.updateOrders(e),this._updateValueBuySellOrders(),this._mergeUiState({hasBuyOrders:i,hasSellOrders:s})}_processPositions(t,e,i){const s=i.filter(t=>0!==t.qty)[0];this._mergeUiState({hasPosition:!!s}),s&&s.id===e.plPositionId||e.plPositionId&&e.plHandler&&t.unsubscribePL&&(t.unsubscribePL(e.plPositionId,e.plHandler),delete e.plPositionId,e.plHandler=null),s&&(e.plPositionId===s.id&&e.plHandler||(e.plHandler=(t,i)=>{this._subscription===e&&this._calcData.updatePL(i)},e.plPositionId=s.id,t.subscribePL(e.plPositionId,e.plHandler))),this._data.updatePosition(s),this._calcData.updatePosition(s)}_updateDurationMetainfo(t,e){if(this._durationsMetainfo.setValue(null==t?void 0:t.metainfo().durations),null===t||void 0===this._durationsMetainfo.value())return;const i=nt(t.metainfo().id,e),s=d.getValue(i),n=void 0!==s?this._makeOrderDuration(s):this._makeDefaultOrderDuration();this._currentDuration.setValue(n),void 0!==n&&this._domDetails.setDuratonsInfo(n,this._durationsMetainfo.value())}_makeDefaultOrderDuration(){if(void 0===this._durationsMetainfo.value())return;const t=this._durationsMetainfo.value();if(void 0===t)return;const e=t.find(t=>!0===t.default)||t[0];return Object(E.e)(e)}_makeOrderDuration(t){var e;const i=null===(e=this._durationsMetainfo.value())||void 0===e?void 0:e.find(e=>e.value===t);return void 0!==i?Object(E.e)(i):void 0}async _onStateChange(){var t;const e=l.linking.proSymbol.value(),i=this._realtimeProvider.activeBroker(),s=null==i?void 0:i.metainfo().configFlags.calculatePLUsingLast;if(this._updateDurationMetainfo(i,e),
!this._visible.value())return void this._unsubscribeData();this._noDataTimeout&&clearTimeout(this._noDataTimeout),this._noDataTimeout=setTimeout(()=>this._$warning&&this._$warning.toggleClass("i-hidden",!1),3e3),this._symbolData=null,this._unsubscribeData(),this._data.reset(),this._domDetails.subscribeRecountCustomFields(this._calculateLayout),this._detailsOpenState.subscribe(this._calculateLayout),this._updateDetails(),this._calcData.setBrokerConfigFlags({calculatePLUsingLast:!0===s}),this._calcData.reset();const n=null===i||(null==i?void 0:i.metainfo().configFlags.supportDOM);this._hasReverse=null!==i&&i.metainfo().configFlags.supportReversePosition,this._hasFlatten=null!==i&&!i.metainfo().configFlags.supportMultiposition,this._hasStopLimit=null!==i&&i.metainfo().configFlags.supportStopLimitOrders,this._mergeUiState({isTradable:!1,hasPosition:!1,hasBuyOrders:!1,hasSellOrders:!1,qty:void 0}),this._mergeTimerLockState({scroll:!1,drag:!1,dialog:null}),this.uiStopOrderDrag();let r=[],o=[];if(!e||!n)return;const a={broker:i,symbol:e,domeHandler:null,realtimeHandler:null,orderHandler:null,positionHandler:null,plHandler:null,plPositionId:void 0,suggestedQtyHandler:null,fullUpdateOrders:null,fullUpdatePosition:null};this._subscription=a,a.suggestedQtyHandler=()=>{this._trading.suggestedQty().value(e).then(t=>{this._subscription===a&&(this._calcData.qty.setValue(t),this._mergeUiState({qty:t}))})},this._trading.suggestedQty().changed.subscribe(null,a.suggestedQtyHandler),a.suggestedQtyHandler();const d=await this._getSymbolData(e);if(this._calcData.setHasLotSize(void 0!==d.lotSize),!d)return;if(this._subscription!==a)return;this._symbolData=d,this._data.setSymbolInfo(d),this._calcData.setSymbolInfo(d),a.realtimeHandler=(t,e)=>{const i=e.trade||e.bid||e.ask;i&&this._noDataTimeout&&this._$warning&&(this._$warning.toggleClass("i-hidden",!0),clearTimeout(this._noDataTimeout),this._noDataTimeout=null),this._data.updateLast(i||NaN),this._calcData.updateLast(e.trade||NaN,e.bid||NaN,e.ask||NaN),this.delayedData.setValue(Boolean(e.isDelayed))},a.domeHandler=(t,e)=>{this._data.updateData(e),this._scheduleUpdateViewTotalVolume()};const u=null===(t=await this._realtimeProvider.isTradable(e))||void 0===t?void 0:t.tradable;this._mergeUiState({isTradable:u}),this._calculateLayout(),this._realtimeProvider.subscribeRealtime(e,a.realtimeHandler),this._realtimeProvider.subscribeDOME(e,a.domeHandler),this._supportedOrderTypes=this._getSupportedOrderTypes(i),i&&u&&(a.orderHandler=t=>{if(t.symbol!==a.symbol)return;const e=r.findIndex(e=>e.id===t.id);-1!==e?r[e]=t:r.push(t),this._processOrders(r)},a.positionHandler=t=>{if(t.symbol!==a.symbol)return;const e=o.findIndex(e=>e.id===t.id);-1!==e?o[e]=t:o.push(t),this._processPositions(i,a,o)},a.fullUpdateOrders=()=>{const t=i.orders(e);a.orderPromise=t,t.then(e=>{this._subscription===a&&a.orderPromise===t&&(r=e,this._processOrders(e))})},a.fullUpdatePosition=()=>{const t=i.positions(e);a.positionPromise=t,t.then(e=>{this._subscription===a&&a.positionPromise===t&&(o=e,this._processPositions(i,a,e))})},
i.orderUpdate.subscribe(null,a.orderHandler),i.positionUpdate.subscribe(null,a.positionHandler),i.currentAccountUpdate.subscribe(null,a.fullUpdateOrders),i.currentAccountUpdate.subscribe(null,a.fullUpdatePosition),a.fullUpdateOrders(),a.fullUpdatePosition()),this._updateValueBuySellOrders()}async _updateDetails(){var t,e;const i=await(null===(t=this._realtimeProvider.activeBroker())||void 0===t?void 0:t.getOrderDialogOptions(l.linking.proSymbol.value())),s=null!==(e=null==i?void 0:i.customFields)&&void 0!==e?e:[];this._domDetails.setCustomFields(s)}_getSupportedOrderTypes(t){const e=[];return null===t||1!==t.connectionStatus()?[2]:(t.metainfo().configFlags.supportMarketOrders&&e.push(2),t.metainfo().configFlags.supportLimitOrders&&e.push(1),t.metainfo().configFlags.supportStopOrders&&e.push(3),t.metainfo().configFlags.supportStopLimitOrders&&e.push(4),e)}_isOrderTypeSupported(t){return-1!==this._supportedOrderTypes.indexOf(t)}_scheduleUpdateViewTotalVolume(){this._viewTotalVolumeScheduled||(this._viewTotalVolumeScheduled=!0,window.requestAnimationFrame(()=>this._updateViewTotalVolume()))}_updateViewTotalVolume(){if(this._viewTotalVolumeScheduled=!1,this._symbolData){const t=this._data.totalVolumeBid(),e=this._data.totalVolumeAsk(),i=Object(r.ensureNotNull)(this._totalVolumeBidTextNode),s=Object(r.ensureNotNull)(this._totalVolumeAskTextNode);i.nodeValue=isFinite(t)?this._data.formatVolume(t):"-",s.nodeValue=isFinite(e)?this._data.formatVolume(e):"-"}}_updateValueBuySellOrders(){const t=this._data.buyOrdersValue(),e=this._data.sellOrdersValue(),i=this._data.buyInactiveOrdersValue(),s=this._data.sellInactiveOrdersValue(),n=this._data.buyOrdersQuantity(),o=this._data.sellOrdersQuantity(),a=Object(r.ensureNotNull)(this._countVolumeBid),l=Object(r.ensureNotNull)(this._countVolumeAsk),d=Object(r.ensureNotNull)(this._countVolumeBuyTextNode),u=Object(r.ensureNotNull)(this._countVolumeSellTextNode);0!==t||0!==i?(a.setAttribute("title",this._setFormattingTextForCountVolume(t,i,+n)),a.classList.add("apply-common-tooltip")):(a.setAttribute("title",""),a.classList.remove("apply-common-tooltip")),0!==e||0!==s?(l.setAttribute("title",this._setFormattingTextForCountVolume(e,s,+o)),l.classList.add("apply-common-tooltip")):(l.setAttribute("title",""),l.classList.remove("apply-common-tooltip")),d.nodeValue=String(i>0?t:t||""),u.nodeValue=String(s>0?e:e||"")}_setFormattingTextForCountVolume(t,e,i){const s=Object(o.t)("{countOrders} active order x {countQuantity}",{plural:"{countOrders} active orders x {countQuantity}",count:t}).format({countOrders:String(t),countQuantity:String(i)}),n=Object(o.t)("{countInactiveOrders} inactive order",{plural:"{countInactiveOrders} inactive orders",count:e}).format({countInactiveOrders:String(e)});return s+(e>0?", "+n:"")}}i("JWMC");var ot=i("1J84"),at=i("KMt6");const lt=window.t("Show zero trade volume prices"),dt=window.t("Show prices between the best bid/ask"),ut=window.t("You are seeing delayed data in the DOM. You need to get the data from your broker, if you want to see it real-time.")
;function ct(t){const e=Object(F.a)({watchedValue:t.symbol}),i=Object(F.a)({watchedValue:t.delayedData}),[s,n]=Object(V.a)(t.domeSettings.zeroVolume),[r,o]=Object(V.a)(t.domeSettings.spread);return A.createElement(at.a,{title:e.symbol,description:e.exchange&&", "+e.exchange,hasDelayedWarning:i,hasCloseButton:!0,close:t.closePanel,delayedWarningMessage:ut},A.createElement(ot.a,{label:lt,isChecked:s,onClick:()=>n(!s)}),A.createElement(ot.a,{label:dt,isChecked:r,onClick:()=>o(!r)}))}i.d(e,"DomePanel",(function(){return ht}));class ht{constructor(t,e){var i;this._widget=null;this._resizerBridge=e,this._height=this._resizerBridge.height,this._innerHeight=new n.a,this._widgetBody=new n.a,this._height.subscribe(t=>{this._innerHeight.setValue(Math.max(t-42,0))},{callWithLast:!0}),this._visible=new n.a(!1),this._close=()=>{},this._trading=t,this._body=$(".trading-panel-content",this._resizerBridge.container.value()),this._header=$("<div>",this._body),this._container=$("<div>",this._body);const s=l.linking.proSymbol.value(),r=null===(i=this._trading.activeBroker())||void 0===i?void 0:i.metainfo().title;this._symbol=new n.a({symbol:s||"",exchange:r||""});const o=()=>{const t=this._trading.activeBroker();let e;if(t&&1===t.connectionStatus()&&!t.metainfo().configFlags.supportDOM){const t=document.querySelector(".tv-dome-panel__content");if(null!==document.querySelector(".tv-dome-panel__disabled")||null===t)return;const i=document.createElement("span");return e=document.createElement("div"),i.classList.add("tv-dome-panel__disabled-warning"),i.innerText=window.t("The DOM window is currently unavailable for this broker"),e.classList.add("tv-dome-panel__disabled"),e.appendChild(i),void t.insertBefore(e,t.firstChild)}e=document.querySelector(".tv-dome-panel__disabled"),e&&e.parentNode&&e.parentNode.removeChild(e)},a=t=>{t?this._body.append(this._header).append(this._container):($(".tv-dome-header",this._body).detach(),$(".tv-dome-panel",this._body).detach()),this._displayHeader(this._header,t)};this._trading.onConnectionStatusChange.subscribe(null,o),this._visible.subscribe(o),o(),this._visible.when(()=>{this._updateSymbol(l.linking.proSymbol.value()),this._resizerBridge.container.subscribe(t=>{this._body=$(".trading-panel-content",t),this._createLayout(),this._trading.onBrokerChange.subscribe(this,()=>this._updateSymbol(l.linking.proSymbol.value())),l.linking.proSymbol.spawn().subscribe(t=>this._updateSymbol(t)),o()},{callWithLast:!0}),this._widget=new rt(this._widgetBody,this._innerHeight,this._visible),this._visible.subscribe(a),this._displayHeader(this._header,!0)})}setCloseHandler(t){this._close=t}setVisibility(t){this._visible.setValue(t)}_displayHeader(t,e){e&&this._widget?I.a.render(B.a.createElement(ct,{symbol:this._symbol,closePanel:this._close,domeSettings:this._trading.showPricesWith(),delayedData:this._widget.delayedData}),t.get(0)):I.a.unmountComponentAtNode(t.get(0))}_createLayout(){this._header.addClass("tv-dome-header").appendTo(this._body),this._container.addClass("tv-dome-panel")
;const t=this._container,e=$("<div>",t).addClass("tv-dome-panel__content").appendTo(t);return t.on("contextmenu",t=>{$(t.target).is("input, textarea")||t.preventDefault()}),this._body.append(t),this._widgetBody.setValue(e),e}_updateSymbol(t){var e;const i=t,s=null===(e=this._trading.activeBroker())||void 0===e?void 0:e.metainfo().title;this._symbol.setValue({symbol:i||"",exchange:s||""})}}},"pG/X":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 7" width="12" height="7"><path d="M1 7a1 1 0 0 1-1-1c0-.276.1-.538.28-.72l5-5C5.463.1 5.725 0 6 0c.276 0 .538.1.72.28l5 5c.18.182.28.444.28.72a1 1 0 0 1-1 1c-.276 0-.538-.1-.72-.28L6 2.437l-4.28 4.28C1.537 6.9 1.275 7 1 7z"/></svg>'},q3Vr:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentcolor" stroke-linecap="round" d="M4 7l5 4 5-4"/></svg>'},qoI1:function(t,e,i){var s={"./en-gb":"Oaa7","./en-gb.js":"Oaa7","./es":"iYuL","./es.js":"iYuL","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./ko":"Ivi+","./ko.js":"Ivi+","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ru":"lXzo","./ru.js":"lXzo","./tr":"DoHr","./tr.js":"DoHr"};function n(t){var e=r(t);return i(e)}function r(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id="qoI1"},vlpI:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9" width="9" height="9"><path stroke="currentcolor" stroke-width="1.2" d="M1 1l7 7m0-7L1 8"/></svg>'},wVH9:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" width="16" height="17" fill="none"><path fill="currentcolor" fill-rule="evenodd" clip-rule="evenodd" d="M4 5v2h9a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V5a5 5 0 0 1 8.66-3.4l-.74.66A3.99 3.99 0 0 0 4 5z"/><rect width="15" height="9" stroke="currentcolor" rx="2.5" x=".5" y="7.5"/><circle stroke="currentcolor" cx="8" cy="12" r=".5"/></svg>'},"wd/R":function(t,e,i){(function(t){t.exports=function(){"use strict";var e;function s(){return e.apply(null,arguments)}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var i in e)o(e,i)&&(t[i]=e[i]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,i,s){return It(t,e,i,s,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),t._pf}function u(t){if(null==t._isValid){var e=d(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),
t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=l(NaN);return null!=t?a(d(e),t):d(e).userInvalidated=!0,e}var h=s.momentProperties=[];function _(t,e){var i,s,n;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=d(e)),void 0!==e._locale&&(t._locale=e._locale),h.length>0)for(i in h)void 0!==(n=e[s=h[i]])&&(t[s]=n);return t}var m=!1;function p(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===m&&(m=!0,s.updateOffset(this),m=!1)}function f(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function y(t){return t<0?Math.ceil(t):Math.floor(t)}function v(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=y(e)),i}function b(t,e,i){var s,n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(s=0;s<n;s++)(i&&t[s]!==e[s]||!i&&v(t[s])!==v(e[s]))&&o++;return o+r}function g(){}var w,M={};function k(t){return t?t.toLowerCase().replace("_","-"):t}function D(e){var s=null;if(!M[e]&&void 0!==t&&t&&t.exports)try{s=w._abbr,i("qoI1")("./"+e),S(s)}catch(n){}return M[e]}function S(t,e){var i;return t&&(i=void 0===e?L(t):T(t,e))&&(w=i),w._abbr}function T(t,e){return null!==e?(e.abbr=t,M[t]=M[t]||new g,M[t].set(e),S(t),M[t]):(delete M[t],null)}function L(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return w;if(!n(t)){if(e=D(t))return e;t=[t]}return function(t){for(var e,i,s,n,r=0;r<t.length;){for(e=(n=k(t[r]).split("-")).length,i=(i=k(t[r+1]))?i.split("-"):null;e>0;){if(s=D(n.slice(0,e).join("-")))return s;if(i&&i.length>=e&&b(n,i,!0)>=e-1)break;e--}r++}return null}(t)}var O={};function x(t,e){var i=t.toLowerCase();O[i]=O[i+"s"]=O[e]=t}function P(t){return"string"==typeof t?O[t]||O[t.toLowerCase()]:void 0}function Y(t){var e,i,s={};for(i in t)o(t,i)&&(e=P(i))&&(s[e]=t[i]);return s}function C(t,e){return function(i){return null!=i?(I(this,t,i),s.updateOffset(this,e),this):N(this,t)}}function N(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function I(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function A(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if("function"==typeof this[t=P(t)])return this[t](e);return this}function B(t,e,i){var s=""+Math.abs(t),n=e-s.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+s}var F=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},H={};function E(t,e,i,s){var n=s;"string"==typeof s&&(n=function(){return this[s]()}),t&&(H[t]=n),e&&(H[e[0]]=function(){return B(n.apply(this,arguments),e[1],e[2])}),i&&(H[i]=function(){
return this.localeData().ordinal(n.apply(this,arguments),t)})}function $(t,e){return t.isValid()?(e=W(e,t.localeData()),j[e]=j[e]||function(t){var e,i,s,n=t.match(F);for(e=0,i=n.length;e<i;e++)H[n[e]]?n[e]=H[n[e]]:n[e]=(s=n[e]).match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"");return function(s){var r="";for(e=0;e<i;e++)r+=n[e]instanceof Function?n[e].call(s,t):n[e];return r}}(e),j[e](t)):t.localeData().invalidDate()}function W(t,e){var i=5;function s(t){return e.longDateFormat(t)||t}for(V.lastIndex=0;i>=0&&V.test(t);)t=t.replace(V,s),V.lastIndex=0,i-=1;return t}var U=/\d/,q=/\d\d/,z=/\d{3}/,R=/\d{4}/,G=/[+-]?\d{6}/,Q=/\d\d?/,J=/\d{1,3}/,Z=/\d{1,4}/,K=/[+-]?\d{1,6}/,X=/\d+/,tt=/[+-]?\d+/,et=/Z|[+-]\d\d:?\d\d/gi,it=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,st={};function nt(t,e,i){var s;st[t]="function"==typeof(s=e)&&"[object Function]"===Object.prototype.toString.call(s)?e:function(t){return t&&i?i:e}}function rt(t,e){return o(st,t)?st[t](e._strict,e._locale):new RegExp(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,s,n){return e||i||s||n})).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))}var ot={};function at(t,e){var i,s=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(s=function(t,i){i[e]=v(t)}),i=0;i<t.length;i++)ot[t[i]]=s}function lt(t,e){at(t,(function(t,i,s,n){s._w=s._w||{},e(t,s._w,s,n)}))}function dt(t,e,i){null!=e&&o(ot,t)&&ot[t](e,i._a,i,t)}function ut(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}E("M",["MM",2],"Mo",(function(){return this.month()+1})),E("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),E("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),x("month","M"),nt("M",Q),nt("MM",Q,q),nt("MMM",it),nt("MMMM",it),at(["M","MM"],(function(t,e){e[1]=v(t)-1})),at(["MMM","MMMM"],(function(t,e,i,s){var n=i._locale.monthsParse(t,s,i._strict);null!=n?e[1]=n:d(i).invalidMonth=t}));var ct="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ht="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function _t(t,e){var i;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))||(i=Math.min(t.date(),ut(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i)),t}function mt(t){return null!=t?(_t(this,t),s.updateOffset(this,!0),this):N(this,"Month")}function pt(t){var e,i=t._a;return i&&-2===d(t).overflow&&(e=i[1]<0||i[1]>11?1:i[2]<1||i[2]>ut(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,d(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),d(t).overflow=e),t}function ft(t){!1===s.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function yt(t,e){var i=!0;return a((function(){return i&&(ft(t+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)}),e)}var vt={};s.suppressDeprecationWarnings=!1
;var bt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],wt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Mt=/^\/?Date\((\-?\d+)/i;function kt(t){var e,i,s=t._i,n=bt.exec(s);if(n){for(d(t).iso=!0,e=0,i=gt.length;e<i;e++)if(gt[e][1].exec(s)){t._f=gt[e][0];break}for(e=0,i=wt.length;e<i;e++)if(wt[e][1].exec(s)){t._f+=(n[6]||" ")+wt[e][0];break}s.match(et)&&(t._f+="Z"),Ct(t)}else t._isValid=!1}function Dt(t,e,i,s,n,r,o){var a=new Date(t,e,i,s,n,r,o);return t<1970&&a.setFullYear(t),a}function St(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function Tt(t){return Lt(t)?366:365}function Lt(t){return t%4==0&&t%100!=0||t%400==0}s.createFromInputFallback=yt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),E(0,["YY",2],0,(function(){return this.year()%100})),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),x("year","y"),nt("Y",tt),nt("YY",Q,q),nt("YYYY",Z,R),nt("YYYYY",K,G),nt("YYYYYY",K,G),at(["YYYYY","YYYYYY"],0),at("YYYY",(function(t,e){e[0]=2===t.length?s.parseTwoDigitYear(t):v(t)})),at("YY",(function(t,e){e[0]=s.parseTwoDigitYear(t)})),s.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var Ot=C("FullYear",!1);function xt(t,e,i){var s,n=i-e,r=i-t.day();return r>n&&(r-=7),r<n-7&&(r+=7),s=At(t).add(r,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function Pt(t,e,i){return null!=t?t:null!=e?e:i}function Yt(t){var e,i,s,n,r=[];if(!t._d){for(s=function(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,s,n,r,o,a;null!=(e=t._w).GG||null!=e.W||null!=e.E?(r=1,o=4,i=Pt(e.GG,t._a[0],xt(At(),1,4).year),s=Pt(e.W,1),n=Pt(e.E,1)):(r=t._locale._week.dow,o=t._locale._week.doy,i=Pt(e.gg,t._a[0],xt(At(),r,o).year),s=Pt(e.w,1),null!=e.d?(n=e.d)<r&&++s:n=null!=e.e?e.e+r:r),a=function(t,e,i,s,n){var r,o=6+n-s,a=St(t,0,1+o).getUTCDay();return a<n&&(a+=7),{year:(r=1+o+7*(e-1)-a+(i=null!=i?1*i:n))>0?t:t-1,dayOfYear:r>0?r:Tt(t-1)+r}}(i,s,n,o,r),t._a[0]=a.year,t._dayOfYear=a.dayOfYear}(t),t._dayOfYear&&(n=Pt(t._a[0],s[0]),t._dayOfYear>Tt(n)&&(d(t)._overflowDayOfYear=!0),i=St(n,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?St:Dt).apply(null,r),
null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24)}}function Ct(t){if(t._f!==s.ISO_8601){t._a=[],d(t).empty=!0;var e,i,n,r,o,a=""+t._i,l=a.length,u=0;for(n=W(t._f,t._locale).match(F)||[],e=0;e<n.length;e++)r=n[e],(i=(a.match(rt(r,t))||[])[0])&&((o=a.substr(0,a.indexOf(i))).length>0&&d(t).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),u+=i.length),H[r]?(i?d(t).empty=!1:d(t).unusedTokens.push(r),dt(r,i,t)):t._strict&&!i&&d(t).unusedTokens.push(r);d(t).charsLeftOver=l-u,a.length>0&&d(t).unusedInput.push(a),!0===d(t).bigHour&&t._a[3]<=12&&t._a[3]>0&&(d(t).bigHour=void 0),t._a[3]=function(t,e,i){var s;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((s=t.isPM(i))&&e<12&&(e+=12),s||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),Yt(t),pt(t)}else kt(t)}function Nt(t){var e=t._i,i=t._f;return t._locale=t._locale||L(t._l),null===e||void 0===i&&""===e?c({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),f(e)?new p(pt(e)):(n(i)?function(t){var e,i,s,n,r;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)r=0,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],Ct(e),u(e)&&(r+=d(e).charsLeftOver,r+=10*d(e).unusedTokens.length,d(e).score=r,(null==s||r<s)&&(s=r,i=e));a(t,i||e)}(t):i?Ct(t):r(e)?t._d=e:function(t){var e=t._i;void 0===e?t._d=new Date:r(e)?t._d=new Date(+e):"string"==typeof e?function(t){var e=Mt.exec(t._i);null===e?(kt(t),!1===t._isValid&&(delete t._isValid,s.createFromInputFallback(t))):t._d=new Date(+e[1])}(t):n(e)?(t._a=function(t,e){var i,s=[];for(i=0;i<t.length;++i)s.push(e(t[i],i));return s}(e.slice(0),(function(t){return parseInt(t,10)})),Yt(t)):"object"==typeof e?function(t){if(!t._d){var e=Y(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],Yt(t)}}(t):"number"==typeof e?t._d=new Date(e):s.createFromInputFallback(t)}(t),t))}function It(t,e,i,s,n){var r,o={};return"boolean"==typeof i&&(s=i,i=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=n,o._l=i,o._i=t,o._f=e,o._strict=s,(r=new p(pt(Nt(o))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function At(t,e,i,s){return It(t,e,i,s,!1)}E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),nt("w",Q),nt("ww",Q,q),nt("W",Q),nt("WW",Q,q),lt(["w","ww","W","WW"],(function(t,e,i,s){e[s.substr(0,1)]=v(t)})),E("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),nt("DDD",J),nt("DDDD",z),at(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=v(t)})),s.ISO_8601=function(){};var Bt=yt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",(function(){var t=At.apply(null,arguments);return t<this?this:t})),Ft=yt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",(function(){var t=At.apply(null,arguments);return t>this?this:t}));function Vt(t,e){var i,s;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return At();for(i=e[0],s=1;s<e.length;++s)e[s].isValid()&&!e[s][t](i)||(i=e[s]);return i}
function jt(t){var e=Y(t),i=e.year||0,s=e.quarter||0,n=e.month||0,r=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,d=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*a,this._days=+o+7*r,this._months=+n+3*s+12*i,this._data={},this._locale=L(),this._bubble()}function Ht(t){return t instanceof jt}function Et(t,e){E(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+B(~~(t/60),2)+e+B(~~t%60,2)}))}Et("Z",":"),Et("ZZ",""),nt("Z",et),nt("ZZ",et),at(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=Wt(t)}));var $t=/([\+\-]|\d\d)/gi;function Wt(t){var e=(t||"").match(et)||[],i=((e[e.length-1]||[])+"").match($t)||["-",0,0],s=60*i[1]+v(i[2]);return"+"===i[0]?s:-s}function Ut(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(f(t)||r(t)?+t:+At(t))-+i,i._d.setTime(+i._d+n),s.updateOffset(i,!1),i):At(t).local()}function qt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function zt(){return this._isUTC&&0===this._offset}s.updateOffset=function(){};var Rt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Gt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function Qt(t,e){var i,s,n,r,a,l,d=t,u=null;return Ht(t)?d={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(d={},e?d[e]=t:d.milliseconds=t):(u=Rt.exec(t))?(i="-"===u[1]?-1:1,d={y:0,d:v(u[2])*i,h:v(u[3])*i,m:v(u[4])*i,s:v(u[5])*i,ms:v(u[6])*i}):(u=Gt.exec(t))?(i="-"===u[1]?-1:1,d={y:Jt(u[2],i),M:Jt(u[3],i),d:Jt(u[4],i),h:Jt(u[5],i),m:Jt(u[6],i),s:Jt(u[7],i),w:Jt(u[8],i)}):null==d?d={}:"object"==typeof d&&("from"in d||"to"in d)&&(r=At(d.from),a=Ut(a=At(d.to),r),r.isBefore(a)?l=Zt(r,a):((l=Zt(a,r)).milliseconds=-l.milliseconds,l.months=-l.months),(d={}).ms=(n=l).milliseconds,d.M=n.months),s=new jt(d),Ht(t)&&o(t,"_locale")&&(s._locale=t._locale),s}function Jt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Zt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Kt(t,e){return function(i,s){var n;return null===s||isNaN(+s)||(function(t,e){vt[t]||(ft(e),vt[t]=!0)}(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),n=i,i=s,s=n),Xt(this,Qt(i="string"==typeof i?+i:i,s),t),this}}function Xt(t,e,i,n){var r=e._milliseconds,o=e._days,a=e._months;n=null==n||n,r&&t._d.setTime(+t._d+r*i),o&&I(t,"Date",N(t,"Date")+o*i),a&&_t(t,N(t,"Month")+a*i),n&&s.updateOffset(t,o||a)}Qt.fn=jt.prototype;var te=Kt(1,"add"),ee=Kt(-1,"subtract");function ie(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():$(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):$(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function se(t){var e;return void 0===t?this._locale._abbr:(null!=(e=L(t))&&(this._locale=e),this)}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ"
;var ne=yt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function re(){return this._locale}function oe(t,e){E(0,[t,t.length],0,e)}function ae(t,e,i){return xt(At([t,11,31+e-i]),e,i).week}E(0,["gg",2],0,(function(){return this.weekYear()%100})),E(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),oe("gggg","weekYear"),oe("ggggg","weekYear"),oe("GGGG","isoWeekYear"),oe("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),nt("G",tt),nt("g",tt),nt("GG",Q,q),nt("gg",Q,q),nt("GGGG",Z,R),nt("gggg",Z,R),nt("GGGGG",K,G),nt("ggggg",K,G),lt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,s){e[s.substr(0,2)]=v(t)})),lt(["gg","GG"],(function(t,e,i,n){e[n]=s.parseTwoDigitYear(t)})),E("Q",0,0,"quarter"),x("quarter","Q"),nt("Q",U),at("Q",(function(t,e){e[1]=3*(v(t)-1)})),E("D",["DD",2],"Do","date"),x("date","D"),nt("D",Q),nt("DD",Q,q),nt("Do",(function(t,e){return t?e._ordinalParse:e._ordinalParseLenient})),at(["D","DD"],2),at("Do",(function(t,e){e[2]=v(t.match(Q)[0])}));var le=C("Date",!0);E("d",0,"do","day"),E("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),E("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),E("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),nt("d",Q),nt("e",Q),nt("E",Q),nt("dd",it),nt("ddd",it),nt("dddd",it),lt(["dd","ddd","dddd"],(function(t,e,i){var s=i._locale.weekdaysParse(t);null!=s?e.d=s:d(i).invalidWeekday=t})),lt(["d","e","E"],(function(t,e,i,s){e[s]=v(t)}));var de="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ue="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ce="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function he(t,e){E(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function _e(t,e){return e._meridiemParse}E("H",["HH",2],0,"hour"),E("h",["hh",2],0,(function(){return this.hours()%12||12})),he("a",!0),he("A",!1),x("hour","h"),nt("a",_e),nt("A",_e),nt("H",Q),nt("h",Q),nt("HH",Q,q),nt("hh",Q,q),at(["H","HH"],3),at(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),at(["h","hh"],(function(t,e,i){e[3]=v(t),d(i).bigHour=!0}));var me=C("Hours",!0);E("m",["mm",2],0,"minute"),x("minute","m"),nt("m",Q),nt("mm",Q,q),at(["m","mm"],4);var pe=C("Minutes",!1);E("s",["ss",2],0,"second"),x("second","s"),nt("s",Q),nt("ss",Q,q),at(["s","ss"],5);var fe,ye=C("Seconds",!1);for(E("S",0,0,(function(){return~~(this.millisecond()/100)})),E(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),E(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),E(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),E(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),E(0,["SSSSSSSS",8],0,(function(){
return 1e5*this.millisecond()})),E(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),x("millisecond","ms"),nt("S",J,U),nt("SS",J,q),nt("SSS",J,z),fe="SSSS";fe.length<=9;fe+="S")nt(fe,X);function ve(t,e){e[6]=v(1e3*("0."+t))}for(fe="S";fe.length<=9;fe+="S")at(fe,ve);var be=C("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var ge=p.prototype;ge.add=te,ge.calendar=function(t,e){var i=t||At(),s=Ut(i,this).startOf("day"),n=this.diff(s,"days",!0),r=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse";return this.format(e&&e[r]||this.localeData().calendar(r,this,At(i)))},ge.clone=function(){return new p(this)},ge.diff=function(t,e,i){var s,n,r,o,a,l,d,u,c=Ut(t,this),h=6e4*(c.utcOffset()-this.utcOffset());return"year"===(e=P(e))||"month"===e||"quarter"===e?(r=this,d=12*((o=c).year()-r.year())+(o.month()-r.month()),u=r.clone().add(d,"months"),o-u<0?(a=r.clone().add(d-1,"months"),l=(o-u)/(u-a)):(a=r.clone().add(d+1,"months"),l=(o-u)/(a-u)),n=-(d+l),"quarter"===e?n/=3:"year"===e&&(n/=12)):(s=this-c,n="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-h)/864e5:"week"===e?(s-h)/6048e5:s),i?n:y(n)},ge.endOf=function(t){return void 0===(t=P(t))||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},ge.format=function(t){var e=$(this,t||s.defaultFormat);return this.localeData().postformat(e)},ge.from=function(t,e){return this.isValid()?Qt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ge.fromNow=function(t){return this.from(At(),t)},ge.to=function(t,e){return this.isValid()?Qt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ge.toNow=function(t){return this.to(At(),t)},ge.get=A,ge.invalidAt=function(){return d(this).overflow},ge.isAfter=function(t,e){return"millisecond"===(e=P(void 0!==e?e:"millisecond"))?+this>+(t=f(t)?t:At(t)):(f(t)?+t:+At(t))<+this.clone().startOf(e)},ge.isBefore=function(t,e){var i;return"millisecond"===(e=P(void 0!==e?e:"millisecond"))?+this<+(t=f(t)?t:At(t)):(i=f(t)?+t:+At(t),+this.clone().endOf(e)<i)},ge.isBetween=function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},ge.isSame=function(t,e){var i;return"millisecond"===(e=P(e||"millisecond"))?+this==+(t=f(t)?t:At(t)):(i=+At(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))},ge.isValid=function(){return u(this)},ge.lang=ne,ge.locale=se,ge.localeData=re,ge.max=Ft,ge.min=Bt,ge.parsingFlags=function(){return a({},d(this))},ge.set=A,ge.startOf=function(t){switch(t=P(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},ge.subtract=ee,ge.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},
ge.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},ge.toDate=function(){return this._offset?new Date(+this):this._d},ge.toISOString=ie,ge.toJSON=ie,ge.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ge.unix=function(){return Math.floor(+this/1e3)},ge.valueOf=function(){return+this._d-6e4*(this._offset||0)},ge.year=Ot,ge.isLeapYear=function(){return Lt(this.year())},ge.weekYear=function(t){var e=xt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},ge.isoWeekYear=function(t){var e=xt(this,1,4).year;return null==t?e:this.add(t-e,"y")},ge.quarter=ge.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},ge.month=mt,ge.daysInMonth=function(){return ut(this.year(),this.month())},ge.week=ge.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},ge.isoWeek=ge.isoWeeks=function(t){var e=xt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},ge.weeksInYear=function(){var t=this.localeData()._week;return ae(this.year(),t.dow,t.doy)},ge.isoWeeksInYear=function(){return ae(this.year(),1,4)},ge.date=le,ge.day=ge.days=function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},ge.weekday=function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},ge.isoWeekday=function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},ge.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},ge.hour=ge.hours=me,ge.minute=ge.minutes=pe,ge.second=ge.seconds=ye,ge.millisecond=ge.milliseconds=be,ge.utcOffset=function(t,e){var i,n=this._offset||0;return null!=t?("string"==typeof t&&(t=Wt(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(i=qt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?Xt(this,Qt(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:qt(this)},ge.utc=function(t){return this.utcOffset(0,t)},ge.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(qt(this),"m")),this},ge.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Wt(this._i)),this},ge.hasAlignedHourOffset=function(t){return t=t?At(t).utcOffset():0,(this.utcOffset()-t)%60==0},ge.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ge.isDSTShifted=function(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var t={};if(_(t,this),(t=Nt(t))._a){
var e=t._isUTC?l(t._a):At(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted},ge.isLocal=function(){return!this._isUTC},ge.isUtcOffset=function(){return this._isUTC},ge.isUtc=zt,ge.isUTC=zt,ge.zoneAbbr=function(){return this._isUTC?"UTC":""},ge.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ge.dates=yt("dates accessor is deprecated. Use date instead.",le),ge.months=yt("months accessor is deprecated. Use month instead",mt),ge.years=yt("years accessor is deprecated. Use year instead",Ot),ge.zone=yt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}));var we=ge;function Me(t){return t}var ke=g.prototype;function De(t,e,i,s){var n=L(),r=l().set(s,e);return n[i](r,t)}function Se(t,e,i,s,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return De(t,e,i,n);var r,o=[];for(r=0;r<s;r++)o[r]=De(t,r,i,n);return o}ke._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ke.calendar=function(t,e,i){var s=this._calendar[t];return"function"==typeof s?s.call(e,i):s},ke._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ke.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},ke._invalidDate="Invalid date",ke.invalidDate=function(){return this._invalidDate},ke._ordinal="%d",ke.ordinal=function(t){return this._ordinal.replace("%d",t)},ke._ordinalParse=/\d{1,2}/,ke.preparse=Me,ke.postformat=Me,ke._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ke.relativeTime=function(t,e,i,s){var n=this._relativeTime[i];return"function"==typeof n?n(t,e,i,s):n.replace(/%d/i,t)},ke.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ke.set=function(t){var e,i;for(i in t)"function"==typeof(e=t[i])?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},ke.months=function(t){return this._months[t.month()]},ke._months=ct,ke.monthsShort=function(t){return this._monthsShort[t.month()]},ke._monthsShort=ht,ke.monthsParse=function(t,e,i){var s,n,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(n=l([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),
i||this._monthsParse[s]||(r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(i&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}},ke.week=function(t){return xt(t,this._week.dow,this._week.doy).week},ke._week={dow:0,doy:6},ke.firstDayOfYear=function(){return this._week.doy},ke.firstDayOfWeek=function(){return this._week.dow},ke.weekdays=function(t){return this._weekdays[t.day()]},ke._weekdays=de,ke.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},ke._weekdaysMin=ce,ke.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},ke._weekdaysShort=ue,ke.weekdaysParse=function(t){var e,i,s;for(this._weekdaysParse=this._weekdaysParse||[],e=0;e<7;e++)if(this._weekdaysParse[e]||(i=At([2e3,1]).day(e),s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},ke.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},ke._meridiemParse=/[ap]\.?m?\.?/i,ke.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},S("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),s.lang=yt("moment.lang is deprecated. Use moment.locale instead.",S),s.langData=yt("moment.langData is deprecated. Use moment.localeData instead.",L);var Te=Math.abs;function Le(t,e,i,s){var n=Qt(e,i);return t._milliseconds+=s*n._milliseconds,t._days+=s*n._days,t._months+=s*n._months,t._bubble()}function Oe(t){return t<0?Math.floor(t):Math.ceil(t)}function xe(t){return 4800*t/146097}function Pe(t){return 146097*t/4800}function Ye(t){return function(){return this.as(t)}}var Ce=Ye("ms"),Ne=Ye("s"),Ie=Ye("m"),Ae=Ye("h"),Be=Ye("d"),Fe=Ye("w"),Ve=Ye("M"),je=Ye("y");function He(t){return function(){return this._data[t]}}var Ee=He("milliseconds"),$e=He("seconds"),We=He("minutes"),Ue=He("hours"),qe=He("days"),ze=He("months"),Re=He("years"),Ge=Math.round,Qe={s:45,m:45,h:22,d:26,M:11};function Je(t,e,i,s,n){return n.relativeTime(e||1,!!i,t,s)}var Ze=Math.abs;function Ke(){var t,e,i=Ze(this._milliseconds)/1e3,s=Ze(this._days),n=Ze(this._months);t=y(i/60),e=y(t/60),i%=60,t%=60;var r=y(n/12),o=n%=12,a=s,l=e,d=t,u=i,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(r?r+"Y":"")+(o?o+"M":"")+(a?a+"D":"")+(l||d||u?"T":"")+(l?l+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var Xe=jt.prototype;return Xe.abs=function(){var t=this._data;return this._milliseconds=Te(this._milliseconds),this._days=Te(this._days),this._months=Te(this._months),t.milliseconds=Te(t.milliseconds),t.seconds=Te(t.seconds),t.minutes=Te(t.minutes),t.hours=Te(t.hours),t.months=Te(t.months),t.years=Te(t.years),this},Xe.add=function(t,e){return Le(this,t,e,1)},Xe.subtract=function(t,e){return Le(this,t,e,-1)},Xe.as=function(t){var e,i,s=this._milliseconds;if("month"===(t=P(t))||"year"===t)return e=this._days+s/864e5,
i=this._months+xe(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Pe(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 1440*e+s/6e4;case"second":return 86400*e+s/1e3;case"millisecond":return Math.floor(864e5*e)+s;default:throw new Error("Unknown unit "+t)}},Xe.asMilliseconds=Ce,Xe.asSeconds=Ne,Xe.asMinutes=Ie,Xe.asHours=Ae,Xe.asDays=Be,Xe.asWeeks=Fe,Xe.asMonths=Ve,Xe.asYears=je,Xe.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)},Xe._bubble=function(){var t,e,i,s,n,r=this._milliseconds,o=this._days,a=this._months,l=this._data;return r>=0&&o>=0&&a>=0||r<=0&&o<=0&&a<=0||(r+=864e5*Oe(Pe(a)+o),o=0,a=0),l.milliseconds=r%1e3,t=y(r/1e3),l.seconds=t%60,e=y(t/60),l.minutes=e%60,i=y(e/60),l.hours=i%24,o+=y(i/24),n=y(xe(o)),a+=n,o-=Oe(Pe(n)),s=y(a/12),a%=12,l.days=o,l.months=a,l.years=s,this},Xe.get=function(t){return this[(t=P(t))+"s"]()},Xe.milliseconds=Ee,Xe.seconds=$e,Xe.minutes=We,Xe.hours=Ue,Xe.days=qe,Xe.weeks=function(){return y(this.days()/7)},Xe.months=ze,Xe.years=Re,Xe.humanize=function(t){var e=this.localeData(),i=function(t,e,i){var s=Qt(t).abs(),n=Ge(s.as("s")),r=Ge(s.as("m")),o=Ge(s.as("h")),a=Ge(s.as("d")),l=Ge(s.as("M")),d=Ge(s.as("y")),u=n<Qe.s&&["s",n]||1===r&&["m"]||r<Qe.m&&["mm",r]||1===o&&["h"]||o<Qe.h&&["hh",o]||1===a&&["d"]||a<Qe.d&&["dd",a]||1===l&&["M"]||l<Qe.M&&["MM",l]||1===d&&["y"]||["yy",d];return u[2]=e,u[3]=+t>0,u[4]=i,Je.apply(null,u)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Xe.toISOString=Ke,Xe.toString=Ke,Xe.toJSON=Ke,Xe.locale=se,Xe.localeData=re,Xe.toIsoString=yt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ke),Xe.lang=ne,E("X",0,0,"unix"),E("x",0,0,"valueOf"),nt("x",tt),nt("X",/[+-]?\d+(\.\d{1,3})?/),at("X",(function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))})),at("x",(function(t,e,i){i._d=new Date(v(t))})),s.version="2.10.6",e=At,s.fn=we,s.min=function(){var t=[].slice.call(arguments,0);return Vt("isBefore",t)},s.max=function(){var t=[].slice.call(arguments,0);return Vt("isAfter",t)},s.utc=l,s.unix=function(t){return At(1e3*t)},s.months=function(t,e){return Se(t,e,"months",12,"month")},s.isDate=r,s.locale=S,s.invalid=c,s.duration=Qt,s.isMoment=f,s.weekdays=function(t,e){return Se(t,e,"weekdays",7,"day")},s.parseZone=function(){return At.apply(null,arguments).parseZone()},s.localeData=L,s.isDuration=Ht,s.monthsShort=function(t,e){return Se(t,e,"monthsShort",12,"month")},s.weekdaysMin=function(t,e){return Se(t,e,"weekdaysMin",7,"day")},s.defineLocale=T,s.weekdaysShort=function(t,e){return Se(t,e,"weekdaysShort",7,"day")},s.normalizeUnits=P,s.relativeTimeThreshold=function(t,e){return void 0!==Qe[t]&&(void 0===e?Qe[t]:(Qe[t]=e,!0))},s}()}).call(this,i("YuTi")(t))},"y1L/":function(t,e,i){},zIOD:function(t,e){
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 7" width="12" height="7"><path d="M1 0a1 1 0 0 0-1 1c0 .276.1.538.28.72l5 5c.182.18.444.28.72.28.276 0 .538-.1.72-.28l5-5c.18-.182.28-.444.28-.72a1 1 0 0 0-1-1c-.276 0-.538.1-.72.28L6 4.563 1.72.282C1.537.1 1.275 0 1 0z"/></svg>'}}]);