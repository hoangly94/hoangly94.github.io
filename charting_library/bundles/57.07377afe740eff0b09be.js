(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"1pWb":function(t,e,s){"use strict";function n(t){return!1}s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return"###"}))},TsgZ:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));var n=s("Eyy1"),r=s("IWXC"),i=s("1pWb");const o=new Map;class a{constructor(t,e,s="watchlist"){this._symbolDataHandlers=new Map,this._fastSymbols=new Set,this._subscribedSymbols=new Set,this._subscriptionSet=new Set,this._cancelSubscriptionSet=new Set,this._quoteSessionDataHandler=t=>{const e=Object(n.ensureDefined)(t.symbolname),{filtered:s,keepSubscription:r}=this._applyDataFilters(t);r||this._unsubscribeSymbols([e]),this._lastSymbolData.set(e,s);const i=this._symbolDataHandlers.get(e);i&&i(s)},this._clientId=t,this._quoteSession=Object(r.getQuoteSessionInstance)(s),this._lastSymbolData=e||new Map}destroy(){const t=Array.from(this._subscribedSymbols);this._unsubscribeSymbols(t)}addFastSymbol(t){this._fastSymbols.has(t)||!this._subscribedSymbols.has(t)||Object(i.b)(t)||(this._fastSymbols.add(t),this._quoteSession.setFastSymbols(this._clientId,Array.from(this._fastSymbols)))}removeFastSymbol(t){this._fastSymbols.has(t)&&(this._fastSymbols.delete(t),this._quoteSession.setFastSymbols(this._clientId,Array.from(this._fastSymbols)))}addSymbolDataHandler(t,e){Object(i.b)(t)||this._symbolDataHandlers.set(t,e)}removeSymbolDataHandler(t){this._symbolDataHandlers.delete(t)}addToSubscriptionSet(t){t.forEach(t=>{Object(i.b)(t)||this._subscriptionSet.add(t)})}clearSubscriptionSet(){this._subscriptionSet.clear()}addToCancelSubscriptionSet(t){t.forEach(t=>{Object(i.b)(t)||this._cancelSubscriptionSet.add(t)})}commitSubscriptionChanges(){Array.from(this._subscriptionSet).forEach(t=>{this._cancelSubscriptionSet.has(t)&&(this._subscriptionSet.delete(t),this._cancelSubscriptionSet.delete(t))}),this._subscribeSymbols(Array.from(this._subscriptionSet)),this._subscriptionSet.clear(),this._unsubscribeSymbols(Array.from(this._cancelSubscriptionSet)),this._cancelSubscriptionSet.clear(),this._quoteSession.setFastSymbols(this._clientId,Array.from(this._fastSymbols))}getLastSymbolData(t){return this._lastSymbolData.get(t)}getSymbolSnapshotForAll(t,e,s=guid()){const n=t.map(t=>this.getSymbolSnapshot(t,e,s));return Promise.all(n)}getSymbolSnapshot(t,e,s=guid()){if(Object(i.b)(t))return Promise.resolve(void 0);const n=this._lastSymbolData.get(t);return n&&"ok"===n.status&&(c(n,e)||n.complete)?Promise.resolve(n):new Promise(n=>{const r=this._clientId+"_snapshot_"+s,i=s=>{const{filtered:o,keepSubscription:a}=this._applyDataFilters(s);o&&"error"!==o.status&&this._lastSymbolData.set(t,o),(!a||c(o,e)||"error"===o.status||o.complete)&&(this._quoteSession.unsubscribe(r,t,i),n(o))};this._quoteSession.subscribe(r,t,i)})}getSymbolFullName(t){if(Object(i.b)(t))return Promise.resolve(t);if(o.has(t))return Object(n.ensureDefined)(o.get(t));const e=new Promise(e=>{const s=this._clientId+"_SymbolFullName",n=r=>{const i=r=>{this._quoteSession.unsubscribe(s,t,n),e(r)}
;r&&"ok"===r.status?r.values&&i(r.values.pro_name||t):i(t)};this._quoteSession.subscribe(s,t,n)});return o.set(t,e),e}getSymbolsFullNames(t){return Promise.all(t.map(t=>this.getSymbolFullName(t)))}getUniqueSymbolsFullNames(t){return this.getSymbolsFullNames(t).then(t=>Array.from(new Set(t)))}_subscribeSymbols(t){this._quoteSession.subscribe(this._clientId,t,this._quoteSessionDataHandler),t.forEach(t=>this._subscribedSymbols.add(t))}_unsubscribeSymbols(t){this._quoteSession.unsubscribe(this._clientId,t,this._quoteSessionDataHandler),t.forEach(t=>{this._subscribedSymbols.delete(t)})}_applyDataFilters(t){return{filtered:t,keepSubscription:!0}}}const u=new class{constructor(){this._adapters={},this._lastSymbolData=new Map}destroy(){Object.keys(this._adapters).forEach(t=>Object(n.ensureDefined)(this._adapters[t]).destroy()),this._lastSymbolData.clear()}get(t){return void 0===this._adapters[t]&&(this._adapters[t]=new a(t,this._lastSymbolData)),Object(n.ensureDefined)(this._adapters[t])}};function c(t,e){for(const s of Array.from(e))if(!t.values.hasOwnProperty(s))return!1;return!0}},ehHn:function(t,e,s){"use strict";s.d(e,"j",(function(){return h})),s.d(e,"m",(function(){return d})),s.d(e,"d",(function(){return f})),s.d(e,"a",(function(){return m})),s.d(e,"k",(function(){return S})),s.d(e,"b",(function(){return _})),s.d(e,"e",(function(){return y})),s.d(e,"n",(function(){return g})),s.d(e,"f",(function(){return j})),s.d(e,"c",(function(){return O})),s.d(e,"o",(function(){return w})),s.d(e,"i",(function(){return q})),s.d(e,"l",(function(){return F})),s.d(e,"h",(function(){return E})),s.d(e,"g",(function(){return N})),s.d(e,"p",(function(){return P}));var n=s("Eyy1"),r=s("YFKU"),i=s("Kxc7"),o=s("fZEr"),a=s("TsgZ"),u=s("txPx"),c=s("8woN"),l=s("1pWb"),b=s("JWMC");function h(t,e,s){return!("colored"===e&&!s)&&Object(l.b)(t)}function d(t){return t.replace(l.a,"")}function f(t){return l.a+t}function m(t,e,s=!0){const n=new Set(t),r=s?" 1":"";if(!n.has(e+r))return e+r;let i=2,o="";for(;i<=2e3&&(o=`${e} ${i}`,n.has(o));)i+=1;return o}const S=Object(u.getLogger)("Platform.Model.Watchlist");function _(){return i.enabled("multiple_watchlists")&&!0}function y(t){return()=>new Promise(e=>{Object(o.showRename)({title:t,text:Object(r.t)("Symbol list name")+":",maxLength:128,onRename:({newValue:t,dialogClose:s})=>{e(t),s()}})})}function p(t){return t.replace("âˆ’","-")}function g(t,e,s,r){const i=function(t){const e=[],s=[];t.forEach((t,e)=>{Object(l.b)(t)&&s.push(e)});let n=0;s.forEach(s=>{e.push({values:t.slice(n,s),separator:t[s]}),n=s+1});const r=s[s.length-1],i=t.slice(r+1);return i.length>0&&e.push({values:i,separator:null}),e}(e);return i.forEach(e=>{e.values.sort((e,i)=>{const o=a.a.get(t).getLastSymbolData(e),u=a.a.get(t).getLastSymbolData(i),c=v(o),l=v(u),b=o&&"flag"!==s?o.values[s]:void 0,h=u&&"flag"!==s?u.values[s]:void 0;return function(t,e){const s=-1===e?-1/0:1/0;return(r,i,o,a)=>{if("rchp"!==t){if(void 0===r&&void 0===i)return 0;if(void 0===r)return-e;if(void 0===i)return e}switch(t){case"short_name":
return e*(r===i?0:Object(n.ensureDefined)(r)<Object(n.ensureDefined)(i)?-1:1);case"rchp":return o||(r=void 0),a||(i=void 0),D(r,i,e,s);case"last_price":case"change":case"change_percent":return D(r,i,e,s);case"volume":{const t=Object(n.ensureDefined)(r)>=1e100?s:Number(r),o=Object(n.ensureDefined)(i)>=1e100?s:Number(i);return e*(t-o)}default:return Object(n.ensureDefined)(r)>Object(n.ensureDefined)(i)?-1:1}}}(s,r)(b,h,c,l)})}),function(t){const e=[];return t.forEach(({values:t,separator:s})=>{e.push(...t),null!==s&&e.push(s)}),e}(i)}function v(t){if(!t)return!1;const e="pre_market"===t.values.current_session,s="post_market"===t.values.current_session;return e||s}function D(t,e,s,n){let r=parseFloat(p(String(t))),i=parseFloat(p(String(e)));return r=isNaN(r)?n:r,i=isNaN(i)?n:i,s*(r-i)}function j(t,e,s){return{type:"custom",id:t,name:e,symbols:s,shared:!1}}function O(t,e){return t===e||Object(c.shortName)(t)===e}function w(t){return{symbol:t.symbol,side:t.side,qty:t.qty,avgPrice:t.avgPrice}}function q(t,e){return t===e||void 0!==t&&void 0!==e&&(t.side===e.side&&t.qty===e.qty&&t.avgPrice===e.avgPrice&&t.symbol===e.symbol)}function F(t){try{return Object(c.shortName)(t)}catch(e){return t}}function E(t,e){if(e.includes(t))return t;{const s=F(t);if(e.includes(s))return s}}function N(t,e,s){const n="next"===s;for(let r=t;n?r<e.length:r>=0;n?r++:r--)if(!Object(l.b)(e[r]))return e[r];for(let r=n?0:e.length-1;n?r<t:r>t;n?r++:r--)if(!Object(l.b)(e[r]))return e[r]}function P(t){t?Object(b.trackEvent)("Watchlist","Multi select","Remove"):Object(b.trackEvent)("Watchlist","Remove")}}}]);