(window.webpackJsonp=window.webpackJsonp||[]).push([["study-market"],{"++0f":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentcolor" stroke-width="1.3" d="M12 9l5 5-5 5"/></svg>'},"+EG+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var i=n("q1tI");class r extends i.Component{shouldComponentUpdate(){return!1}render(){return i.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const s=i.createContext(null)},"+l/S":function(e,t,n){},"0NLZ":function(e,t,n){e.exports={container:"container-12vIMEmh"}},"2A9e":function(e){e.exports=JSON.parse('{"button":"button-1iktpaT1","content":"content-2PGssb8d","noOutline":"noOutline-d9Yp4qvi","appearance-default":"appearance-default-dMjF_2Hu","intent-primary":"intent-primary-1-IOYcbg","intent-success":"intent-success-25a4XZXM","intent-default":"intent-default-2ZbSqQDs","intent-warning":"intent-warning-24j5HMi0","intent-danger":"intent-danger-1EETHCla","appearance-stroke":"appearance-stroke-12lxiUSM","appearance-text":"appearance-text-DqKJVT3U","appearance-inverse":"appearance-inverse-r1Y2JQg_","size-s":"size-s-3mait84m","size-m":"size-m-2G7L7Qat","size-l":"size-l-2NEs9_xt","size-p":"size-p-3D4rn3v0","full-width":"full-width-1wU8ljjC","with-icon":"with-icon-yumghDr-","icon":"icon-1grlgNdV"}')},"2x13":function(e,t,n){e.exports={wrapper:"wrapper-DggvOZTm",container:"container-DggvOZTm",tab:"tab-DggvOZTm",active:"active-DggvOZTm",title:"title-DggvOZTm",icon:"icon-DggvOZTm",titleText:"titleText-DggvOZTm",nested:"nested-DggvOZTm",isTablet:"isTablet-DggvOZTm",isMobile:"isMobile-DggvOZTm"}},"8Rai":function(e,t,n){"use strict";var i=n("q1tI");const r=function(e,{bubbles:t=!1,cancelable:n=!1,detail:i=null}={}){try{return new window.CustomEvent(e,{bubbles:t,cancelable:n,detail:i})}catch(r){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,t,n,i),s}};var s=n("R5JZ");function a(e){const{click:t,mouseDown:n,touchEnd:a,touchStart:o,handler:c,reference:l,ownerDocument:u=document}=e,d=Object(i.useRef)(null),h=Object(i.useRef)(new r("timestamp").timeStamp);return Object(i.useLayoutEffect)(()=>{const e={click:t,mouseDown:n,touchEnd:a,touchStart:o},i=l?l.current:d.current;return Object(s.a)(h.current,i,c,u,e)},[t,n,a,o,c]),l||d}n.d(t,"a",(function(){return a}))},"9DSJ":function(e,t,n){e.exports={"tablet-small-breakpoint":"screen and (max-width: 428px)",dialog:"dialog-3kc5LZDR",dialogLibrary:"dialogLibrary-3kc5LZDR",listContainer:"listContainer-3kc5LZDR",scroll:"scroll-3kc5LZDR",sidebarContainer:"sidebarContainer-3kc5LZDR",noContentBlock:"noContentBlock-3kc5LZDR"}},AiMB:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("q1tI"),r=n("i8i4"),s=n("e3/o"),a=n("jAh7"),o=n("+EG+");class c extends i.PureComponent{constructor(){super(...arguments),this._uuid=Object(s.guid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){
const e=this._manager().ensureWindow(this._uuid,this.props.layerOptions);return e.style.top=this.props.top||"",e.style.bottom=this.props.bottom||"",e.style.left=this.props.left||"",e.style.right=this.props.right||"",e.style.pointerEvents=this.props.pointerEvents||"",r.createPortal(i.createElement(l.Provider,{value:this},this.props.children),e)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?Object(a.getRootOverlapManager)():this.context}}c.contextType=o.b;const l=i.createContext(null)},An2S:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p}));var i=n("mrSG"),r=n("q1tI"),s=n.n(r),a=n("TSYQ"),o=n.n(a),c=n("Iivm"),l=n("++0f"),u=n("2x13");function d(e){return{isMobile:"mobile"===e,isTablet:"tablet"===e}}function h(e){const{mode:t,className:n}=e,r=Object(i.a)(e,["mode","className"]),{isMobile:a,isTablet:c}=d(t),l=o()(u.container,c&&u.isTablet,a&&u.isMobile,n);return s.a.createElement("div",Object.assign({},r,{className:l,"data-role":"dialog-sidebar"}))}function m(e){return s.a.createElement("div",Object.assign({className:u.wrapper},e))}function p(e){const{mode:t,title:n,icon:r,isActive:a,onClick:h}=e,m=Object(i.a)(e,["mode","title","icon","isActive","onClick"]),{isMobile:p,isTablet:g}=d(t);return s.a.createElement("div",Object.assign({},m,{className:o()(u.tab,g&&u.isTablet,p&&u.isMobile,a&&u.active),onClick:h}),s.a.createElement(c.a,{className:u.icon,icon:r}),!g&&s.a.createElement("span",{className:u.title},s.a.createElement("span",{className:u.titleText},n),p&&s.a.createElement(c.a,{className:u.nested,icon:l})))}},Iivm:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI");const s=r.forwardRef((e,t)=>{const{icon:n=""}=e,s=Object(i.a)(e,["icon"]);return r.createElement("span",Object.assign({},s,{ref:t,dangerouslySetInnerHTML:{__html:n}}))});n.d(t,"a",(function(){return s}))},PMRz:function(e,t,n){e.exports={"tablet-small-breakpoint":"screen and (max-width: 428px)",container:"container-3Ywm3-oo",selected:"selected-3Ywm3-oo",disabled:"disabled-3Ywm3-oo",favorite:"favorite-3Ywm3-oo",actions:"actions-3Ywm3-oo",highlighted:"highlighted-3Ywm3-oo",light:"light-3Ywm3-oo","highlight-animation-theme-light":"highlight-animation-theme-light-3Ywm3-oo",dark:"dark-3Ywm3-oo","highlight-animation-theme-dark":"highlight-animation-theme-dark-3Ywm3-oo",main:"main-3Ywm3-oo",paddingLeft:"paddingLeft-3Ywm3-oo",isActive:"isActive-3Ywm3-oo",author:"author-3Ywm3-oo",likes:"likes-3Ywm3-oo"}},XfUw:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M9 2.13l1.903 3.855.116.236.26.038 4.255.618-3.079 3.001-.188.184.044.259.727 4.237-3.805-2L9 12.434l-.233.122-3.805 2.001.727-4.237.044-.26-.188-.183-3.079-3.001 4.255-.618.26-.038.116-.236L9 2.13z"/></svg>'},cu5P:function(e,t,n){e.exports={title:"title-1gYObTuJ",disabled:"disabled-1gYObTuJ",icon:"icon-1gYObTuJ",locked:"locked-1gYObTuJ",open:"open-1gYObTuJ",actionIcon:"actionIcon-1gYObTuJ",
selected:"selected-1gYObTuJ",codeIcon:"codeIcon-1gYObTuJ"}},fEjm:function(e,t,n){e.exports={favorite:"favorite-I_fAY9V2",disabled:"disabled-I_fAY9V2",active:"active-I_fAY9V2",checked:"checked-I_fAY9V2"}},iYOJ:function(e,t,n){e.exports={title:"title-hq9up-8e",small:"small-hq9up-8e",normal:"normal-hq9up-8e",large:"large-hq9up-8e"}},idtP:function(e,t,n){e.exports={container:"container-39xfFXyr",image:"image-39xfFXyr",title:"title-39xfFXyr",description:"description-39xfFXyr",button:"button-39xfFXyr"}},jAh7:function(e,t,n){"use strict";n.r(t),n.d(t,"OverlapManager",(function(){return s})),n.d(t,"getRootOverlapManager",(function(){return o}));var i=n("Eyy1");class r{constructor(){this._storage=[]}add(e){this._storage.push(e)}remove(e){this._storage=this._storage.filter(t=>e!==t)}has(e){return this._storage.includes(e)}getItems(){return this._storage}}class s{constructor(e=document){this._storage=new r,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}setContainer(e){const t=this._container,n=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)})}(t,n),this._container=n}registerWindow(e){this._storage.has(e)||this._storage.add(e)}ensureWindow(e,t={position:"fixed",direction:"normal"}){const n=this._windows.get(e);if(void 0!==n)return n;this.registerWindow(e);const i=this._document.createElement("div");if(i.style.position=t.position,i.style.zIndex=this._index.toString(),i.dataset.id=e,void 0!==t.index){const e=this._container.childNodes.length;if(t.index>=e)this._container.appendChild(i);else if(t.index<=0)this._container.insertBefore(i,this._container.firstChild);else{const e=this._container.childNodes[t.index];this._container.insertBefore(i,e)}}else"reverse"===t.direction?this._container.insertBefore(i,this._container.firstChild):this._container.appendChild(i);return this._windows.set(e,i),++this._index,i}unregisterWindow(e){this._storage.remove(e);const t=this._windows.get(e);void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))}getZindex(e){const t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")}moveToTop(e){if(this.getZindex(e)!==this._index){this.ensureWindow(e).style.zIndex=(++this._index).toString()}}removeWindow(e){this.unregisterWindow(e)}}const a=new WeakMap;function o(e=document){const t=e.getElementById("overlap-manager-root");if(null!==t)return Object(i.ensureDefined)(a.get(t));{const t=new s(e),n=function(e){const t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t}(e);return a.set(n,t),t.setContainer(n),e.body.appendChild(n),t}}},jPOK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("q1tI"),r=n("TSYQ"),s=n("Owlf");n("SzKR");function a(e){const t=r("tv-spinner","tv-spinner--shown","tv-spinner--size_"+(e.size||s.a));return i.createElement("div",{className:t,style:e.style,role:"progressbar"
},i.createElement("div",{className:"tv-spinner__spinner-layer"},i.createElement("div",{className:"tv-spinner__background tv-spinner__width_element"}),i.createElement("div",{className:"tv-spinner__circle-clipper tv-spinner__width_element tv-spinner__circle-clipper--left"}),i.createElement("div",{className:"tv-spinner__circle-clipper tv-spinner__width_element tv-spinner__circle-clipper--right"})))}},mwqF:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),s=n("TSYQ");function a(e,t){const{intent:n="primary",size:i="m",appearance:r="default",useFullWidth:a=!1,tabIndex:o=0,icon:c,className:l}=t;return s(l,e.button,e["size-"+i],e["intent-"+n],e["appearance-"+r],a&&e["full-width"],-1===o&&e.noOutline,c&&"s"!==i&&e["with-icon"])}var o=n("2A9e");n("+l/S");function c(e){const{className:t,intent:n,size:c,appearance:l,disabled:u,useFullWidth:d,reference:h,icon:m,children:p,tabIndex:g}=e,f=Object(i.a)(e,["className","intent","size","appearance","disabled","useFullWidth","reference","icon","children","tabIndex"]),v=a(o,{intent:n,size:c,appearance:l,disabled:u,useFullWidth:d,tabIndex:g,icon:m});return r.createElement("button",Object.assign({className:s(v,t),disabled:u,ref:h,tabIndex:g},f),m&&"s"!==c&&r.createElement("span",{className:o.icon},m),r.createElement("span",{className:o.content},p))}n.d(t,"a",(function(){return c}))},pr86:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("mrSG"),r=(n("YFKU"),n("q1tI")),s=n("TSYQ"),a=n("Iivm"),o=n("sg5d"),c=n("XfUw"),l=n("fEjm");const u={add:window.t("Add to favorites"),remove:window.t("Remove from favorites")};function d(e){const{className:t,isFilled:n,isActive:d,onClick:h}=e,m=Object(i.a)(e,["className","isFilled","isActive","onClick"]);return r.createElement(a.a,Object.assign({},m,{className:s(l.favorite,"apply-common-tooltip",n&&l.checked,d&&l.active,t),icon:n?o:c,onClick:h,title:n?u.remove:u.add}))}},sg5d:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" d="M9 1l2.35 4.76 5.26.77-3.8 3.7.9 5.24L9 13l-4.7 2.47.9-5.23-3.8-3.71 5.25-.77L9 1z"/></svg>'},vbTm:function(e,t,n){e.exports={container:"container-gb0TB1FN"}},vqb8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("q1tI");const r=e=>{const t="watchedValue"in e?e.watchedValue:void 0,n="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[r,s]=Object(i.useState)(t?t.value():n);return Object(i.useEffect)(()=>{if(t){s(t.value());const e=e=>s(e);return t.subscribe(e),()=>t.unsubscribe(e)}return()=>{}},[t]),r}},zbLM:function(e,t,n){"use strict";n.r(t);var i=n("q1tI"),r=n.n(i),s=n("i8i4"),a=n.n(s),o=n("YFKU"),c=n("mMWL"),l=n("CW80"),u=n("0YCj"),d=n.n(u),h=n("Kxc7");function m(e,t){const n=e.title.toLowerCase(),i=t.title.toLowerCase();return n<i?-1:n>i?1:0}const p={earning:new RegExp("EPS"),earnings:new RegExp("EPS"),"trailing twelve months":new RegExp("TTM")};function g(e){var t
;const{id:n,description:i,shortDescription:r,description_localized:s,is_hidden_study:a,version:c}=e,l=h.enabled("graying_disabled_tools_enabled")&&(null===(t=window.ChartApiInstance)||void 0===t?void 0:t.studiesAccessController.isToolGrayed(r));return{id:n,title:s||Object(o.t)(i,{context:"study"}),shortDescription:r,shortTitle:r,isStrategy:d.a.isScriptStrategy(e),isHidden:a,descriptor:{type:"java",studyId:e.id},packageName:d.a.getPackageName(n),isGrayed:l,version:c}}var f=n("TSYQ"),v=n.n(f),b=n("jPOK"),_=n("g89m"),w=n("qFKp"),y=n("QHWU"),O=n("An2S"),E=n("mrSG"),x=n("0NLZ");function C(e){const{reference:t,className:n}=e,i=Object(E.a)(e,["reference","className"]);return r.a.createElement("div",Object.assign({ref:t,className:v()(x.container,n)},i,{"data-role":"dialog-content"}))}var N=n("cu5P");function S(e){const{children:t,className:n,disabled:i}=e;return r.a.createElement("span",{className:v()(N.title,i&&N.disabled,n)},t)}const j=r.a.createContext(null);var k=n("1LIl"),T=n("vqb8"),I=n("oiZD"),D=n("zM7N"),R=n("pr86"),Y=n("/3z9"),F=n("PMRz");function M(e){const t=Object(i.useContext)(j),{style:n,layoutMode:s,item:a,query:o,regExpRules:c,isSelected:l,isHighlighted:u,reference:d,onClick:h,renderActions:m}=e,{isFavorite:p,isStrategy:g,isLocked:f,public:b}=a,_=void 0!==p,w=L(h,a),y=Object(i.useCallback)(e=>e.stopPropagation(),[]),O=(null==t?void 0:t.toggleFavorite)?L(t.toggleFavorite,a):void 0,E=Object(T.a)({watchedValue:I.watchedTheme})===D.a.Dark?F.dark:F.light,x=v()(F.container,a.isGrayed&&F.disabled,l&&F.selected,u&&F.highlighted,u&&E);return r.a.createElement("div",{ref:d,className:x,onClick:w,style:n,"data-role":"list-item","data-disabled":a.isGrayed,"data-title":a.title,"data-id":a.id},r.a.createElement("div",{className:v()(F.main,!_&&F.paddingLeft)},_&&r.a.createElement(R.a,{className:v()(F.favorite,p&&F.isActive),isFilled:p,onClick:O}),r.a.createElement(S,{disabled:a.isGrayed},r.a.createElement(k.a,{queryString:o,rules:c,text:a.title})),!1),b&&r.a.createElement("a",{href:b.authorLink,className:F.author,target:"_blank",onClick:y},b.authorName),"mobile"!==s&&b&&r.a.createElement("span",{className:F.likes},b.likesCount),!1)}function L(e,t){return n=>{const i=0===Object(Y.modifiersFromEvent)(n)&&0===n.button;!n.defaultPrevented&&e&&i&&(n.preventDefault(),e(t))}}var P=n("iYOJ");function z(e){const{title:t,type:n,className:i}=e;return r.a.createElement("h3",{className:v()(P.title,"Small"===n&&P.small,"Normal"===n&&P.normal,"Large"===n&&P.large,i)},t)}var q=n("vbTm");function A(e){const{style:t,children:n}=e;return r.a.createElement("div",{style:t,className:q.container},n)}var W=n("Iivm"),Z=n("mwqF"),J=n("idtP");function B(e){const{className:t,icon:n,title:i,description:s,buttonText:a,buttonAction:o}=e;return r.a.createElement("div",{className:v()(J.container,t)},n&&r.a.createElement(W.a,{icon:n,className:J.image}),i&&r.a.createElement("h3",{className:J.title},i),s&&r.a.createElement("p",{className:J.description},s),a&&o&&r.a.createElement(Z.a,{onClick:o,className:J.button},a))}function G(e){
const[t,n]=Object(i.useState)(null);function r(e){return e.findIndex(e=>(null==t?void 0:t.id)===e.id)}return[t,n,function(){n(function(){var n;const i=r(e),s=i===e.length-1;return null===t||-1===i?null!==(n=e[0])&&void 0!==n?n:null:s?e[i]:e[i+1]}())},function(){n(function(){var n;const i=r(e);return null===t||0===i||-1===i?null!==(n=e[0])&&void 0!==n?n:null:e[i-1]}())}]}var V=n("H9Gg"),K=n("9DSJ");function H(e){const{reference:t,data:n,isOpened:s,onClose:a,applyStudy:c}=e,[l,u]=Object(i.useState)(""),d=Object(i.useMemo)(()=>Object(V.a)(l,p),[l]),h=Object(i.useMemo)(()=>l?Object(V.c)({data:n,rules:d,queryString:l,primaryKey:"shortDescription",secondaryKey:"title",optionalPrimaryKey:"shortTitle"}):n,[l,d,n]),{highlightedItem:m,selectedItem:g,selectedNodeReference:f,scrollContainerRef:E,searchInputRef:x,onClickStudy:N,handleKeyDown:S}=function(e,t,n,r){let s=0;const[a,o]=Object(i.useState)(null),c=Object(i.useRef)(null),l=Object(i.useRef)(null),[u,d,h,m]=G(t),p=Object(i.useRef)(null);return Object(i.useEffect)(()=>{e?g(0):d(null)},[e]),Object(i.useEffect)(()=>{void 0!==r&&(g(0),d(null))},[r]),Object(i.useEffect)(()=>(a&&(s=setTimeout(()=>{o(null)},1500)),()=>{clearInterval(s)}),[a]),{highlightedItem:a,scrollContainerRef:c,selectedNodeReference:l,selectedItem:u,searchInputRef:p,onClickStudy:function(e){if(!n)return;n(e),d(e),o(e)},handleKeyDown:function(e){const[t,i]=function(e,t){if(null===e.current||null===t.current)return[0,0];const n=e.current.getBoundingClientRect(),i=t.current.getBoundingClientRect(),{height:r}=n,s=n.top-i.top,a=n.bottom-i.bottom+r<0?0:r,o=s-r>0?0:r,{scrollTop:c}=t.current;return[c-o,c+a]}(l,c);40===Object(Y.hashFromEvent)(e)&&(e.preventDefault(),h(),g(i));38===Object(Y.hashFromEvent)(e)&&(e.preventDefault(),m(),g(t));if(13===Object(Y.hashFromEvent)(e)&&u){if(!n)return;n(u),o(u)}}};function g(e){null!==c.current&&c.current.scrollTo&&c.current.scrollTo(0,e)}}(s,h,c),j=""===l&&!h.length;return Object(i.useEffect)(()=>{var e;s||u(""),w.CheckMobile.any()||null===(e=x.current)||void 0===e||e.focus()},[s]),r.a.createElement(_.a,{isOpened:s,onClose:a,onClickOutside:a,className:v()(K.dialogLibrary),render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{reference:x,placeholder:Object(o.t)("Search"),onChange:k,onFocus:T}),r.a.createElement(O.c,null,r.a.createElement(C,{reference:E,className:K.scroll},j?r.a.createElement(b.a,null):h.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null,r.a.createElement(z,{title:Object(o.t)("Script name")})),h.map(e=>{const t=(null==g?void 0:g.id)===e.id;return r.a.createElement(M,{key:e.id,item:e,onClick:()=>N(e),query:l,regExpRules:d,reference:t?f:void 0,isSelected:(null==g?void 0:g.id)===e.id,isHighlighted:(null==m?void 0:m.id)===e.id})})):r.a.createElement(B,{className:K.noContentBlock,description:Object(o.t)("No indicators matched your criteria.")}))))},title:Object(o.t)("Indicators"),dataName:"indicators-dialog",onKeyDown:S,ref:t});function k(e){u(e.target.value)}function T(){var e
;l.length>0&&(null===(e=x.current)||void 0===e||e.select())}}var Q=n("FQhm"),U=n("hY0g"),X=n.n(U);n.d(t,"IndicatorsLibraryContainer",(function(){return $}));class $ extends class{constructor(e){this._searchInputRef=r.a.createRef(),this._dialog=r.a.createRef(),this._visibility=new X.a(!1),this._container=document.createElement("div"),this._isForceRender=!1,this._parentSource=null,this._isDestroyed=!1,this._chartWidgetCollection=e}isDestroyed(){return this._isDestroyed}visible(){return this._visibility.readonly()}resetAllStudies(){}updateFavorites(){}open(e){this._parentSource=null!=e?e:null,this._setProps({isOpened:!0}),this._visibility.setValue(!0),Q.emit("indicators_dialog")}show(){this.open()}hide(){this._parentSource=null,this._setProps({isOpened:!1}),this._visibility.setValue(!1)}destroy(){this._isDestroyed=!0,a.a.unmountComponentAtNode(this._container)}_shouldPreventRender(){return this._isDestroyed||!this._isForceRender&&!this._getProps().value().isOpened}_getRenderData(){return{props:this._getProps().value(),container:this._getContainer()}}_applyStudy(e){var t,n;e.isGrayed?Q.emit("onGrayedObjectClicked",{type:"study",name:e.shortDescription}):(w.CheckMobile.any()||null===(t=this._searchInputRef.current)||void 0===t||t.select(),async function(e,t,n){const i=t.descriptor;if("java"===i.type){const e=Object(l.tryFindStudyLineToolNameByStudyId)(i.studyId);if(null!==e)return c.tool.setValue(e),null}const r=e.activeChartWidget.value();return r?r.insertStudy(t.descriptor,n,t.shortDescription):null}(this._chartWidgetCollection,e,null!==(n=this._parentSource)&&void 0!==n?n:void 0).then(()=>{var e;w.CheckMobile.any()||(null===document.activeElement||document.activeElement===document.body||null!==this._dialog.current&&this._dialog.current.contains(document.activeElement))&&(null===(e=this._searchInputRef.current)||void 0===e||e.focus())}))}_setProps(e){const t=this._getProps().value(),{isOpened:n}=t;this._isForceRender=n&&"isOpened"in e&&!e.isOpened;const i=Object.assign(Object.assign({},t),e);this._getProps().setValue(i)}_requestBuiltInJavaStudies(){return this._chartWidgetCollection.activeChartWidget.value().metaInfoRepository().findAllJavaStudies()}_focus(){var e;this._getProps().value().isOpened&&(null===(e=this._dialog.current)||void 0===e||e.focus())}_getContainer(){return this._container}_getDialog(){return this._dialog}}{constructor(e,t){super(e),this._studies={},this._options={onWidget:!1},this._getStudies=e=>this._studies[e]||[],t&&(this._options=t),this._props=new X.a({data:[],applyStudy:this._applyStudy.bind(this),isOpened:!1,reference:this._getDialog(),onClose:this.hide.bind(this)}),this._getProps().subscribe(this._render.bind(this)),this._init()}_getProps(){return this._props}async _init(){const e=await this._requestBuiltInJavaStudies();this._studies=function(e){const t={};return e.forEach(e=>{const{packageName:n}=e;n in t?t[n].push(e):t[n]=[e]}),t}(function(e,t=!0){return e.filter(e=>{const n=!!t||!function(e){return e.isStrategy}(e);return!e.isHidden&&n})}(e.map(g)))
;const t=[...this._getStudies("tv-basicstudies"),...this._getStudies("Script$STD")].filter(e=>!e.isStrategy).sort(m);this._setProps({data:t})}_render(){if(this._shouldPreventRender())return;const{props:e,container:t}=this._getRenderData();a.a.render(r.a.createElement(H,Object.assign({},e)),t)}}}}]);