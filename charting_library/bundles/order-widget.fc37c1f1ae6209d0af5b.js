(window.webpackJsonp=window.webpackJsonp||[]).push([["order-widget"],{"0oEL":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><path fill="none" stroke="currentColor" stroke-width="2" d="M17.09 6.5A7.5 7.5 0 1 0 11.5 19a7.481 7.481 0 0 0 5.59-2.5"/></svg>'},"1uKM":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="#FB8C00" d="M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9z"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>'},"2n7d":function(e,t,s){e.exports={"css-value-calculator-width":"150px"}},"3nsW":function(e,t,s){e.exports={priceLabel:"priceLabel-pmTo_qjO",ask:"ask-pmTo_qjO",bid:"bid-pmTo_qjO",last:"last-pmTo_qjO"}},"48L3":function(e,t,s){e.exports={menuBox:"menuBox-2VgDDAqn"}},"5o6O":function(e,t,s){e.exports={tabs:"tabs-3I2ohC86",tab:"tab-3I2ohC86",noBorder:"noBorder-3I2ohC86",disabled:"disabled-3I2ohC86",active:"active-3I2ohC86",defaultCursor:"defaultCursor-3I2ohC86",slider:"slider-3I2ohC86",content:"content-3I2ohC86"}},"9E2J":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><path fill="currentColor" stroke="none" d="M2 10h18v2H2z"/></svg>'},EVs3:function(e,t,s){e.exports={controlGroup:"controlGroup-aAjeEunF",relativePriceControl:"relativePriceControl-aAjeEunF",title:"title-aAjeEunF",controlContainer:"controlContainer-aAjeEunF",control:"control-aAjeEunF",input:"input-aAjeEunF",wait:"wait-aAjeEunF"}},Gg3R:function(e,t,s){e.exports={absolutePriceDropdownItem:"absolutePriceDropdownItem-2wipmFIV",price:"price-2wipmFIV",labelsGroup:"labelsGroup-2wipmFIV"}},H3n3:function(e,t,s){e.exports={dialog:"dialog-3CCITr5n",dialogBody:"dialogBody-3CCITr5n"}},IkHa:function(e,t,s){"use strict";s.r(t);var r=s("q1tI"),o=s.n(r),i=s("i8i4"),n=s("YFKU"),a=s("TSYQ"),l=s("Eyy1"),c=s("Vdly"),d=s("Kxc7"),p=s("txPx"),u=s("qFKp"),h=s("8wgr"),m=s("oykh"),b=s("en3B"),v=s("pKbH");const g=window.t("Sell"),_=window.t("Buy"),f=window.t("No Data");class C extends r.PureComponent{constructor(e){super(e),this._isLongValue=!1,this._maxDigitsNumber=7,this._createClickHandler=e=>()=>this.props.onSideChanged(e),this._isLongValue=Boolean(this.props.quotes.spread&&this.props.quotes.spread.toString().length>this._maxDigitsNumber||this.props.quotes.ask&&this.props.quotes.ask.toString().length>this._maxDigitsNumber)}render(){const e=a(v.sideControl,[b.h.Editing,b.h.Preview].includes(this.props.status)&&v.disable,this.props.status===b.h.Wait&&v.wait),t=a(v.section,v.sell,this.props.status!==b.h.Wait&&-1===this.props.side&&v.active),s=a(v.section,v.buy,this.props.status!==b.h.Wait&&1===this.props.side&&v.active),o=this.props.quotes.bid?r.createElement("div",null,this.props.quotes.bid):r.createElement("div",{className:v.valueNoData},f),i=this.props.quotes.ask?r.createElement("div",null,this.props.quotes.ask):r.createElement("div",{className:v.valueNoData},f);return r.createElement("div",{className:e},r.createElement("div",{className:t,onClick:this._createClickHandler(-1),tabIndex:-1},r.createElement("div",{className:v.title},r.createElement("span",{className:this.props.currencyForCrypto&&v.typeSide},g),this.props.currencyForCrypto&&r.createElement("span",null,this.props.currencyForCrypto)),r.createElement("div",{className:v.value},o)),r.createElement("div",{className:s,onClick:this._createClickHandler(1),tabIndex:-1},r.createElement("div",{className:v.title},r.createElement("span",{className:this.props.currencyForCrypto&&v.typeSide},_),this.props.currencyForCrypto&&r.createElement("span",{className:v.typeSide},this.props.currencyForCrypto)),r.createElement("div",{className:v.value},i)),this.props.quotes.spread&&r.createElement("div",{className:a(v.spread,this._isLongValue&&v.isLongValue)},this.props.quotes.spread))}}class w extends r.PureComponent{constructor(e){super(e),this._onSideChanged=e=>{this.props.disabled||(this.props.model.side.setValue(e),this.props.model.onControlFocused.fire())},this._callback=()=>this.forceUpdate(),this._statusCallback=e=>{e!==b.h.Preview&&this.forceUpdate()}}componentDidMount(){this._subscribeToModel(this.props.model)}componentWillUnmount(){this._unsubscribeFromModel(this.props.model)}render(){const e=this.props.model;return r.createElement(C,{quotes:e.quotes.value(),side:e.side.value(),status:e.status.value(),onSideChanged:this._onSideChanged,currencyForCrypto:e.baseCurrency})}_subscribeToModel(e){e.quotes.subscribe(this._callback),e.side.subscribe(this._callback),e.status.subscribe(this._statusCallback)}_unsubscribeFromModel(e){e.quotes.unsubscribe(this._callback),e.side.unsubscribe(this._callback),e.status.unsubscribe(this._statusCallback)}}var k=s("mwqF"),E=s("/qCs"),y=s("gla1"),P=s("Iivm"),O=s("L2Pi"),M=s("1uKM");const S={cancel:window.t("Cancel"),sendOrder:window.t("Send Order")};function N(e){const t=Object(r.useRef)(null),s=Object(y.a)();Object(r.useEffect)((()=>{const r=()=>s();return Object(l.ensureNotNull)(t.current).focus(),e.loading.subscribe(r),e.model.infoTableQuotesData().subscribe(r),()=>{e.loading.unsubscribe(r),e.model.infoTableQuotesData().unsubscribe(r)}}));const i=o.a.createElement(E.a,{rows:e.model.infoTableQuotesData().value().rows,header:e.model.infoTableQuotesData().value().header}),n=o.a.createElement(E.a,{rows:e.model.infoTableOrderData().rows,header:e.model.infoTableOrderData().header}),a=e.model.infoTableCustomData().map(((e,t)=>o.a.createElement(E.a,{key:"custom-"+t,rows:e.rows,header:e.header}))),c=0!==e.model.warnings.length&&o.a.createElement("div",{className:O.warning},o.a.createElement(P.a,{className:O.warning__icon,icon:M}),o.a.createElement("div",null,e.model.warnings.map((e=>o.a.createElement("div",{key:e},e))))),d=0!==e.model.errors.length&&o.a.createElement("div",{className:O.error},e.model.errors.map((e=>o.a.createElement("div",{key:e},e))));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:O.content},i,o.a.createElement("div",{className:O.separator}),n,o.a.createElement("div",{className:O.separator}),a,d,c),o.a.createElement("div",{className:O.controls},o.a.createElement("div",{className:O.button},o.a.createElement(k.a,{useFullWidth:!0,size:"l",intent:-1===e.side?"danger":"primary",onClick:e.model.onPlaceClick,reference:t,disabled:e.loading.value()},S.sendOrder)),o.a.createElement("div",{className:O.button},o.a.createElement(k.a,{useFullWidth:!0,size:"l",intent:"default",appearance:"stroke",onClick:e.model.onCancelClick},S.cancel))))}var D=s("K3s3");class T extends r.PureComponent{constructor(){super(...arguments),this._createClickHandler=e=>()=>{this.props.disabled||this.props.onSelect(e)}}render(){const e=this._generateTabs();return r.createElement("div",null,r.createElement(D.c,null,e),r.createElement("div",null,this.props.children[this.props.activeTab||0]))}_generateTabs(){const{activeTab:e,disabled:t}=this.props;return r.Children.map(this.props.children,((s,o)=>{const i=void 0!==s.props.id?s.props.id:o;return r.createElement(D.b,{isActive:e===i,isDisabled:t,shouldUseDefaultCursor:!!this.props.shouldUseDefaultCursor,noBorder:!!this.props.noBorder,onClick:this._createClickHandler(i)},s.props.title)}))}}function B(e){return r.createElement("div",null,e.children)}var I=s("TZdo");const x=window.t("Market"),F=window.t("Limit"),H=window.t("Stop"),V=window.t("Stop Limit");class R extends r.PureComponent{constructor(e){super(e),this._callback=()=>this.forceUpdate()}componentDidMount(){this.context.resizerWidth&&this.context.resizerWidth.subscribe(this._callback)}componentWillUnmount(){this.context.resizerWidth&&this.context.resizerWidth.unsubscribe(this._callback)}render(){const e=[];this.props.supportMarketOrders&&e.push(r.createElement(B,{key:2,title:x,id:2})),this.props.supportLimitOrders&&e.push(r.createElement(B,{key:1,title:F,id:1})),this.props.supportStopOrders&&e.push(r.createElement(B,{key:3,title:H,id:3})),this.props.supportStopLimitOrders&&e.push(r.createElement(B,{key:4,title:V,id:4}));const t=a(I.tabsContainer,this.context.mode===b.g.Panel&&e.length>3&&I.moreThen3Types);return r.createElement(r.Fragment,null,r.createElement("div",{className:t,tabIndex:-1},r.createElement(T,{activeTab:this.props.activeTab,shouldUseDefaultCursor:!0,onSelect:this.props.onSelect,disabled:this.props.disabled,noBorder:!0},e)),r.createElement("div",{className:I.separator}))}}R.contextType=b.f;var j=s("k/ZQ"),A=s("wwkJ"),W=s("xx2B"),L=s("mrSG"),z=(s("EsMY"),s("RgaO")),q=s("h6kW"),U=s("X6/E"),K=s("V1pJ"),J=s("2n7d");const G=parseInt(J["css-value-calculator-width"]);class Q extends r.PureComponent{constructor(e){super(e),this._control=null,this._input=null,this._calc=null,this._getCurrentValue=()=>this.props.value||0,this._getDropdownPosition=()=>{if(null===this._control)return{x:0,y:0};const e=this._control.getBoundingClientRect();return{x:e.left+e.width-G,y:e.bottom+2}},this._onFocus=e=>{const t=Object(l.ensureNotNull)(this._calc);!Modernizr.mobiletouch&&t.contains(e.target)&&Object(l.ensureNotNull)(this._input).focus()},this._setRef=e=>{this._control=e},this._setCalcRef=e=>{this._calc=e},this._setInputRef=e=>{this._input=e},this._onKeyDown=e=>{!this.state.isOpened||13!==e.keyCode&&27!==e.keyCode||(e.stopPropagation(),this.setState({isOpened:!1})),Object.values(b.d).includes(e.keyCode)||Object.values(b.e).includes(e.keyCode)||this.setState({isOpened:!1}),this.props.onKeyDown&&this.props.onKeyDown(e)},this._onClickOutside=e=>{this._calc&&!this._calc.contains(e.target)&&this.setState({isOpened:!1})},this._updateValue=e=>{this.props.onValueChange(e)},this._toggle=()=>{this.setState((e=>({isOpened:!e.isOpened})))},this._setInputFocus=e=>{null!==e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))},this.state={isOpened:!1}}componentDidMount(){5===this.props.focus&&this._setInputFocus(this._input)}render(){const e=this.props,{step:t,error:s,errorMessage:o,className:i,errorHandler:n,highlight:l,highlightRemoveRoundBorder:c,intent:d}=e,p=Object(L.a)(e,["step","error","errorMessage","className","errorHandler","highlight","highlightRemoveRoundBorder","intent"]),u=r.createElement(P.a,{icon:U,className:a(K.calculatorIcon,this.state.isOpened&&K.isOpened),onClick:this._toggle});return r.createElement(z.a,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onClickOutside},(e=>r.createElement("span",{ref:e},r.createElement(W.a,{value:this.props.value||0,alwaysUpdateValueFromProps:this.state.isOpened,formatter:this.props.formatter,className:i,containerReference:this._setRef,inputReference:this._setInputRef,button:u,onValueChange:this._updateValue,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onKeyDown:this._onKeyDown,error:s,errorMessage:o,errorHandler:n,step:t,controlDecKeyCodes:this.state.isOpened?[b.d.Minus,b.d.NumMinus,b.d.FirefoxMinus]:void 0,controlIncKeyCodes:this.state.isOpened?[b.e.Plus,b.e.NumPlus,b.e.FirefoxPlus]:void 0,highlight:l,highlightRemoveRoundBorder:c,intent:d}),this.state.isOpened&&r.createElement(q.a,Object.assign({},p,{step:t,valueGetter:this._getCurrentValue,position:this._getDropdownPosition(),targetEl:this._control,calcReference:this._setCalcRef,onClose:this._toggle,onFocus:this._onFocus,trackEventTarget:"Order Ticket"})))))}}class Y extends r.PureComponent{constructor(e){super(e),this._defaultMax=9e15,this._onFocus=()=>{this.props.onFocus&&this.props.onFocus(this.props.type)},this._onValueChange=e=>{this.props.control.value.setValue(e),this.props.control.onModifiedCallback()},this._callback=()=>this.forceUpdate()}componentDidMount(){this.props.control.value.subscribe(this._callback)}componentWillUnmount(){this.props.control.value.unsubscribe(this._callback)}render(){const{control:e,focus:t,min:s,max:o,step:i,type:n,error:l,errorMessage:c,errorHandler:d,label:p,formatter:u,className:h,status:m,trackEvent:v,highlight:g,highlightRemoveRoundBorder:_,intent:f}=this.props,C={value:e.value.value()||0,step:i,className:a(K.input,m===b.h.Wait&&K.wait),error:l,errorMessage:c,errorHandler:d,onFocus:this._onFocus,formatter:u,onValueChange:this._onValueChange,calculatorUsedStat:()=>e.calculatorUsedStat(),highlight:g,highlightRemoveRoundBorder:_,intent:f},w=0===n?r.createElement(Q,Object.assign({},C,{focus:t,min:s||i,max:o||this._defaultMax,trackEvent:v})):r.createElement(W.a,Object.assign({},C,{step:.01}));return r.createElement("div",{className:a(h,K.control)},w,p&&r.createElement("div",{className:K.label}," ",p," "))}}var Z=s("NbG7");const X=window.t("Risk"),$=window.t("Units"),ee=window.t("Lots");class te extends r.PureComponent{constructor(e){super(e),this._onFocus=e=>{this.props.model.focusedControl.setValue(e),this.props.model.onControlFocused.fire()},this._errorHandler=e=>{this.props.model.setControlError(e)},this._callback=()=>this.forceUpdate()}componentDidMount(){this._subscribeToModel(this.props.model)}componentWillUnmount(){this._unsubscribeFromModel(this.props.model)}render(){const e=this.context.value,{model:t,symbolHasLotSize:s,trackEvent:o,focus:i}=this.props,n=t.error.value(),l={errorHandler:this._errorHandler,error:n,status:t.status.value(),onFocus:this._onFocus,trackEvent:o},c=Boolean(n&&n.res),d=n&&n.msg,p=t.showRiskControls&&t.isRiskAvailable.value()&&(e.showPercentRiskInQty||e.showCurrencyRiskInQty);return r.createElement(r.Fragment,null,r.createElement(A.a.Provider,{value:this._getGroupContextValue(!0,!p)},r.createElement(Y,Object.assign({},l,this._generateHighlightProps(0),{control:t.quantity,min:t.qty.min,max:t.qty.max,step:t.qty.step,type:0,formatter:t.formatter,label:s?ee:$,className:a(!p&&K.single,K.units),focus:i,error:c&&this._isSelectedControl(0),errorMessage:d}))),p&&r.createElement("div",{className:K.risk},e.showCurrencyRiskInQty&&r.createElement(A.a.Provider,{value:this._getGroupContextValue(!1,!e.showPercentRiskInQty)},r.createElement(Y,Object.assign({},l,this._generateHighlightProps(1),{control:t.riskInCurrency,step:t.riskStep,type:1,formatter:t.riskInCurrencyFormatter,label:t.currency+" "+X,error:c&&this._isSelectedControl(1),errorMessage:d}))),e.showPercentRiskInQty&&r.createElement(A.a.Provider,{value:this._getGroupContextValue(!1,!0)},r.createElement(Y,Object.assign({},l,this._generateHighlightProps(2),{control:t.riskInPercent,step:t.riskStep,type:2,formatter:t.riskInPercentFormatter,label:"% "+X,error:c&&this._isSelectedControl(2),errorMessage:d})))))}_generateHighlightProps(e){const t=this.props.model.error.value(),s=this.props.model.isRiskAvailable.value()?this._isSelectedControl(e):void 0;return{highlight:(this.context.value.showCurrencyRiskInQty||this.context.value.showPercentRiskInQty)&&(0===e?s:this._isSelectedControl(e)),highlightRemoveRoundBorder:0,intent:Boolean(t&&t.res)&&this._isSelectedControl(e)?"danger":void 0}}_isSelectedControl(e){return this.props.model.status.value()!==b.h.Wait&&this.props.model.focusedControl.value()===e}_subscribeToModel(e){e.focusedControl.subscribe(this._callback),e.isRiskAvailable.subscribe(this._callback),e.error.subscribe(this._callback)}_unsubscribeFromModel(e){e.focusedControl.unsubscribe(this._callback),e.isRiskAvailable.unsubscribe(this._callback),e.error.unsubscribe(this._callback)}_getGroupContextValue(e,t){return{isGrouped:!0,disablePositionAdjustment:!0,cellState:{isTop:!0,isRight:t,isBottom:!0,isLeft:e}}}}te.contextType=Z.a;var se=s("nc0P"),re=s("QAe6"),oe=s("vqb8"),ie=s("9dlw"),ne=s("/3z9"),ae=s("N5tr"),le=s("ZLno"),ce=s("eGEP");const de=[1,5,10,25,50,75,100];function pe(e){const t=Object(r.useRef)(null),[s,i]=Object(re.a)(e.value),[n,c]=Object(re.a)(e.focusedControl),[d,p]=Object(r.useState)(!1),[u,h]=Object(r.useState)(0),m=Object(oe.a)({watchedValue:e.error}),v=Object(oe.a)({watchedValue:e.balance}),g=Object(oe.a)({watchedValue:e.side}),_=Boolean(m&&m.res),f=m&&m.msg,C=Object(r.useRef)(null);return Object(r.useEffect)((()=>{var t;5===e.initialFocus&&null!==(t=C.current)&&(t.focus(),t.setSelectionRange(t.value.length,t.value.length))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,Object.assign({},function(e){const t={highlightRemoveRoundBorder:0};return E(e)&&(t.highlight=!0),Boolean(m&&m.res)&&E(e)&&(t.intent="danger"),t}(e.control),{value:s,onBlur:e.forceRoundByStep?function(){if(null!==s){const t=new se.Big(s),r=t.mod(e.step);r.eq(0)||w(Number(t.minus(r)))}}:void 0,onValueChange:w,step:e.step,formatter:e.formatter,errorMessage:f,errorHandler:e.setControlError,error:_&&E(e.control),inputReference:function(e){C.current=e},innerLabel:d?void 0:o.a.createElement("span",{className:ce.label},e.label),onFocus:()=>{return t=e.control,c(t),void e.onControlFocused.fire();var t},className:a(ce.input,e.status.value()===b.h.Wait&&ce.wait),button:k()?o.a.createElement(le.b,{isDropped:d,onClick:function(){p(!d)}}):o.a.createElement(o.a.Fragment,null),containerReference:function(e){t.current=e},alwaysUpdateValueFromProps:e.forceRoundByStep})),k()&&null!==v&&o.a.createElement(ie.a,{position:function(){const e=Object(l.ensureNotNull)(t.current).getBoundingClientRect();return h(e.width),{x:e.left,y:e.top+e.height+1}},onClose:y,isOpened:d,doNotCloseOn:t.current,onKeyDown:function(e){if(27===Object(ne.hashFromEvent)(e))d&&(e.preventDefault(),y())},minWidth:u},de.map((t=>{const s=function(e){const t=new se.Big(Object(l.ensureNotNull)(v).available);return Number(t.mul(.01).mul(e))}(t),r=o.a.createElement(o.a.Fragment,null,t+"%  ",o.a.createElement("span",{className:ce.value},"("+e.formatter.format(s)+" "+e.label+")"));return o.a.createElement(ae.b,{key:t.toString(),className:ce.popupMenuItem,label:r,onClick:()=>i(s)})}))));function w(t){i(t),e.onModifiedCallback()}function k(){return null!==v&&v.available>0&&(-1===g?3===e.control:4===e.control)}function E(t){return e.status.value()!==b.h.Wait&&n===t}function y(){p(!1),Object(l.ensureNotNull)(t.current).focus()}}var ue=s("4WSP");function he(e){const{model:t,className:s}=e,r={side:t.side,status:t.status,formatter:t.formatter,error:t.error,focusedControl:t.focusedControl,onControlFocused:t.onControlFocused,setControlError:t.setControlError,step:t.info.qty.step};return o.a.createElement(ue.a,{cols:1,rows:2,className:a(s,ce.wrapper)},o.a.createElement(pe,Object.assign({},r,{value:t.quantity.value,onModifiedCallback:t.quantity.onModifiedCallback,label:t.info.baseCurrency,control:3,balance:t.baseCurrencyCryptoBalance,initialFocus:e.focus,forceRoundByStep:!0})),o.a.createElement(pe,Object.assign({},r,{value:t.quoteCurrencyQuantity.value,onModifiedCallback:t.quoteCurrencyQuantity.onModifiedCallback,label:t.info.quoteCurrency,control:4,balance:t.quoteCurrencyCryptoBalance})))}var me=s("WUqb"),be=s("CSQ5"),ve=s("3nsW");function ge(e){const t=a(ve.priceLabel,ve[e.modifier.toLowerCase()]);return r.createElement("span",{className:a(t)},e.modifier)}var _e=s("Gg3R");function fe(e){const t=e.price===e.ask,s=e.price===e.bid,o=e.price===e.last,i=(t||s)&&e.ask===e.bid;let n,a;return e.displayPriceLabel&&(i&&1===e.side?n=r.createElement(ge,{modifier:"Ask"}):i&&-1===e.side?n=r.createElement(ge,{modifier:"Bid"}):t?n=r.createElement(ge,{modifier:"Ask"}):s&&(n=r.createElement(ge,{modifier:"Bid"})),a=r.createElement("div",{className:_e.labelsGroup},n,o&&r.createElement(ge,{modifier:"Last"}))),r.createElement("div",{className:_e.absolutePriceDropdownItem},r.createElement("div",{className:_e.price},e.price),a)}var Ce=s("zcN6"),we=s("R4+T"),ke=s("VVyh"),Ee=s("tTUf");const ye=Object(me.b)(Ce.a),Pe=window.t("Absolute",{context:"price"}),Oe=window.t("Price format is invalid.");class Me extends r.PureComponent{constructor(e){super(e),this._priceControl=null,this._priceInput=null,this._dropdown=null,this._setDropdownRef=e=>{this._dropdown=e},this._setInitialFocus=()=>{!Modernizr.mobiletouch&&this._priceInput&&(this.props.priceType===b.k.Limit&&1===this.props.focus||this.props.priceType===b.k.Stop&&2===this.props.focus)&&(this._priceInput.setSelectionRange(this.state.displayPrice.length,this.state.displayPrice.length),this._priceInput.focus())},this._onFocus=e=>{if(this.props.onControlFocused&&this.props.onControlFocused(0),this.props.errorHandler){const e=this.state.priceFormatter.parse(this.state.displayPrice);this.props.errorHandler(!e.res)}this.props.onFocus&&this.props.onFocus(e)},this._onOutsideClick=e=>{if(null!==this._priceControl&&!this._priceControl.contains(e.target)){const e=this.state.priceFormatter.parse(this.state.displayPrice);let t=this.props.displayPrice;t=e.res?this.state.priceFormatter.format(e.value>=0?e.value:Math.abs(e.value)):this.state.prices[Object(ke.c)()],this.setState({displayPrice:t},(()=>{this._onPriceSelected(t)})),this.props.errorHandler&&this.props.errorHandler(!1)}this.state.isOpened&&this._dropdown&&!this._dropdown.contains(e.target)&&this._closeDropdown()},this._onInputChange=e=>{const t=e.currentTarget.value,s=this.state.priceFormatter.parse(t);this._onModifiedCallback(),this.props.errorHandler&&this.props.errorHandler(!Boolean(s.res)),this._onPriceSelected(t)},this._onTouchStart=e=>{e.stopPropagation(),this._swipeState.y=e.touches[0].clientY},this._onTouchMove=e=>{if(e.preventDefault(),e.stopPropagation(),e.changedTouches&&e.changedTouches.length&&null!==this._swipeState.y){const t=e.changedTouches[0].clientY-this._swipeState.y;if(Math.abs(t)<10)return;this._swipeState.direction=t>0?"up":"down","up"===this._swipeState.direction?this._prependPriceOnTouchMove():"down"===this._swipeState.direction&&this._appendPriceOnTouchMove()}},this._onTouchEnd=e=>{e.stopPropagation(),this._resetSwipeState()},this._onDropdownWheelNoPassiv=e=>{e.preventDefault(),e.stopPropagation(),e.deltaY<0?this._prependPriceOnWheel():this._appendPriceOnWheel()},this._onInputMouseWheel=e=>{e.preventDefault(),e.stopPropagation(),this._onModifiedCallback(),this._scrollPriceOnWheel(e.deltaY<0?1:-1)},this._onSelect=(e,t)=>{const s=this.state.priceFormatter.parse(t.text);this.props.errorHandler&&this.props.errorHandler(!s.res),this.setState({highlight:!0,displayPrice:t.text,selected:e,isPriceSelectedByWheelOrByDropdown:!0},(()=>{this._onModifiedCallback(),this._closeDropdown(),this._onPriceSelected(t.text),!Modernizr.mobiletouch&&this._priceInput&&this._priceInput.focus()}))},this._onNavigate=(e,t)=>{const s=this.state.command&&"prev"===this.state.command.name,r=this.state.command&&"next"===this.state.command.name;s?this._prependPriceOnNavigate():r&&this._appendPriceOnNavigate()},this._onMouseOver=e=>{this.setState({mouseOver:!0})},this._onMouseOut=e=>{this.setState({mouseOver:!1})},this._onOpenBtnClick=e=>{e.stopPropagation(),this.state.isOpened?this._closeDropdown():(this._openDropdown(),!Modernizr.mobiletouch&&this._priceInput&&(this._priceInput.setSelectionRange(this.state.displayPrice.length,this.state.displayPrice.length),this._priceInput.focus()),this.props.onControlFocused&&this.props.onControlFocused(0))},this._setPriceInput=e=>{this._priceInput=e},this._setPriceControl=e=>{this._priceControl=e},this._scrollPriceOnArrowUp=e=>{e.preventDefault(),this._onModifiedCallback(),this._prependPriceOnNavigate()},this._scrollPriceOnArrowDown=e=>{e.preventDefault(),this._onModifiedCallback(),this._appendPriceOnNavigate()},this._selectPrev=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"prev"}})},this._selectNext=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"next"}})},this._openDropdown=()=>{this.setState({highlight:!0,isOpened:!0,keyboardEventHandlers:this._getKeyboardEventHandlers("open")})},this._closeDropdownWithStopPropagation=e=>{e&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),this._closeDropdown()},this._closeDropdown=()=>{const e={isOpened:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")};if(this.props.error||-1!==this.state.prices.indexOf(this.state.displayPrice)&&this.state.selected===Math.floor(this.state.prices.length/2))this.setState(e);else{const t=this.state.priceFormatter.parse(this.state.displayPrice),s=t.res?Object(ke.a)(t.value,this.props.step,this.state.priceFormatter,Object(ke.c)()):this.state.prices;this.setState((t=>Object.assign(Object.assign({},e),{prices:s,selected:s.indexOf(this.state.displayPrice)})))}};const t=Object(ke.a)(Object(ke.d)(e.displayPrice,e.priceFormatter),e.step,e.priceFormatter,Object(ke.c)());this.state={displayPrice:e.displayPrice,prices:t,selected:t.indexOf(e.displayPrice),highlight:this.props.highlight,isOpened:!1,mouseOver:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close"),priceFormatter:e.priceFormatter,step:e.step,isPriceSelectedByWheelOrByDropdown:!1},this._resetSwipeState()}componentDidMount(){this._setInitialFocus()}render(){const e=a(Ee.absolutePriceControl,this.props.className),t=r.createElement("span",{className:Ee.priceLabel},Pe),s=a(Ee.openIcon,this.state.isOpened&&Ee.opened,this.props.status===b.h.Wait&&Ee.wait),o=r.createElement("div",{className:Ee.openButton,onClick:this._onOpenBtnClick},r.createElement("div",{className:Ee.iconWrapper},r.createElement(P.a,{className:s,icon:we})));return r.createElement(z.a,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onOutsideClick},(s=>r.createElement("span",{className:e,ref:s},r.createElement(ye,{className:this.props.inputClassName,containerReference:this._setPriceControl,inputReference:this._setPriceInput,keyboardEventHandlers:this.state.keyboardEventHandlers,value:this.state.displayPrice,warning:this.props.warning,error:this.props.error,errorMessage:this.props.errorMessage||Oe,onChange:this._onInputChange,onFocus:this._onFocus,onBlur:this.props.onBlur,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,onWheelNoPassive:this._onInputMouseWheel,highlight:this.state.highlight,highlightRemoveRoundBorder:this.props.highlightRemoveRoundBorder},o),t,r.createElement(be.a,{anchor:"bottom",root:"document",reference:this._setDropdownRef,className:Ee.list,command:this.state.command,isOpened:this.state.isOpened,items:this._makeListItems(),itemsClassName:Ee.item,width:this._getDropdownWidth(),selected:this.state.selected,selectedClassName:Ee.selected,target:null!==this._priceControl?this._priceControl:void 0,attachmentOffsetY:3,inheritWidthFromTarget:!1,shouldScrollIfNotVisible:!1,onSelect:this._onSelect,onNavigate:this._onNavigate,onDropdownTouchStart:this._onTouchStart,onDropdownTouchMove:this._onTouchMove,onDropdownTouchEnd:this._onTouchEnd,onDropdownWheelNoPassive:this._onDropdownWheelNoPassiv}))))}static getDerivedStateFromProps(e,t){if(e.displayPrice!==t.displayPrice||e.highlight!==t.highlight||e.priceFormatter!==t.priceFormatter||e.step!==t.step){const s=e.priceFormatter.parse(e.displayPrice),r=s.res?Object(ke.a)(s.value,e.step,e.priceFormatter,Object(ke.c)()):t.prices,o=e.priceFormatter.format(Object(ke.d)(e.displayPrice,e.priceFormatter)),i=Object.assign(Object.assign({},t),{displayPrice:e.displayPrice,priceFormatter:e.priceFormatter,step:e.step,isPriceSelectedByWheelOrByDropdown:!1,highlight:e.highlight});return e.error||(i.selected=r.indexOf(o),i.prices=r),i}return null}_onPriceSelected(e){"function"==typeof this.props.onPriceSelected&&this.props.onPriceSelected(e)}_resetSwipeState(){this._swipeState={direction:null,y:null}}_getKeyboardEventHandlers(e){return"close"===e?{[me.a.UpArrow]:this._scrollPriceOnArrowUp,[me.a.DownArrow]:this._scrollPriceOnArrowDown}:{[me.a.Enter]:this._closeDropdownWithStopPropagation,[me.a.Escape]:this._closeDropdownWithStopPropagation,[me.a.UpArrow]:this._selectPrev,[me.a.DownArrow]:this._selectNext}}_makeListItems(e=!0){return this.state.prices.map((t=>({text:t,elem:r.createElement(fe,{price:t,ask:this.props.priceFormatter.format(this.props.ask),bid:this.props.priceFormatter.format(this.props.bid),last:this.props.priceFormatter.format(this.props.last),side:this.props.side,displayPriceLabel:e})})))}_prependPriceOnWheel(){const e=this.state.priceFormatter.format(Object(ke.d)(this.state.prices[0],this.state.priceFormatter)+1*this.props.step);this.setState((t=>({prices:[e].concat(t.prices.slice(0,-1)),selected:0===t.selected?1:t.selected+1})))}_appendPriceOnWheel(){const e=this.state.prices.length-1,t=this.state.priceFormatter.format(Object(ke.d)(this.state.prices[e],this.state.priceFormatter)+-1*this.props.step);this.setState((s=>({prices:s.prices.slice(1).concat(t),selected:s.selected===e?e-1:s.selected-1})))}_scrollPriceOnWheel(e){const t=this.state.priceFormatter.format(Object(ke.d)(this.state.prices[this.state.selected],this.state.priceFormatter)+e*this.props.step);this.setState({displayPrice:t},(()=>{1===e?this._prependPriceOnNavigate():this._appendPriceOnNavigate()}))}_prependPriceOnNavigate(){const e=[this.state.priceFormatter.format(Object(ke.d)(this.state.prices[0],this.state.priceFormatter)+1*this.props.step)].concat(this.state.prices.slice(0,-1)),t=this.state.prices.length-1;let s;s=this.state.selected<=0?0:this.state.selected>t?t:this.state.selected,this.setState({prices:e,displayPrice:e[s],selected:s,isPriceSelectedByWheelOrByDropdown:!0},(()=>{this._onPriceSelected(e[s])}))}_appendPriceOnNavigate(){const e=this.state.priceFormatter.format(Object(ke.d)(this.state.prices[this.state.prices.length-1],this.state.priceFormatter)+-1*this.props.step),t=this.state.prices.slice(1).concat(e),s=this.state.prices.length-1;let r;r=this.state.selected<=0?0:this.state.selected>s?s:this.state.selected,this.setState({prices:t,displayPrice:t[r],selected:r,isPriceSelectedByWheelOrByDropdown:!0},(()=>{this._onPriceSelected(t[r])}))}_prependPriceOnTouchMove(){const e=Object(ke.d)(this.state.prices[0],this.state.priceFormatter),t=Object(ke.b)(1,e,this.props.step,1,this.state.priceFormatter);this.setState((e=>({prices:t.concat(e.prices.slice(0,this.state.prices.length-1)),selected:0===e.selected?1:e.selected+1})))}_appendPriceOnTouchMove(){const e=this.state.prices.length-1,t=Object(ke.d)(this.state.prices[e],this.state.priceFormatter),s=Object(ke.b)(1,t,this.props.step,-1,this.state.priceFormatter);this.setState((t=>({prices:t.prices.slice(1).concat(s),selected:t.selected===e?e-1:t.selected-1})))}_getDropdownWidth(){if(this.state.isOpened&&null!==this._priceControl&&(this.context.mode===b.g.Popup||this.state.prices[0].length<=7))return parseFloat(window.getComputedStyle(this._priceControl,null).getPropertyValue("width"))+2}_onModifiedCallback(){this.props.onModifiedCallback&&this.props.onModifiedCallback()}}Me.contextType=b.f,Me.defaultProps={className:"",inputClassName:""};var Se=s("RRM5");function Ne(e){return r.createElement("div",{className:Se.relativePriceDropdownItem},r.createElement("div",{className:Se.price},e.price))}var De=s("0rc0"),Te=s("Nkvk");function Be(e,t){return e.findIndex((e=>e.displayValue===t))}const Ie=/^[-+]?[0-9]*\.?[0-9]+$/;function xe(e){return Ie.test(e)}function Fe(e){return"ask"===e?"Ask":"bid"===e?"Bid":"Stop"}function He(e){return void 0!==e&&e>0?" + "+Math.abs(e):void 0!==e&&e<0?" - "+Math.abs(e):""}function Ve(e,t){return Fe(e)+He(Math.round(t||0))}function Re(e){return void 0!==e?String(e):"0"}function je(e,t){const s=e.offset;return r=e.base,o=function(e,t){return(Math.abs(e)>=1?e:0)+(1===t?1:-1)}(s,t),{displayValue:Fe(r)+He(o),base:r,offset:o};var r,o}function Ae(e,t){const s=[],r=[],o={displayValue:Fe(e.base)+He(e.offset),base:e.base,offset:e.offset};for(let e=0;e<t;e++)s.unshift(je(0===e?o:s[0],1)),r.push(je(0===e?o:r[e-1],-1));return[...s,o,...r]}function We(){return"phone"!==Te.mediaState.device&&"phone-vertical"!==Te.mediaState.device?6:4}var Le=s("vwxn");const ze=Object(me.b)(Ce.a),qe=window.t("Ticks",{context:"price"}),Ue=window.t("Price format is invalid.");class Ke extends r.PureComponent{constructor(e){super(e),this._priceInput=null,this._priceControl=null,this._dropdown=null,this._setDropdownRef=e=>{this._dropdown=e},this._onMouseOver=e=>{this.setState({mouseOver:!0})},this._onMouseOut=e=>{this.setState({mouseOver:!1})},this._onOutsideClick=e=>{this.state.isOpened&&this._dropdown&&!this._dropdown.contains(e.target)&&this._closeDropdown()},this._onFocus=e=>{this.setState({isEditing:!0,displayValue:Re(this.state.value.offset)},(()=>{var e,t;null!==this._priceInput&&(e=this._priceInput,t=this.state.displayValue.length,e.setSelectionRange&&(e.focus(),e.setSelectionRange(0,t),e.select()))})),this.props.onControlFocused&&this.props.onControlFocused(1),this.props.onFocus&&this.props.onFocus(e)},this._onBlur=e=>{this.props.onBlur&&this.props.onBlur(e);const t=this.state.prices[0].base,s=Be(this.state.prices,Ve(t,this.state.value.offset)),r=0<=s&&s<=this.state.prices.length-1?s:Math.floor(this.state.prices.length/2);this.setState({isEditing:!1,displayValue:this.state.prices[r].displayValue,selected:r},(()=>{this._trackExitEditingModeEvent(this.state.prices[r].offset)}))},this._onInputChange=e=>{this._onModifiedCallback();const t=e.currentTarget.value;if(xe(t)){const e={base:this.state.value.base,offset:Number(t)},s=Ae(e,We()),r=Be(s,Ve(e.base,e.offset));this.setState({displayValue:t,prices:s,selected:r,isOpened:!1},(()=>{this._onPriceSelected(e)}))}else this.setState({displayValue:t,isOpened:!1})},this._onTouchStart=e=>{e.stopPropagation(),this._swipeState.y=e.touches[0].clientY},this._onTouchMove=e=>{if(e.preventDefault(),e.stopPropagation(),e.changedTouches&&e.changedTouches.length&&null!==this._swipeState.y){const t=e.changedTouches[0].clientY-this._swipeState.y;if(Math.abs(t)<10)return;this._swipeState.direction=t>0?"up":"down","up"===this._swipeState.direction?this._prependPriceOnTouchMove():"down"===this._swipeState.direction&&this._appendPriceOnTouchMove()}},this._onTouchEnd=e=>{e.stopPropagation(),this._resetSwipeState()},this._onDropdownWheelNoPassive=e=>{e.preventDefault(),e.stopPropagation(),e.deltaY<0?this._prependPriceOnWheel():this._appendPriceOnWheel()},this._onInputMouseWheel=e=>{e.preventDefault(),e.stopPropagation(),this._onModifiedCallback(),this._scrollPriceOnWheel(e.deltaY<0?1:-1)},this._onSelect=(e,t)=>{this.setState((s=>({highlight:!0,displayValue:this.state.isEditing?Re(t.offset):t.text,selected:e})),(()=>{this._onModifiedCallback(),this._closeDropdown(),this._onPriceSelected(),this.setState({isEditing:!1},(()=>{this._blurInput()}))}))},this._onNavigate=(e,t)=>{const s=this.state.command&&"prev"===this.state.command.name,r=this.state.command&&"next"===this.state.command.name;s?this._prependPriceOnNavigate():r&&this._appendPriceOnNavigate()},this._onOpenBtnClick=e=>{e.preventDefault(),e.stopPropagation(),this.state.isOpened?this._closeDropdown():(this._openDropdown(),!Modernizr.mobiletouch&&this._priceInput&&this._priceInput.focus(),this.props.onControlFocused&&this.props.onControlFocused(1),this.setState({isEditing:!1,displayValue:this.state.displayValue},(()=>{!Modernizr.mobiletouch&&this._priceInput&&this._priceInput.setSelectionRange(this.state.displayValue.length,this.state.displayValue.length)})))},this._switchEditingMode=e=>{e.preventDefault();const t=Number(this.state.displayValue);if(Number.isInteger(t))this.setState({isEditing:!1},(()=>{this._blurInput()}));else{const e=Math.round(t),s={base:this.state.value.base,offset:e},r=Ae(s,We()),o=Be(r,Ve(s.base,s.offset));this.setState({displayValue:String(e),prices:r,selected:o,isEditing:!1},(()=>{this._onPriceSelected(),this._blurInput()}))}},this._setPriceInput=e=>{this._priceInput=e},this._setPriceControl=e=>{this._priceControl=e},this._scrollPriceOnArrowUp=e=>{e.preventDefault(),this._onModifiedCallback(),this._prependPriceOnNavigate()},this._scrollPriceOnArrowDown=e=>{e.preventDefault(),this._onModifiedCallback(),this._appendPriceOnNavigate()},this._selectPrev=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"prev"}})},this._selectNext=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"next"}})},this._openDropdown=()=>{this.setState({highlight:!0,isOpened:!0,keyboardEventHandlers:this._getKeyboardEventHandlers("open")})},this._closeDropdownOnKeyDown=e=>{e.preventDefault(),this._closeDropdown(),this.setState({isEditing:!1,displayValue:this.state.displayValue},(()=>{this._blurInput()}))},this._closeDropdown=()=>{const e={isOpened:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")};if(-1===Be(this.state.prices,this.state.displayValue)||this.state.selected!==Math.floor(this.state.prices.length/2)){const t=Ae({base:this.state.value.base,offset:this.state.value.offset||0},We()),s=Be(t,this.state.displayValue);this.setState(Object.assign(Object.assign({},e),{prices:t,selected:s}))}else this.setState(e)},this._trackExitEditingModeEvent=e=>{this.props.trackEvent&&this.props.trackEvent("Order Ticket","Relative Price - Exit Editing Mode",String(e))};const t=Ve(e.initialValue.base,e.initialValue.offset),s=Ae(this.props.initialValue,We()),r=Be(s,t);this.state={value:e.initialValue,displayValue:t,prices:s,selected:r,highlight:this.props.highlight,isOpened:!1,isEditing:!1,mouseOver:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")},this._resetSwipeState()}render(){const e=a(Le.relativePriceControl,this.props.className),t=r.createElement("span",{className:Le.pipsLabel},qe),s=a(Le.openIcon,this.state.isOpened&&Le.opened,this.props.status===b.h.Wait&&Le.wait),o=r.createElement("div",{className:Le.openButton,onClick:this._onOpenBtnClick},r.createElement("div",{className:Le.iconWrapper},r.createElement(P.a,{className:s,icon:we}))),i=this.state.isEditing&&!xe(this.state.displayValue),n=i||this.props.error,l=i?Ue:this.props.errorMessage;return r.createElement(z.a,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onOutsideClick},(s=>r.createElement("span",{className:e,ref:s},r.createElement(ze,{className:this.props.inputClassName,containerReference:this._setPriceControl,inputReference:this._setPriceInput,keyboardEventHandlers:this.state.keyboardEventHandlers,value:this.state.displayValue,readonly:!this.state.isEditing,warning:this.props.warning,error:n,errorMessage:l,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onInputChange,onWheelNoPassive:this._onInputMouseWheel,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,noReadonlyStyles:!0,highlight:this.state.highlight,highlightRemoveRoundBorder:this.props.highlightRemoveRoundBorder},o),t,r.createElement(be.a,{anchor:"bottom",root:"document",reference:this._setDropdownRef,className:Le.list,command:this.state.command,isOpened:this.state.isOpened,items:this._makeListItems(),itemsClassName:Le.item,selected:this.state.selected,selectedClassName:Le.selected,target:null!==this._priceControl?this._priceControl:void 0,attachmentOffsetY:3,inheritWidthFromTarget:!0,shouldScrollIfNotVisible:!1,onSelect:this._onSelect,onNavigate:this._onNavigate,onDropdownTouchStart:this._onTouchStart,onDropdownTouchMove:this._onTouchMove,onDropdownTouchEnd:this._onTouchEnd,onDropdownWheelNoPassive:this._onDropdownWheelNoPassive}))))}static getDerivedStateFromProps(e,t){const s=Ve(e.initialValue.base,e.initialValue.offset);if(!1===Object(De.g)(t.value,e.initialValue)||t.highlight!==e.highlight){const r=Ae(e.initialValue,We()),o=Be(r,s);return Object.assign(Object.assign({},t),{highlight:e.highlight,value:e.initialValue,displayValue:t.isEditing?Re(e.initialValue.offset):s,prices:r,selected:o})}return null}_blurInput(){!Modernizr.mobiletouch&&this._priceInput&&this._priceInput.blur()}_onPriceSelected(e){if("function"==typeof this.props.onPriceSelected){const t=void 0!==e?e:this.state.prices[this.state.selected],s={base:t.base,offset:t.offset};this.props.onPriceSelected(s)}}_onModifiedCallback(){this.props.onModifiedCallback&&this.props.onModifiedCallback()}_resetSwipeState(){this._swipeState={direction:null,y:null}}_getKeyboardEventHandlers(e){return"close"===e?{[me.a.UpArrow]:this._scrollPriceOnArrowUp,[me.a.DownArrow]:this._scrollPriceOnArrowDown,[me.a.Enter]:this._switchEditingMode}:{[me.a.Enter]:this._closeDropdownOnKeyDown,[me.a.Escape]:this._closeDropdownOnKeyDown,[me.a.UpArrow]:this._selectPrev,[me.a.DownArrow]:this._selectNext}}_makeListItems(){return this.state.prices.map(((e,t)=>({base:e.base,offset:e.offset,text:e.displayValue,elem:r.createElement(Ne,{price:e.displayValue})})))}_prependPriceOnWheel(){const e=je(this.state.prices[0],1);this.setState((t=>({prices:[e].concat(t.prices.slice(0,-1)),selected:0===t.selected?1:t.selected+1})))}_appendPriceOnWheel(){const e=this.state.prices.length-1,t=je(this.state.prices[e],-1);this.setState((s=>({prices:s.prices.slice(1).concat(t),selected:s.selected===e?e-1:s.selected-1})))}_scrollPriceOnWheel(e){const t=je(this.state.prices[this.state.selected],e);this.setState({displayValue:this.state.isEditing?Re(t.offset):t.displayValue},(()=>{1===e?this._prependPriceOnNavigate():this._appendPriceOnNavigate()}))}_prependPriceOnNavigate(){const e=je(this.state.prices[0],1);this.setState((t=>{const s=[e].concat(t.prices.slice(0,-1)),r=this.state.prices.length-1;let o;return o=this.state.selected<=0?0:this.state.selected>r?r:t.selected,{prices:s,selected:o}}),(()=>{this._onPriceSelected()}))}_appendPriceOnNavigate(){const e=je(this.state.prices[this.state.prices.length-1],-1);this.setState((t=>{const s=t.prices.slice(1).concat(e),r=this.state.prices.length-1;let o;return o=this.state.selected<=0?0:this.state.selected>r?r:t.selected,{prices:s,selected:o}}),(()=>{this._onPriceSelected()}))}_prependPriceOnTouchMove(){const e=this.state.prices[0],t=[];t.unshift(je(e,1)),this.setState((e=>({prices:t.concat(e.prices.slice(0,this.state.prices.length-1)),selected:0===e.selected?1:e.selected+1})))}_appendPriceOnTouchMove(){const e=this.state.prices.length-1,t=this.state.prices[e],s=[];s.push(je(t,-1)),this.setState((t=>({prices:t.prices.slice(1).concat(s),selected:t.selected===e?e-1:t.selected-1})))}}function Je(e){const t=e.relativePrice.value();return null!==t?t:{base:1===e.side.value()?"ask":"bid",offset:0}}function Ge(e,t){return e.status!==b.h.Wait&&e.focusedControl===t}Ke.defaultProps={className:"",inputClassName:""};var Qe=s("EVs3");function Ye(e){const t=r.useContext(Z.a),s=t.value.showRelativePriceControl&&!e.isRelativePriceControlHidden?2:1,o=e.status!==b.h.Wait&&e.error.res&&"warning"===e.error.severity;return r.createElement("div",{className:Qe.controlGroup},r.createElement("div",{className:Qe.title},e.groupTitle),r.createElement(ue.a,{className:Qe.controlContainer,cols:s,rows:1,disablePositionAdjustment:!0},r.createElement(Me,Object.assign({},i(0),{className:Qe.control,priceType:e.priceType,inputClassName:a(Qe.input,e.status===b.h.Wait&&Qe.wait),status:e.status,displayPrice:e.absolutePrice,step:e.step,ask:e.ask,bid:e.bid,last:e.last,side:e.side,priceFormatter:e.priceFormatter,warning:o,error:e.error.res&&"error"===e.error.severity&&Ge(e,0),errorMessage:e.errorMessage,errorHandler:e.errorHandler,onControlFocused:e.onControlFocused,onPriceSelected:e.onAbsolutePriceSelected,displayPriceLabel:!e.isRelativePriceControlHidden,trackEvent:e.trackEvent,onModifiedCallback:e.modifiedAbsolutePriceControlStat,focus:e.focus})),t.value.showRelativePriceControl&&!e.isRelativePriceControlHidden&&r.createElement(Ke,Object.assign({},i(1),{className:a(Qe.control,Qe.relativePriceControl),inputClassName:a(Qe.input,e.status===b.h.Wait&&Qe.wait),status:e.status,initialValue:e.relativePrice,error:e.error.res&&"error"===e.error.severity&&Ge(e,1),errorMessage:e.errorMessage,onControlFocused:e.onControlFocused,onPriceSelected:e.onRelativePriceSelected,trackEvent:e.trackEvent,onModifiedCallback:e.modifiedRelativePriceControlStat}))));function i(s){const r={highlightRemoveRoundBorder:0};return Ge(e,s)&&t.value.showRelativePriceControl&&(r.highlight=!0),r}}class Ze extends r.PureComponent{constructor(e){super(e),this._errorHandler=e=>{this.props.model.setControlError(e)},this._updatePrice=e=>{null!==e&&this._callback()},this._updateRelativePrice=e=>{null!==e&&this._callback()},this._onAbsolutePriceSelected=e=>{this.props.model.onAbsolutePriceSelected(e)},this._onRelativePriceSelected=e=>{this.props.model.onRelativePriceSelected(e)},this._onControlFocused=e=>{this.props.model.focusedControl.setValue(e),this.props.model.onControlFocused.fire()},this._callback=()=>this.forceUpdate()}componentDidMount(){this._subscribeToModel(this.props.model)}componentWillUnmount(){this._unsubscribeFromModel(this.props.model)}render(){const e=this.props.model,t=e.quotes.value();return r.createElement(Ye,{status:e.status.value(),priceType:this.props.priceType,groupTitle:this.props.groupTitle,focusedControl:e.focusedControl.value(),absolutePrice:e.displayPrice.value(),relativePrice:Je(e),errorHandler:this._errorHandler,step:e.step.value(),ask:t.ask,bid:t.bid,last:t.last,side:e.side.value(),priceFormatter:e.formatter,error:e.error.value(),errorMessage:e.error.value().msg,onAbsolutePriceSelected:this._onAbsolutePriceSelected,onRelativePriceSelected:this._onRelativePriceSelected,modifiedAbsolutePriceControlStat:e.modifiedAbsolutePriceControlStat,modifiedRelativePriceControlStat:e.modifiedRelativePriceControlStat,onControlFocused:this._onControlFocused,isRelativePriceControlHidden:e.isRelativePriceControlHidden,trackEvent:this.props.trackEvent,focus:this.props.focus})}_subscribeToModel(e){e.focusedControl.subscribe(this._callback),e.displayPrice.subscribe(this._updatePrice),e.error.subscribe(this._callback),e.relativePrice.subscribe(this._updateRelativePrice),e.quotes.subscribe(this._callback),e.side.subscribe(this._callback),e.orderType.subscribe(this._callback),e.step.subscribe(this._callback)}_unsubscribeFromModel(e){e.focusedControl.unsubscribe(this._callback),e.displayPrice.unsubscribe(this._updatePrice),e.error.unsubscribe(this._callback),e.relativePrice.unsubscribe(this._updateRelativePrice),e.quotes.unsubscribe(this._callback),e.side.unsubscribe(this._callback),e.orderType.unsubscribe(this._callback),e.step.unsubscribe(this._callback)}}const Xe=window.t("Order Price"),$e=window.t("Stop Price"),et=window.t("Limit Price");class tt extends r.PureComponent{constructor(e){super(e),this._callback=()=>this.forceUpdate()}componentDidMount(){this.props.model.orderType.subscribe(this._callback)}componentWillUnmount(){this.props.model.orderType.unsubscribe(this._callback)}render(){const e=this.props.model.orderType.value();if(2===e)return null;{const t=3===e?this.props.model.stopPriceModel:this.props.model.limitPriceModel;return r.createElement(r.Fragment,null,r.createElement("div",null,4===e&&r.createElement(Ze,{key:"stopPrice",model:this.props.model.stopPriceModel,priceType:b.k.Stop,groupTitle:$e,trackEvent:this.props.trackEvent,focus:this.props.focus}),r.createElement(Ze,{key:t.id,model:t,priceType:3===e?b.k.Stop:b.k.Limit,groupTitle:4===e?et:Xe,trackEvent:this.props.trackEvent,focus:this.props.focus})))}}}var st=s("twDL"),rt=s("a2Ze"),ot=s("MiOS");class it extends r.PureComponent{constructor(e){super(e),this.onDurationChanged=e=>{this.props.model.currentDuration.setValue(e),this.props.model.onModifiedCallback()},this._onClick=()=>{this.props.model.onControlFocused.fire()},this._callback=()=>this.forceUpdate()}componentDidMount(){this.props.model.currentDuration.subscribe(this._callback),this.props.model.orderType.subscribe(this._callback)}componentWillUnmount(){this.props.model.currentDuration.unsubscribe(this._callback),this.props.model.orderType.unsubscribe(this._callback)}render(){return r.createElement(rt.a,{currentDuration:this.props.model.currentDuration.value(),durationsMetaInfo:this._getDurationsMetaInfo(),onDurationChanged:this.onDurationChanged,onClose:this.props.onClose,onClick:this._onClick})}_getDurationsMetaInfo(){const e=this.props.model.orderType.value(),t=this.props.model.durationsMetaInfo;return Object(ot.a)(e,t)}}var nt=s("O8MG");const at=window.t("Margin Used"),lt=window.t("Margin Available");class ct extends r.PureComponent{constructor(e){super(e),this._callback=()=>this.forceUpdate()}componentDidMount(){this.context.resizerWidth&&this.context.resizerWidth.subscribe(this._callback)}componentWillUnmount(){this.context.resizerWidth&&this.context.resizerWidth.unsubscribe(this._callback)}render(){const e={width:this.props.progress+"%"},t=a(nt.progress,100===this.props.progress&&nt.fullFilled,this.props.usedMargin>this.props.availableMargin&&nt.marginOverflow);return r.createElement("div",{className:a(nt.progressBarContainer,this.props.wait&&nt.wait)},r.createElement("div",{className:nt.marginsContainer},r.createElement("div",{className:nt.usedMargin},r.createElement("div",null,at),r.createElement("span",null,Object(De.j)(this.props.usedMargin))),r.createElement("div",{className:nt.availableMargin},r.createElement("div",null,lt),r.createElement("span",null,Object(De.j)(this.props.availableMargin)))),r.createElement("div",{className:nt.progressBar},r.createElement("div",{className:nt.track},r.createElement("div",{className:t,style:e}))))}}ct.contextType=b.f;var dt=s("k2TW");function pt(e){const t=e.hasMarginMeter?r.createElement(ct,{usedMargin:e.usedMargin,availableMargin:e.availableMargin,progress:e.marginRatio,wait:e.status===b.h.Wait}):void 0;return r.createElement("div",{className:dt.orderInfo},r.createElement("div",{className:dt.title},e.title),r.createElement("div",{className:dt.contentWrapper},t,r.createElement(E.a,{rows:e.infoTableData.rows,header:e.infoTableData.header,disabled:e.status===b.h.Wait,rightAlignedValues:!0})))}class ut extends r.PureComponent{constructor(e){super(e),this._callback=()=>this.forceUpdate()}componentDidMount(){this._subscribeToModel(this.props.model)}componentWillUnmount(){this._unsubscribeFromModel(this.props.model)}render(){const e=this.props.model,t=e.usedMargin().value(),s=e.availableMargin().value();return r.createElement(pt,{title:e.title(),hasMarginMeter:e.hasMarginMeter(),usedMargin:t,availableMargin:s,marginRatio:Object(De.e)(t,s),infoTableData:e.infoTableData().value(),status:this.props.status})}_subscribeToModel(e){e.availableMargin().subscribe(this._callback),e.usedMargin().subscribe(this._callback),e.infoTableData().subscribe(this._callback)}_unsubscribeFromModel(e){e.availableMargin().unsubscribe(this._callback),e.usedMargin().unsubscribe(this._callback),e.infoTableData().unsubscribe(this._callback)}}var ht=s("oiZD"),mt=s("zM7N"),bt=s("OOXv");function vt(e){const{imageBlack:t,image:s,controls:o,text:i,title:n}=e,a=Object(oe.a)({watchedValue:ht.watchedTheme});return r.createElement("div",{className:bt.messageBlock},r.createElement("div",{className:bt.image,dangerouslySetInnerHTML:{__html:void 0!==t&&a===mt.a.Dark?t:s}}),r.createElement("div",{className:bt.title},n),r.createElement("div",{className:bt.text,dangerouslySetInnerHTML:{__html:i||""}}),o&&r.createElement("div",{className:bt.controls},o))}var gt=s("ogJP"),_t=s("+Kd2"),ft=s("zS8N"),Ct=s("R1Qg"),wt=(s("ZYKY"),s("BJPy"));const kt=Object(p.getLogger)("Trading.OrderPanel"),Et=Object(n.t)("Quantity"),yt=Object(n.t)("Amount"),Pt=Object(n.t)("Non tradable symbol");Object(n.t)("Log In"),Object(n.t)("Connect to broker"),Object(n.t)("Log into your TradingView account to trade"),Object(n.t)("Log into your broker/exchange account to trade"),Object(n.t)("Sign up"),Object(n.t)("Connect");class Ot extends r.PureComponent{constructor(e){super(e),this._orderWidgetBlock=null,this._orderTicketBlock=null,this._button=null,this._resizeHandler=null,this._focusBlock=()=>{null!==this._orderWidgetBlock&&this._orderWidgetBlock.focus()},this._onLayoutResizeHandleMousedown=e=>{if(e.defaultPrevented||!e.cancelable)return;e.preventDefault();const t=Math.max(this._orderTicketBlock?this._orderTicketBlock.clientHeight:0,0);let s;s="touches"in e?e.touches[0].clientY:e.clientY;const r=e=>{let r;e.preventDefault(),r="touches"in e?e.touches[0].clientY:e.clientY;let o=t+(r-s);o<445&&(o=445),this._setOrderTicketHeight(o)},o=()=>{const{orderTicketHeight:e}=this.state;document.removeEventListener("mousemove",r),document.removeEventListener("touchmove",r),document.removeEventListener("mouseup",o),document.removeEventListener("touchend",o),void 0!==e&&0!==e&&Object(gt.isInteger)(e)&&c.setValue(h.a.PANEL_HEIGHT,e)};document.addEventListener("mousemove",r),document.addEventListener("touchmove",r,{passive:!1}),document.addEventListener("mouseup",o),document.addEventListener("touchend",o,{passive:!1})},this._setOrderWidgetRef=e=>{this._orderWidgetBlock=e},this._setOrderTicketRef=e=>{this._orderTicketBlock=e},this._setButtonRef=e=>{this._button=e},this._setResizeHandlerRef=e=>{this._resizeHandler=e},this._forceUpdateAndReCalculateBounds=()=>{this.forceUpdate((()=>this.props.popupController&&this.props.popupController.recalculateBounds()))},this._onSelectTab=e=>{this.props.model.orderType.setValue(e)},this._onStatusChange=e=>{var t;e===b.h.Wait&&(null===(t=this._orderWidgetBlock)||void 0===t?void 0:t.contains(document.activeElement))&&(u.isIE?HTMLElement.prototype.blur.call(document.activeElement):document.activeElement instanceof HTMLElement?document.activeElement.blur():kt.logWarn("Failed to deselect: active element is not HTMLElement")),this._callback()},this._onKeyDown=e=>{13===e.keyCode&&!1===this.props.model.disabled.value()&&this._button&&(this._button.focus(),e.defaultPrevented||this._button.click())},this._handleClickSignIn=()=>{showSignModal({source:"Trading panel",sourceMeta:"Chart"})},this._handleClickSignUp=()=>{showSignModal({mode:"signup",source:"Trading panel",sourceMeta:"Chart"})},this._selectBroker=()=>{this.props.model.noBroker&&this.props.model.selectBroker()},this._callback=()=>{this.forceUpdate()};const t=parseInt(c.getValue(h.a.PANEL_HEIGHT,""));this.state={orderTicketHeight:isNaN(t)?void 0:t,orderInfoAndSeparatorHeight:void 0}}componentDidMount(){this._subscribeToModel(this.props.model),this.props.settings.subscribe(this._forceUpdateAndReCalculateBounds),null!==this._resizeHandler&&(this._resizeHandler.addEventListener("mousedown",this._onLayoutResizeHandleMousedown,{passive:!1}),this._resizeHandler.addEventListener("touchstart",this._onLayoutResizeHandleMousedown,{passive:!1}))}componentDidUpdate(){var e;const{orderTicketHeight:t,orderInfoAndSeparatorHeight:s}=this.state,r=null===(e=this._orderWidgetBlock)||void 0===e?void 0:e.clientHeight;if(void 0!==r&&void 0!==t&&t!==r&&this._isOrderPreviewShown()&&(this._setOrderInfoAndSeparatorHeight(r-t),c.setValue(h.a.PANEL_HEIGHT,r),this._setOrderTicketHeight(r)),void 0!==r&&void 0!==t&&t===r&&this._isOrderInfoShown()&&void 0!==s){const e=r-s;this._setOrderTicketHeight(e),c.setValue(h.a.PANEL_HEIGHT,e)}}componentWillUnmount(){var e;const{orderTicketHeight:t,orderInfoAndSeparatorHeight:s}=this.state,r=null===(e=this._orderWidgetBlock)||void 0===e?void 0:e.clientHeight;void 0!==r&&void 0!==t&&t===r&&void 0!==s&&c.setValue(h.a.PANEL_HEIGHT,r-s),this._unsubscribeFromModel(this.props.model),this.props.settings.unsubscribe(this._forceUpdateAndReCalculateBounds),null!==this._resizeHandler&&(this._resizeHandler.removeEventListener("mousedown",this._onLayoutResizeHandleMousedown),this._resizeHandler.removeEventListener("touchstart",this._onLayoutResizeHandleMousedown))}render(){const{model:e,settings:t,trackEvent:s}=this.props,{orderTicketHeight:o}=this.state,i=this.context.mode,n=e.status.value(),c=n!==b.h.Wait?this.props.focus:void 0,d=this._quantityTitle(e),p=this._areBracketsSupported(e)||this._isCryptoBracketsSupported(e),u=this._isDurationSupported(e),h=this._isAmountEditable(e),v=a(wt.doneButton,i===b.g.Panel&&wt["button--panel"],(!u||2===e.orderType.value())&&wt.doneButtonBeforeBrackets),g=a(wt.header,e&&e.headerModel&&e.headerModel.hasBackButton.value()&&wt.headerWithBackButton),_={value:t.value(),setValue:t.setValue.bind(t)},f=e.limitPriceModel&&e.limitPriceModel.isRelativePriceControlHidden||e.stopPriceModel&&e.stopPriceModel.isRelativePriceControlHidden,C=e.tradableSolution?r.createElement(k.a,{onClick:e.tradableSolution.apply},e.tradableSolution.title):void 0,E=r.createElement(vt,{image:ft,imageBlack:Ct,title:Pt,text:e.notTradableText,controls:C}),y={};i===b.g.Panel&&null!==e.orderInfoModel&&void 0!==o&&0!==o&&(y.height=o),e.needSignIn,e.noBroker,e.notTradableText&&E&&(y.flexGrow=1);const P=r.createElement(r.Fragment,null,e.sideModel&&r.createElement("div",{className:wt.side},r.createElement(w,{model:e.sideModel,disabled:e.existingOrder})),e.limitPriceModel&&e.stopPriceModel&&r.createElement(R,{activeTab:e.orderType.value(),disabled:e.existingOrder,supportMarketOrders:e.supportMarketOrders,supportLimitOrders:e.supportLimitOrders,supportStopOrders:e.supportStopOrders,supportStopLimitOrders:e.supportStopLimitOrders,onSelect:this._onSelectTab}),e.limitPriceModel&&e.stopPriceModel&&e.quantityModel&&r.createElement("div",{className:a(wt.centerBlock)},2!==e.orderType.value()&&r.createElement(tt,{model:e,trackEvent:s,focus:c}),2!==e.orderType.value()&&r.createElement("div",{className:wt.separator}),h?r.createElement("div",{className:wt.quantityBracketsWrapper},r.createElement(r.Fragment,null,r.createElement("div",{className:wt.title},d),e.supportCryptoExchangeOrderTicket?r.createElement(he,{model:e.quantityModel,className:wt.controlGroup,focus:c}):r.createElement(te,{model:e.quantityModel,className:wt.controlGroup,symbolHasLotSize:e.symbolHasLotSize,trackEvent:s,focus:c})),p&&r.createElement(r.Fragment,null,r.createElement("div",{className:wt.separator}),r.createElement(j.a,{model:e,focus:c}))):p&&r.createElement("div",{className:wt["brackets-wrapper"]},r.createElement("div",{className:wt.separator}),r.createElement(j.a,{model:e,focus:c})),Array.isArray(e.customFieldModels.value())&&e.customFieldModels.value().length>0&&r.createElement("div",{className:a(wt.customFieldsWrapper,p&&wt.customFieldWrapperBeforeBrackets)},this._generateCustomFields(e),r.createElement("div",{className:wt.separator})),u&&e.durationModel&&(e.durationForMarketOrders||2!==e.orderType.value())&&r.createElement("div",{className:wt.duration},r.createElement(it,{onClose:this._focusBlock,model:e.durationModel}))),e.buttonModel&&r.createElement("div",{className:v},r.createElement(st.a,{model:e,reference:this._setButtonRef})));return r.createElement(Z.a.Provider,{value:_},r.createElement("div",{className:a(wt.orderWidget),onKeyDown:this._onKeyDown,tabIndex:-1,ref:this._setOrderWidgetRef},r.createElement("div",{ref:this._setOrderTicketRef,className:wt.orderTicket,style:y},e.headerModel&&r.createElement("div",{className:g},r.createElement(m.a,{model:e.headerModel,showQuantityInsteadOfAmount:e.showQuantityInsteadOfAmount,currency:e.currency,supportBrackets:e.supportBrackets,supportOrderPreview:e.supportPlaceOrderPreview||e.supportModifyOrderPreview,hideRelativePriceSettingsItem:f,mode:i})),e.needSignIn&&void 0,e.noBroker&&void 0,e.notTradableText&&E,this._isOrderPreviewShown()?r.createElement(N,{model:Object(l.ensureNotNull)(e.orderPreviewModel),side:e.side(),loading:e.loading}):P),this._isOrderInfoShown()&&r.createElement("div",{className:wt.orderInfoAndSeparator},r.createElement("div",{className:wt.separator}),r.createElement("div",{className:wt.resizeHandler,ref:this._setResizeHandlerRef}),r.createElement("div",{className:wt.orderInfo,"data-name":"order-info"},r.createElement(ut,{model:Object(l.ensureNotNull)(e.orderInfoModel),status:n})))))}_setOrderTicketHeight(e){null!==this._orderTicketBlock&&this.setState({orderTicketHeight:e})}_setOrderInfoAndSeparatorHeight(e){this.setState({orderInfoAndSeparatorHeight:e})}_subscribeToModel(e){e.orderType.subscribe(this._forceUpdateAndReCalculateBounds),e.status.subscribe(this._onStatusChange),e.customFieldModels.subscribe(this._callback)}_unsubscribeFromModel(e){e.orderType.unsubscribe(this._forceUpdateAndReCalculateBounds),e.status.unsubscribe(this._onStatusChange),e.customFieldModels.unsubscribe(this._callback)}_quantityTitle(e){return e.showQuantityInsteadOfAmount?Et:yt}_areBracketsSupported(e){const t=Boolean(2===this.props.model.orderType.value()&&e.supportMarketBrackets||2!==this.props.model.orderType.value());return Boolean(e.supportBrackets&&t)}_isDurationSupported(e){return Boolean(e.durationModel&&(!e.existingOrder||e.existingOrder&&e.supportModifyDuration))}_isCryptoBracketsSupported(e){return Boolean(e.supportCryptoBrackets)}_isAmountEditable(e){return!1===e.existingOrder||Boolean(e.existingOrder&&e.supportEditAmount)}_generateCustomFields(e){const t=this._areBracketsSupported(e),s=this._isDurationSupported(e);return Object(_t.a)(e.customFieldModels.value(),!0===t||!1===s,e.status,wt.customField,this._focusBlock)}_isOrderPreviewShown(){const{model:e}=this.props;return e.status.value()===b.h.Preview&&null!==e.orderPreviewModel}_isOrderInfoShown(){const{model:e}=this.props,t=e.status.value();return this.context.mode===b.g.Panel&&null!==e.orderInfoModel&&t!==b.h.Preview&&d.enabled("order_info")}}Ot.contextType=b.f;var Mt=s("bWo7");class St extends r.PureComponent{constructor(e){super(e),this._onKeyDown=e=>{27===e.keyCode&&this.props.onCancel&&this.props.onCancel()}}render(){return r.createElement("div",{className:Mt.orderPanel,onKeyDown:this._onKeyDown},r.createElement(Ot,{model:this.props.model,settings:this.props.settings,key:this.props.model.id,trackEvent:this.props.trackEvent,focus:this.props.focus}))}}var Nt=s("AVTG"),Dt=s("WXjp"),Tt=s("pafz"),Bt=s("H3n3");class It extends r.PureComponent{constructor(e){super(e),this._renderWidget=e=>r.createElement(Ot,{settings:Object(l.ensureDefined)(this.props.settings),model:Object(l.ensureNotNull)(this.props.model),key:Object(l.ensureNotNull)(this.props.model).id,trackEvent:this.props.trackEvent,focus:this.props.focus,popupController:e}),this._onKeyDown=e=>{27===e.keyCode&&this.props.onClose&&this.props.onClose()}}render(){return r.createElement(Dt.a,{className:Bt.dialog,isOpened:this.props.isOpened,onKeyDown:this._onKeyDown},r.createElement(Nt.a,{className:Bt.dialogBody},this.props.model&&this.props.settings&&r.createElement(Tt.a.Consumer,null,this._renderWidget)))}}s.d(t,"showOrderDialog",(function(){return Ft})),s.d(t,"closeOrderDialog",(function(){return Ht})),s.d(t,"mountOrderPanel",(function(){return Rt})),s.d(t,"unmountOrderPanel",(function(){return jt}));let xt=null;function Ft(e,t,s,r){Ht();const o={model:e,settings:t,isOpened:!0,onClose:()=>{Ht(),e.onDoneButtonClicked.reject(),o.model.headerModel&&(o.model.headerModel.pinButtonClicked().unsubscribe(null,o.onClose),o.model.headerModel.closeButtonClicked().unsubscribe(null,o.onClose)),xt&&i.unmountComponentAtNode(xt)},trackEvent:r,focus:s||At(e.orderType.value())};Vt(o),o.model.headerModel&&(o.model.headerModel.pinButtonClicked().subscribe(null,o.onClose),o.model.headerModel.closeButtonClicked().subscribe(null,o.onClose))}function Ht(){Vt({model:null,isOpened:!1})}function Vt(e){null===xt&&(xt=document.createElement("div"),document.body.appendChild(xt));const t=r.createElement(b.f.Provider,{value:{mode:e.model&&e.model.mode.value()||b.g.Panel,supportTrailingStop:Boolean(e.model&&e.model.supportTrailingStop)}},r.createElement(It,Object.assign({},e)));i.render(t,xt)}function Rt(e,t,s,o,n,a){jt(s);const l={model:e,settings:t,onClose:()=>{jt(s),l.model.headerModel&&(l.model.headerModel.pinButtonClicked().unsubscribe(null,l.onClose),l.model.headerModel.closeButtonClicked().unsubscribe(null,l.onClose))},onCancel:()=>{l.model.headerModel&&l.model.headerModel.cancel()},trackEvent:a,focus:n||At(e.orderType.value())};l.model.headerModel&&(l.model.headerModel.pinButtonClicked().subscribe(null,l.onClose),l.model.headerModel.closeButtonClicked().subscribe(null,l.onClose)),function(e,t,s){const o=r.createElement(b.f.Provider,{value:{resizerWidth:s||null,mode:e.model.mode.value(),supportTrailingStop:Boolean(e.model.supportTrailingStop)}},r.createElement(St,Object.assign({},e)));i.render(o,t)}(l,s,o)}function jt(e){i.unmountComponentAtNode(e)}function At(e){let t;switch(e){case 2:t=5;break;case 1:case 4:t=1;break;case 3:t=2;break;default:t=void 0}return t}},K3s3:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return l})),s.d(t,"d",(function(){return c})),s.d(t,"c",(function(){return d}));var r=s("q1tI"),o=s("TSYQ"),i=s("Eyy1"),n=s("5o6O");const a=n;function l(e){const t=o(e.className,n.tab,{[n.active]:e.isActive,[n.disabled]:e.isDisabled,[n.defaultCursor]:!!e.shouldUseDefaultCursor,[n.noBorder]:!!e.noBorder});return r.createElement("div",{className:t,onClick:e.onClick,ref:e.reference},e.children)}function c(e){return class extends r.PureComponent{constructor(){super(...arguments),this.activeTab={current:null}}componentDidUpdate(){Object(i.ensureNotNull)(this._slider).style.transition="transform 350ms",this._componentDidUpdate()}componentDidMount(){this._componentDidUpdate()}render(){const{className:t}=this.props,s=this._generateTabs();return r.createElement("div",{className:o(t,n.tabs),"data-name":this.props["data-name"]},s,r.createElement(e,{reference:e=>{this._slider=e}}))}_generateTabs(){return this.activeTab.current=null,r.Children.map(this.props.children,(e=>{const t=e,s=Boolean(t.props.isActive),o={reference:e=>{s&&(this.activeTab.current=e),t.props.reference&&t.props.reference(e)}};return r.cloneElement(t,o)}))}_componentDidUpdate(){const e=Object(i.ensureNotNull)(this._slider).style;if(this.activeTab.current){const t=this.activeTab.current.offsetWidth,s=this.activeTab.current.offsetLeft;e.transform=`translateX(${s}px)`,e.width=t+"px",e.opacity="1"}else e.opacity="0"}}}const d=c((function(e){return r.createElement("div",{className:n.slider,ref:e.reference})}))},L2Pi:function(e,t,s){e.exports={content:"content-1RMsqC2g",separator:"separator-1RMsqC2g",controls:"controls-1RMsqC2g",button:"button-1RMsqC2g",warning:"warning-1RMsqC2g",warning__icon:"warning__icon-1RMsqC2g",error:"error-1RMsqC2g"}},O8MG:function(e,t,s){e.exports={progressBarContainer:"progressBarContainer-323y76OT",marginsContainer:"marginsContainer-323y76OT",usedMargin:"usedMargin-323y76OT",availableMargin:"availableMargin-323y76OT",progressBar:"progressBar-323y76OT",track:"track-323y76OT",progress:"progress-323y76OT",fullFilled:"fullFilled-323y76OT",marginOverflow:"marginOverflow-323y76OT",wait:"wait-323y76OT"}},OOXv:function(e,t,s){e.exports={messageBlock:"messageBlock-2oxiSSwZ",image:"image-2oxiSSwZ",title:"title-2oxiSSwZ",text:"text-2oxiSSwZ",controls:"controls-2oxiSSwZ"}},R1Qg:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120" fill="none"><g clip-path="url(#adgm1bxe3)"><path fill="#2A2E39" fill-rule="evenodd" clip-rule="evenodd" d="M103.54 47.03a4.78 4.78 0 0 0-1.73 4.07c.98 10.62-2.18 22.78-9.61 33.6-14.03 20.43-37.97 28.36-53.47 17.72s-16.7-35.83-2.67-56.26c8.1-11.81 19.52-19.44 30.71-21.73a4.79 4.79 0 0 0 3.4-2.8c.64-1.47 1.43-2.9 2.38-4.28 7.3-10.5 21.14-13.47 30.93-6.62 9.78 6.85 11.8 20.91 4.52 31.42-1.3 1.87-2.8 3.5-4.46 4.88z"/><rect width="80" height="58" fill="#121722" stroke="#B2B5BE" stroke-width="2" rx="7" x="20" y="26"/><path stroke="#B2B5BE" stroke-linecap="round" stroke-width="2" d="M6 90h106"/><path fill="#B2B5BE" fill-rule="evenodd" clip-rule="evenodd" d="M48.53 50.6L52 54.05 53.06 53l-3.47-3.47 3.47-3.47L52 45l-3.47 3.47L45.06 45 44 46.06l3.47 3.47L44 53l1.06 1.06 3.47-3.47zM72.53 50.6L76 54.05 77.06 53l-3.47-3.47 3.47-3.47L76 45l-3.47 3.47L69.06 45 68 46.06l3.47 3.47L68 53l1.06 1.06 3.47-3.47z"/><path stroke="#B2B5BE" stroke-width="1.5" d="M51 64.5h17"/></g></svg>'},R36R:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><g fill="currentColor" stroke="none"><path d="M3 10h18v2H3z"/><path d="M11 2h2v18h-2z"/></g></svg>'},RRM5:function(e,t,s){e.exports={relativePriceDropdownItem:"relativePriceDropdownItem-DyjCJNlo",price:"price-DyjCJNlo"}},TZdo:function(e,t,s){e.exports={tabsContainer:"tabsContainer-3mSbLjkc",moreThen3Types:"moreThen3Types-3mSbLjkc",separator:"separator-3mSbLjkc"}},V1pJ:function(e,t,s){e.exports={wrapper:"wrapper-1CVEPTwn",control:"control-1CVEPTwn",label:"label-1CVEPTwn",units:"units-1CVEPTwn",single:"single-1CVEPTwn",calculatorIcon:"calculatorIcon-1CVEPTwn",isOpened:"isOpened-1CVEPTwn",risk:"risk-1CVEPTwn",wait:"wait-1CVEPTwn"}},"VGf/":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 7" width="11" height="7" fill="none"><path stroke="currentColor" stroke-width="1.3" d="M.5 1.5l5 4 5-4"/></svg>'},WUqb:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return a}));var r,o=s("mrSG"),i=s("q1tI");!function(e){e[e.Enter=13]="Enter",e[e.Space=32]="Space",e[e.Backspace=8]="Backspace",e[e.DownArrow=40]="DownArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.LeftArrow=37]="LeftArrow",e[e.Escape=27]="Escape",e[e.Tab=9]="Tab"}(r||(r={}));class n{constructor(){this._handlers=new Map}registerHandlers(e){Object.keys(e).forEach((t=>{const s=parseInt(t);let r=e[s];if(Array.isArray(r)||(r=[r]),this._handlers.has(s)){const e=this._handlers.get(s);e&&r.forEach((t=>e.add(t)))}else this._handlers.set(s,new Set(r))}))}unregisterHandlers(e){Object.keys(e).forEach((t=>{const s=parseInt(t);let r=e[s];if(Array.isArray(r)||(r=[r]),this._handlers.has(s)){const e=this._handlers.get(s);e&&r.forEach((t=>e.delete(t)))}}))}deleteAllHandlers(){this._handlers=new Map}registerHandler(e,t){if(this._handlers.has(e)){const s=this._handlers.get(e);s&&s.add(t)}else this._handlers.set(e,new Set([t]))}unregisterHandler(e,t){if(this._handlers.has(e)){const s=this._handlers.get(e);s&&s.delete(t)}}listen(e){if(this._handlers.has(e.keyCode)){const t=this._handlers.get(e.keyCode);t&&t.forEach((t=>t(e)))}}}function a(e){var t,s,r;return(r=class extends i.PureComponent{constructor(e){super(e),this._keyboardListener=new n,this._listener=this._keyboardListener.listen.bind(this._keyboardListener)}componentDidMount(){this._registerHandlers(this.props.keyboardEventHandlers)}componentDidUpdate(e){e.keyboardEventHandlers!==this.props.keyboardEventHandlers&&this._registerHandlers(this.props.keyboardEventHandlers)}render(){const t=this.props,{keyboardEventHandlers:s}=t,r=Object(o.a)(t,["keyboardEventHandlers"]);return i.createElement(e,Object.assign({},r,{onKeyDown:this._listener}))}_registerHandlers(e){e&&(this._keyboardListener.deleteAllHandlers(),this._keyboardListener.registerHandlers(e))}}).displayName=`KeyboardListener(${null!==(s=null!==(t=e.displayName)&&void 0!==t?t:e.name)&&void 0!==s?s:"Component"})`,r}},"X6/E":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 19" width="15" height="19"><path fill="currentColor" d="M2 0h11a2 2 0 0 1 2 2v15a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm-8 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm-8 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM3 2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3z"/></svg>'},ZLno:function(e,t,s){"use strict";s.d(t,"a",(function(){return u})),s.d(t,"b",(function(){return h}));var r=s("mrSG"),o=s("q1tI"),i=s.n(o),n=s("TSYQ"),a=s.n(n),l=s("Iivm"),c=s("VGf/"),d=s("lVA2");function p(e){const{isDropped:t}=e;return i.a.createElement(l.a,{className:a()(d.icon,t&&d.dropped),icon:c})}function u(e){const{className:t,disabled:s,isDropped:r}=e;return i.a.createElement("span",{className:a()(d.button,s&&d.disabled,t)},i.a.createElement(p,{isDropped:r}))}function h(e){const{className:t,tabIndex:s=-1,disabled:o,isDropped:n}=e,l=Object(r.a)(e,["className","tabIndex","disabled","isDropped"]);return i.a.createElement("button",Object.assign({},l,{type:"button",tabIndex:s,disabled:o,className:a()(d.button,o&&d.disabled,t)}),i.a.createElement(p,{isDropped:n}))}},ZYKY:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 76" width="132" height="76" fill="none"><mask fill="#fff" id="a"><path fill-rule="evenodd" clip-rule="evenodd" d="M114 76H24C10.745 76 0 65.255 0 52s10.745-24 24-24l.247.002C26.215 12.214 39.681 0 56 0c14.582 0 26.886 9.753 30.744 23.093A21.896 21.896 0 0 1 98 20c11.821 0 21.464 9.323 21.979 21.017C126.981 43.48 132 50.155 132 58c0 9.265-7 16.895-16 17.89V76h-2z"/></mask><path fill="currentColor" d="M24 28l.012-2H24v2zm.247.002l-.012 2 1.777.01.22-1.763-1.985-.247zm62.497-4.909l-1.921.556.72 2.49 2.226-1.328-1.025-1.718zm33.235 17.924l-1.999.087.06 1.35 1.274.45.665-1.887zM116 75.89l-.22-1.988-1.78.197v1.791h2zm0 .11v2h2v-2h-2zm-2-2H24v4h90v-4zm-90 0C11.85 74 2 64.15 2 52h-4c0 14.36 11.64 26 26 26v-4zM2 52c0-12.15 9.85-22 22-22v-4C9.64 26-2 37.64-2 52h4zm21.988-22l.247.001.024-4-.247-.001-.024 4zm2.244-1.751C28.077 13.45 40.702 2 56 2v-4C38.66-2 24.354 10.98 22.263 27.754l3.969.495zM56 2c13.668 0 25.206 9.142 28.823 21.649l3.842-1.111C84.567 8.365 71.497-2 56-2v4zm31.769 22.81A19.896 19.896 0 0 1 98 22v-4a23.896 23.896 0 0 0-12.28 3.376l2.049 3.435zM98 22c10.745 0 19.513 8.475 19.98 19.105l3.997-.176C121.415 28.17 110.896 18 98 18v4zm21.314 20.903C125.541 45.095 130 51.03 130 58h4c0-8.72-5.58-16.132-13.357-18.87l-1.329 3.773zM130 58c0 8.234-6.222 15.018-14.22 15.902l.44 3.976C126.222 76.772 134 68.296 134 58h-4zm-16 17.89V76h4v-.11h-4zm2-1.89h-2v4h2v-4z" mask="url(#a)"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M60 51.659a6 6 0 1 0-4 0V57a2 2 0 0 0 4 0v-5.341z"/></svg>'},bWo7:function(e,t,s){e.exports={panelContainer:"panelContainer-3pDzJA5U",orderPanel:"orderPanel-3pDzJA5U"}},eGEP:function(e,t,s){e.exports={wrapper:"wrapper-2GJQ29Cb",label:"label-2GJQ29Cb",wait:"wait-2GJQ29Cb",popupMenuItem:"popupMenuItem-2GJQ29Cb",value:"value-2GJQ29Cb"}},gla1:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var r=s("q1tI");const o=()=>{const[,e]=Object(r.useReducer)(((e,t)=>e+1),0);return e}},h6kW:function(e,t,s){"use strict";var r=s("q1tI"),o=s.n(r),i=s("nc0P"),n=s("0rc0"),a=s("9dlw"),l=s("DTHj"),c=s("nPPD"),d=s("Iivm"),p=s("j0sD"),u=s("xx2B"),h=s("jjUP"),m=s("/3z9"),b=s("R36R"),v=s("9E2J"),g=s("0oEL"),_=s("sgDj"),f=s("schn");function C(e){const[t,s]=Object(r.useState)(!1),[i,n]=Object(r.useState)(void 0),[a,l]=Object(r.useState)(!1),c=o.a.createElement(d.a,{className:f.buttonIcon,icon:v}),C=o.a.createElement(d.a,{className:f.buttonIcon,icon:b}),w=o.a.createElement(d.a,{className:f.buttonIcon,icon:g}),k=o.a.createElement(d.a,{className:f.buttonIcon,icon:_}),E=Object(r.useCallback)((t=>{const r={min:e.min,max:e.max,step:e.step},o=Object(h.c)(r,t),i=a||o.res,l=a?void 0:o.msg;s(i),n(l)}),[a,e.min,e.max,e.step]);return Object(r.useEffect)((()=>{E(e.valueInput)}),[E,e.valueInput]),o.a.createElement("div",{className:f.calculator,tabIndex:-1,ref:e.reference,onFocus:e.onFocus,onKeyDown:s=>{e.valueInput&&!t&&13===Object(m.hashFromEvent)(s)&&e.onClose()}},e.withInput&&o.a.createElement("div",{className:f.calculator__inputBorder},o.a.createElement(u.a,{className:f.calculator__input,inputClassName:f.calculator__innerInput,borderStyle:"none",value:e.valueInput,mode:"float",error:t,errorMessage:i,errorHandler:function(e){l(e)},onValueChange:e.onChangeValueInput})),o.a.createElement("div",{className:f.calculator__btns},o.a.createElement(p.a,{value:-e.step,type:p.b.IncDec,icon:c,onClick:e.onClick}),o.a.createElement(p.a,{value:e.step,type:p.b.IncDec,icon:C,onClick:e.onClick}),o.a.createElement(p.a,{value:1,type:p.b.PlusValue,onClick:e.onClick}),o.a.createElement(p.a,{value:5,type:p.b.PlusValue,onClick:e.onClick}),o.a.createElement(p.a,{value:25,type:p.b.PlusValue,onClick:e.onClick}),o.a.createElement(p.a,{value:100,type:p.b.PlusValue,onClick:e.onClick}),o.a.createElement(p.a,{value:500,type:p.b.PlusValue,onClick:e.onClick}),o.a.createElement(p.a,{value:1e3,type:p.b.PlusValue,onClick:e.onClick}),o.a.createElement(p.a,{value:0,type:p.b.Clear,icon:w,onClick:e.onClick}),o.a.createElement(p.a,{value:e.min||e.step,type:p.b.Default,icon:k,onClick:e.onClick})))}var w=s("48L3");s.d(t,"a",(function(){return E}));const k=Object(c.a)(l.a,{menuBox:w.menuBox});class E extends r.PureComponent{constructor(e){super(e),this._setCalcRef=e=>{this.props.calcReference&&this.props.calcReference(e)},this._calculatorStepHandler=(e,t)=>{const{min:s,max:r,trackEventTarget:o,trackEvent:i}=this.props;if(void 0!==i&&void 0!==o&&i(o,"Calculator Button",Object(n.u)(e,t)),t===p.b.Clear||t===p.b.Default)return this._updateValueByCalc(e);const a=this.props.valueGetter();if(null===a)return;let l=a+e;if((l<s||r<l)&&t!==p.b.IncDec)return this._updateValueByCalc(a);if(t===p.b.IncDec){if(l=this._calcByStep(a,e),r<l)return this._updateValueByCalc(r);if(l<s)return this._updateValueByCalc(s)}return this._updateValueByCalc(l)},this._updateValueByCalc=e=>{this._handlerValueInput(e),this.props.onValueChange(e,!0),this.props.calculatorUsedStat&&this.props.calculatorUsedStat()},this.state={valueInput:e.valueGetter()},this._handlerValueInput=this._handlerValueInput.bind(this)}render(){const{min:e,max:t,step:s,withInput:o,targetEl:i,position:n,onFocus:l,onClose:c}=this.props;return r.createElement(a.a,{isOpened:!0,onClose:c,position:n,doNotCloseOn:i,theme:k},r.createElement(C,{min:e,max:t,step:s,withInput:o,reference:this._setCalcRef,valueInput:this.state.valueInput,onChangeValueInput:this._updateValueByCalc,onClick:this._calculatorStepHandler,onFocus:l,onClose:c}))}_calcByStep(e,t){const s=Math.sign(t);t=Math.abs(t);const r=new i.Big(e),o=new i.Big(t),n=r.mod(o);let a;return a=n.eq(0)?r.plus(s*t):r.plus(s*t).plus((s>0?0:1)*t).minus(n),Number(a)}_handlerValueInput(e){this.setState({valueInput:e})}}},k2TW:function(e,t,s){e.exports={orderInfo:"orderInfo-JgOQ_pME",title:"title-JgOQ_pME",contentWrapper:"contentWrapper-JgOQ_pME",right:"right-JgOQ_pME"}},lVA2:function(e,t,s){e.exports={button:"button-14c_DKWJ",disabled:"disabled-14c_DKWJ",hidden:"hidden-14c_DKWJ",icon:"icon-14c_DKWJ",dropped:"dropped-14c_DKWJ"}},nPPD:function(e,t,s){"use strict";function r(e,t,s={}){const r=Object.assign({},t);for(const o of Object.keys(t)){const i=s[o]||o;i in e&&(r[o]=[e[i],t[o]].join(" "))}return r}function o(e,t,s={}){return Object.assign({},e,r(e,t,s))}s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return o}))},pKbH:function(e,t,s){e.exports={sideControl:"sideControl-1IVPJw8O",section:"section-1IVPJw8O",active:"active-1IVPJw8O",sell:"sell-1IVPJw8O",buy:"buy-1IVPJw8O",wait:"wait-1IVPJw8O",title:"title-1IVPJw8O",typeSide:"typeSide-1IVPJw8O",value:"value-1IVPJw8O",valueNoData:"valueNoData-1IVPJw8O",spread:"spread-1IVPJw8O",isLongValue:"isLongValue-1IVPJw8O",disable:"disable-1IVPJw8O"}},schn:function(e,t,s){e.exports={"css-value-calculator-width":"150px",calculator:"calculator-3AwNSLGC",calculator__inputBorder:"calculator__inputBorder-3AwNSLGC",calculator__input:"calculator__input-3AwNSLGC",calculator__input__innerInput:"calculator__input__innerInput-3AwNSLGC",calculator__btns:"calculator__btns-3AwNSLGC",buttonIcon:"buttonIcon-3AwNSLGC"}},sgDj:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><g fill="none"><path stroke="currentColor" stroke-width="2" d="M4 12.5A7.5 7.5 0 1 0 11.5 5h-6"/><path fill="currentColor" d="M3 5l4-4v8z"/></g></svg>'},tTUf:function(e,t,s){e.exports={absolutePriceControl:"absolutePriceControl-1bHFiJ4K",priceLabel:"priceLabel-1bHFiJ4K",openButton:"openButton-1bHFiJ4K",iconWrapper:"iconWrapper-1bHFiJ4K",openIcon:"openIcon-1bHFiJ4K",wait:"wait-1bHFiJ4K",opened:"opened-1bHFiJ4K",list:"list-1bHFiJ4K",item:"item-1bHFiJ4K",selected:"selected-1bHFiJ4K"}},vwxn:function(e,t,s){e.exports={relativePriceControl:"relativePriceControl-12qDA81C",pipsLabel:"pipsLabel-12qDA81C",openButton:"openButton-12qDA81C",iconWrapper:"iconWrapper-12qDA81C",openIcon:"openIcon-12qDA81C",wait:"wait-12qDA81C",opened:"opened-12qDA81C",list:"list-12qDA81C",item:"item-12qDA81C",selected:"selected-12qDA81C"}},zS8N:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120" fill="none"><g clip-path="url(#ayusj0oi1)"><path fill="#F0F3FA" fill-rule="evenodd" clip-rule="evenodd" d="M103.54 47.03a4.78 4.78 0 0 0-1.73 4.07c.98 10.62-2.18 22.78-9.61 33.6-14.03 20.43-37.97 28.36-53.47 17.72s-16.7-35.83-2.67-56.26c8.1-11.81 19.52-19.44 30.71-21.73a4.79 4.79 0 0 0 3.4-2.8c.64-1.47 1.43-2.9 2.38-4.28 7.3-10.5 21.14-13.47 30.93-6.62 9.78 6.85 11.8 20.91 4.52 31.42-1.3 1.87-2.8 3.5-4.46 4.88z"/><rect width="80" height="58" fill="#fff" stroke="#1E222D" stroke-width="2" rx="7" x="20" y="26"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="2" d="M6 90h106"/><path fill="#000" fill-rule="evenodd" clip-rule="evenodd" d="M48.53 50.6L52 54.05 53.06 53l-3.47-3.47 3.47-3.47L52 45l-3.47 3.47L45.06 45 44 46.06l3.47 3.47L44 53l1.06 1.06 3.47-3.47zm24 0L76 54.05 77.06 53l-3.47-3.47 3.47-3.47L76 45l-3.47 3.47L69.06 45 68 46.06l3.47 3.47L68 53l1.06 1.06 3.47-3.47z"/><path stroke="#000" stroke-width="1.5" d="M51 64.5h17"/></g></svg>'}}]);