import{logMessage}from"./helpers";export class Requester{constructor(e){e&&(this._headers=e)}sendRequest(e,s,t){if(void 0!==t){const e=Object.keys(t);0!==e.length&&(s+="?"),s+=e.map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e].toString())}`)).join("&")}logMessage("New request: "+s);const o={credentials:"same-origin"};return void 0!==this._headers&&(o.headers=this._headers),fetch(`${e}/${s}`,o).then((e=>e.text())).then((e=>JSON.parse(e)))}}